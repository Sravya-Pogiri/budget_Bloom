import {
  require_react
} from "./chunk-DRWLMN53.js";
import {
  __commonJS
} from "./chunk-G3PMV62Z.js";

// node_modules/@rive-app/canvas/rive.js
var require_rive = __commonJS({
  "node_modules/@rive-app/canvas/rive.js"(exports, module) {
    (function webpackUniversalModuleDefinition(root, factory) {
      if (typeof exports === "object" && typeof module === "object")
        module.exports = factory();
      else if (typeof define === "function" && define.amd)
        define([], factory);
      else if (typeof exports === "object")
        exports["rive"] = factory();
      else
        root["rive"] = factory();
    })(exports, () => {
      return (
        /******/
        (() => {
          "use strict";
          var __webpack_modules__ = [
            ,
            /* 1 */
            /***/
            ((__unused_webpack___webpack_module__, __webpack_exports__2, __webpack_require__2) => {
              __webpack_require__2.r(__webpack_exports__2);
              __webpack_require__2.d(__webpack_exports__2, {
                /* harmony export */
                "default": () => __WEBPACK_DEFAULT_EXPORT__
                /* harmony export */
              });
              var Rive = (() => {
                var _a;
                var _scriptName = typeof document != "undefined" ? (_a = document.currentScript) == null ? void 0 : _a.src : void 0;
                return (function(moduleArg = {}) {
                  var moduleRtn;
                  var m = moduleArg, ba, ca, da = new Promise((a, b) => {
                    ba = a;
                    ca = b;
                  }), ea = "object" == typeof window, fa = "function" == typeof importScripts;
                  function ha() {
                    function a(g) {
                      const k = d;
                      c = b = 0;
                      d = /* @__PURE__ */ new Map();
                      k.forEach((p) => {
                        try {
                          p(g);
                        } catch (n) {
                          console.error(n);
                        }
                      });
                      this.nb();
                      e && e.Pb();
                    }
                    let b = 0, c = 0, d = /* @__PURE__ */ new Map(), e = null, f = null;
                    this.requestAnimationFrame = function(g) {
                      b || (b = requestAnimationFrame(a.bind(this)));
                      const k = ++c;
                      d.set(k, g);
                      return k;
                    };
                    this.cancelAnimationFrame = function(g) {
                      d.delete(g);
                      b && 0 == d.size && (cancelAnimationFrame(b), b = 0);
                    };
                    this.Nb = function(g) {
                      f && (document.body.remove(f), f = null);
                      g || (f = document.createElement("div"), f.style.backgroundColor = "black", f.style.position = "fixed", f.style.right = 0, f.style.top = 0, f.style.color = "white", f.style.padding = "4px", f.innerHTML = "RIVE FPS", g = function(k) {
                        f.innerHTML = "RIVE FPS " + k.toFixed(1);
                      }, document.body.appendChild(f));
                      e = new function() {
                        let k = 0, p = 0;
                        this.Pb = function() {
                          var n = performance.now();
                          p ? (++k, n -= p, 1e3 < n && (g(1e3 * k / n), k = p = 0)) : (p = n, k = 0);
                        };
                      }();
                    };
                    this.Kb = function() {
                      f && (document.body.remove(f), f = null);
                      e = null;
                    };
                    this.nb = function() {
                    };
                  }
                  function ia(a) {
                    console.assert(true);
                    const b = /* @__PURE__ */ new Map();
                    let c = -Infinity;
                    this.push = function(d) {
                      d = d + ((1 << a) - 1) >> a;
                      b.has(d) && clearTimeout(b.get(d));
                      b.set(d, setTimeout(function() {
                        b.delete(d);
                        0 == b.length ? c = -Infinity : d == c && (c = Math.max(...b.keys()), console.assert(c < d));
                      }, 1e3));
                      c = Math.max(d, c);
                      return c << a;
                    };
                  }
                  const ja = m.onRuntimeInitialized;
                  m.onRuntimeInitialized = function() {
                    ja && ja();
                    let a = m.decodeAudio;
                    m.decodeAudio = function(e, f) {
                      e = a(e);
                      f(e);
                    };
                    let b = m.decodeFont;
                    m.decodeFont = function(e, f) {
                      e = b(e);
                      f(e);
                    };
                    const c = m.FileAssetLoader;
                    m.ptrToAsset = (e) => {
                      let f = m.ptrToFileAsset(e);
                      return f.isImage ? m.ptrToImageAsset(e) : f.isFont ? m.ptrToFontAsset(e) : f.isAudio ? m.ptrToAudioAsset(e) : f;
                    };
                    m.CustomFileAssetLoader = c.extend("CustomFileAssetLoader", { __construct: function({ loadContents: e }) {
                      this.__parent.__construct.call(this);
                      this.Db = e;
                    }, loadContents: function(e, f) {
                      e = m.ptrToAsset(e);
                      return this.Db(e, f);
                    } });
                    m.CDNFileAssetLoader = c.extend("CDNFileAssetLoader", { __construct: function() {
                      this.__parent.__construct.call(this);
                    }, loadContents: function(e) {
                      let f = m.ptrToAsset(e);
                      e = f.cdnUuid;
                      if ("" === e) {
                        return false;
                      }
                      (function(g, k) {
                        var p = new XMLHttpRequest();
                        p.responseType = "arraybuffer";
                        p.onreadystatechange = function() {
                          4 == p.readyState && 200 == p.status && k(p);
                        };
                        p.open("GET", g, true);
                        p.send(null);
                      })(f.cdnBaseUrl + "/" + e, (g) => {
                        f.decode(new Uint8Array(g.response));
                      });
                      return true;
                    } });
                    m.FallbackFileAssetLoader = c.extend("FallbackFileAssetLoader", { __construct: function() {
                      this.__parent.__construct.call(this);
                      this.jb = [];
                    }, addLoader: function(e) {
                      this.jb.push(e);
                    }, loadContents: function(e, f) {
                      for (let g of this.jb) {
                        if (g.loadContents(e, f)) {
                          return true;
                        }
                      }
                      return false;
                    } });
                    let d = m.computeAlignment;
                    m.computeAlignment = function(e, f, g, k, p = 1) {
                      return d.call(this, e, f, g, k, p);
                    };
                  };
                  const ka = "createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "), la = new function() {
                    function a() {
                      if (!b) {
                        let C = function(E, w, L) {
                          w = q.createShader(w);
                          q.shaderSource(w, L);
                          q.compileShader(w);
                          L = q.getShaderInfoLog(w);
                          if (0 < (L || "").length) {
                            throw L;
                          }
                          q.attachShader(E, w);
                        };
                        var l = document.createElement("canvas"), u = { alpha: 1, depth: 0, stencil: 0, antialias: 0, premultipliedAlpha: 1, preserveDrawingBuffer: 0, powerPreference: "high-performance", failIfMajorPerformanceCaveat: 0, enableExtensionsByDefault: 1, explicitSwapControl: 1, renderViaOffscreenBackBuffer: 1 };
                        let q;
                        if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                          if (q = l.getContext("webgl", u), c = 1, !q) {
                            return console.log("No WebGL support. Image mesh will not be drawn."), false;
                          }
                        } else {
                          if (q = l.getContext("webgl2", u)) {
                            c = 2;
                          } else {
                            if (q = l.getContext("webgl", u)) {
                              c = 1;
                            } else {
                              return console.log("No WebGL support. Image mesh will not be drawn."), false;
                            }
                          }
                        }
                        q = new Proxy(q, { get(E, w) {
                          if (E.isContextLost()) {
                            if (p || (console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ", w), p = true), "function" === typeof E[w]) {
                              return function() {
                              };
                            }
                          } else {
                            return "function" === typeof E[w] ? function(...L) {
                              return E[w].apply(E, L);
                            } : E[w];
                          }
                        }, set(E, w, L) {
                          if (E.isContextLost()) {
                            p || (console.error("Cannot render the mesh because the GL Context was lost. Tried to set property " + w), p = true);
                          } else {
                            return E[w] = L, true;
                          }
                        } });
                        d = Math.min(q.getParameter(q.MAX_RENDERBUFFER_SIZE), q.getParameter(q.MAX_TEXTURE_SIZE));
                        l = q.createProgram();
                        C(l, q.VERTEX_SHADER, "attribute vec2 vertex;\n                attribute vec2 uv;\n                uniform vec4 mat;\n                uniform vec2 translate;\n                varying vec2 st;\n                void main() {\n                    st = uv;\n                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);\n                }");
                        C(l, q.FRAGMENT_SHADER, "precision highp float;\n                uniform sampler2D image;\n                varying vec2 st;\n                void main() {\n                    gl_FragColor = texture2D(image, st);\n                }");
                        q.bindAttribLocation(l, 0, "vertex");
                        q.bindAttribLocation(l, 1, "uv");
                        q.linkProgram(l);
                        u = q.getProgramInfoLog(l);
                        if (0 < (u || "").trim().length) {
                          throw u;
                        }
                        e = q.getUniformLocation(l, "mat");
                        f = q.getUniformLocation(l, "translate");
                        q.useProgram(l);
                        q.bindBuffer(q.ARRAY_BUFFER, q.createBuffer());
                        q.enableVertexAttribArray(0);
                        q.enableVertexAttribArray(1);
                        q.bindBuffer(q.ELEMENT_ARRAY_BUFFER, q.createBuffer());
                        q.uniform1i(q.getUniformLocation(l, "image"), 0);
                        q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);
                        b = q;
                      }
                      return true;
                    }
                    let b = null, c = 0, d = 0, e = null, f = null, g = 0, k = 0, p = false;
                    a();
                    this.ac = function() {
                      a();
                      return d;
                    };
                    this.Jb = function(l) {
                      b.deleteTexture && b.deleteTexture(l);
                    };
                    this.Ib = function(l) {
                      if (!a()) {
                        return null;
                      }
                      const u = b.createTexture();
                      if (!u) {
                        return null;
                      }
                      b.bindTexture(b.TEXTURE_2D, u);
                      b.texImage2D(b.TEXTURE_2D, 0, b.RGBA, b.RGBA, b.UNSIGNED_BYTE, l);
                      b.texParameteri(b.TEXTURE_2D, b.TEXTURE_WRAP_S, b.CLAMP_TO_EDGE);
                      b.texParameteri(b.TEXTURE_2D, b.TEXTURE_WRAP_T, b.CLAMP_TO_EDGE);
                      b.texParameteri(b.TEXTURE_2D, b.TEXTURE_MAG_FILTER, b.LINEAR);
                      2 == c ? (b.texParameteri(b.TEXTURE_2D, b.TEXTURE_MIN_FILTER, b.LINEAR_MIPMAP_LINEAR), b.generateMipmap(b.TEXTURE_2D)) : b.texParameteri(b.TEXTURE_2D, b.TEXTURE_MIN_FILTER, b.LINEAR);
                      return u;
                    };
                    const n = new ia(8), t = new ia(8), x = new ia(10), y = new ia(10);
                    this.Mb = function(l, u, q, C, E) {
                      if (a()) {
                        var w = n.push(l), L = t.push(u);
                        if (b.canvas) {
                          if (b.canvas.width != w || b.canvas.height != L) {
                            b.canvas.width = w, b.canvas.height = L;
                          }
                          b.viewport(0, L - u, l, u);
                          b.disable(b.SCISSOR_TEST);
                          b.clearColor(0, 0, 0, 0);
                          b.clear(b.COLOR_BUFFER_BIT);
                          b.enable(b.SCISSOR_TEST);
                          q.sort((H, aa) => aa.ub - H.ub);
                          w = x.push(C);
                          g != w && (b.bufferData(b.ARRAY_BUFFER, 8 * w, b.DYNAMIC_DRAW), g = w);
                          w = 0;
                          for (var R of q) {
                            b.bufferSubData(b.ARRAY_BUFFER, w, R.Sa), w += 4 * R.Sa.length;
                          }
                          console.assert(w == 4 * C);
                          for (var W of q) {
                            b.bufferSubData(b.ARRAY_BUFFER, w, W.Ab), w += 4 * W.Ab.length;
                          }
                          console.assert(w == 8 * C);
                          w = y.push(E);
                          k != w && (b.bufferData(b.ELEMENT_ARRAY_BUFFER, 2 * w, b.DYNAMIC_DRAW), k = w);
                          R = 0;
                          for (var pa of q) {
                            b.bufferSubData(b.ELEMENT_ARRAY_BUFFER, R, pa.indices), R += 2 * pa.indices.length;
                          }
                          console.assert(R == 2 * E);
                          pa = 0;
                          W = true;
                          w = R = 0;
                          for (const H of q) {
                            H.image.Ia != pa && (b.bindTexture(b.TEXTURE_2D, H.image.Ha || null), pa = H.image.Ia);
                            H.fc ? (b.scissor(H.Ya, L - H.Za - H.ib, H.tc, H.ib), W = true) : W && (b.scissor(0, L - u, l, u), W = false);
                            q = 2 / l;
                            const aa = -2 / u;
                            b.uniform4f(e, H.ga[0] * q * H.za, H.ga[1] * aa * H.Aa, H.ga[2] * q * H.za, H.ga[3] * aa * H.Aa);
                            b.uniform2f(f, H.ga[4] * q * H.za + q * (H.Ya - H.bc * H.za) - 1, H.ga[5] * aa * H.Aa + aa * (H.Za - H.cc * H.Aa) + 1);
                            b.vertexAttribPointer(0, 2, b.FLOAT, false, 0, w);
                            b.vertexAttribPointer(1, 2, b.FLOAT, false, 0, w + 4 * C);
                            b.drawElements(b.TRIANGLES, H.indices.length, b.UNSIGNED_SHORT, R);
                            w += 4 * H.Sa.length;
                            R += 2 * H.indices.length;
                          }
                          console.assert(w == 4 * C);
                          console.assert(R == 2 * E);
                        }
                      }
                    };
                    this.canvas = function() {
                      return a() && b.canvas;
                    };
                  }(), ma = m.onRuntimeInitialized;
                  m.onRuntimeInitialized = function() {
                    function a(r) {
                      switch (r) {
                        case n.srcOver:
                          return "source-over";
                        case n.screen:
                          return "screen";
                        case n.overlay:
                          return "overlay";
                        case n.darken:
                          return "darken";
                        case n.lighten:
                          return "lighten";
                        case n.colorDodge:
                          return "color-dodge";
                        case n.colorBurn:
                          return "color-burn";
                        case n.hardLight:
                          return "hard-light";
                        case n.softLight:
                          return "soft-light";
                        case n.difference:
                          return "difference";
                        case n.exclusion:
                          return "exclusion";
                        case n.multiply:
                          return "multiply";
                        case n.hue:
                          return "hue";
                        case n.saturation:
                          return "saturation";
                        case n.color:
                          return "color";
                        case n.luminosity:
                          return "luminosity";
                      }
                    }
                    function b(r) {
                      return "rgba(" + ((16711680 & r) >>> 16) + "," + ((65280 & r) >>> 8) + "," + ((255 & r) >>> 0) + "," + ((4278190080 & r) >>> 24) / 255 + ")";
                    }
                    function c() {
                      0 < L.length && (la.Mb(w.drawWidth(), w.drawHeight(), L, R, W), L = [], W = R = 0, w.reset(512, 512));
                      for (const r of E) {
                        for (const v of r.H) {
                          v();
                        }
                        r.H = [];
                      }
                      E.clear();
                    }
                    ma && ma();
                    var d = m.RenderPaintStyle;
                    const e = m.RenderPath, f = m.RenderPaint, g = m.Renderer, k = m.StrokeCap, p = m.StrokeJoin, n = m.BlendMode, t = d.fill, x = d.stroke, y = m.FillRule.evenOdd;
                    let l = 1;
                    var u = m.RenderImage.extend("CanvasRenderImage", { __construct: function({ ka: r, va: v } = {}) {
                      this.__parent.__construct.call(this);
                      this.Ia = l;
                      l = l + 1 & 2147483647 || 1;
                      this.ka = r;
                      this.va = v;
                    }, __destruct: function() {
                      this.Ha && (la.Jb(this.Ha), URL.revokeObjectURL(this.Va));
                      this.__parent.__destruct.call(this);
                    }, decode: function(r) {
                      var v = this;
                      v.va && v.va(v);
                      var F = new Image();
                      v.Va = URL.createObjectURL(new Blob([r], { type: "image/png" }));
                      F.onload = function() {
                        v.Cb = F;
                        v.Ha = la.Ib(F);
                        v.size(F.width, F.height);
                        v.ka && v.ka(v);
                      };
                      F.src = v.Va;
                    } }), q = e.extend("CanvasRenderPath", { __construct: function() {
                      this.__parent.__construct.call(this);
                      this.T = new Path2D();
                    }, rewind: function() {
                      this.T = new Path2D();
                    }, addPath: function(r, v, F, I, B, G, J) {
                      var K = this.T, Z = K.addPath;
                      r = r.T;
                      const S = new DOMMatrix();
                      S.a = v;
                      S.b = F;
                      S.c = I;
                      S.d = B;
                      S.e = G;
                      S.f = J;
                      Z.call(K, r, S);
                    }, fillRule: function(r) {
                      this.Ua = r;
                    }, moveTo: function(r, v) {
                      this.T.moveTo(r, v);
                    }, lineTo: function(r, v) {
                      this.T.lineTo(r, v);
                    }, cubicTo: function(r, v, F, I, B, G) {
                      this.T.bezierCurveTo(r, v, F, I, B, G);
                    }, close: function() {
                      this.T.closePath();
                    } }), C = f.extend("CanvasRenderPaint", { color: function(r) {
                      this.Wa = b(r);
                    }, thickness: function(r) {
                      this.Fb = r;
                    }, join: function(r) {
                      switch (r) {
                        case p.miter:
                          this.Ga = "miter";
                          break;
                        case p.round:
                          this.Ga = "round";
                          break;
                        case p.bevel:
                          this.Ga = "bevel";
                      }
                    }, cap: function(r) {
                      switch (r) {
                        case k.butt:
                          this.Fa = "butt";
                          break;
                        case k.round:
                          this.Fa = "round";
                          break;
                        case k.square:
                          this.Fa = "square";
                      }
                    }, style: function(r) {
                      this.Eb = r;
                    }, blendMode: function(r) {
                      this.Bb = a(r);
                    }, clearGradient: function() {
                      this.ia = null;
                    }, linearGradient: function(r, v, F, I) {
                      this.ia = { wb: r, xb: v, bb: F, cb: I, Pa: [] };
                    }, radialGradient: function(r, v, F, I) {
                      this.ia = { wb: r, xb: v, bb: F, cb: I, Pa: [], $b: true };
                    }, addStop: function(r, v) {
                      this.ia.Pa.push({ color: r, stop: v });
                    }, completeGradient: function() {
                    }, draw: function(r, v, F) {
                      let I = this.Eb;
                      var B = this.Wa, G = this.ia;
                      r.globalCompositeOperation = this.Bb;
                      if (null != G) {
                        B = G.wb;
                        var J = G.xb;
                        const Z = G.bb;
                        var K = G.cb;
                        const S = G.Pa;
                        G.$b ? (G = Z - B, K -= J, B = r.createRadialGradient(B, J, 0, B, J, Math.sqrt(G * G + K * K))) : B = r.createLinearGradient(B, J, Z, K);
                        for (let Y = 0, T = S.length; Y < T; Y++) {
                          J = S[Y], B.addColorStop(J.stop, b(J.color));
                        }
                        this.Wa = B;
                        this.ia = null;
                      }
                      switch (I) {
                        case x:
                          r.strokeStyle = B;
                          r.lineWidth = this.Fb;
                          r.lineCap = this.Fa;
                          r.lineJoin = this.Ga;
                          r.stroke(v);
                          break;
                        case t:
                          r.fillStyle = B, r.fill(v, F);
                      }
                    } });
                    const E = /* @__PURE__ */ new Set();
                    let w = null, L = [], R = 0, W = 0;
                    var pa = m.CanvasRenderer = g.extend("Renderer", { __construct: function(r) {
                      this.__parent.__construct.call(this);
                      this.S = [1, 0, 0, 1, 0, 0];
                      this.B = r.getContext("2d");
                      this.Ta = r;
                      this.H = [];
                    }, save: function() {
                      this.S.push(...this.S.slice(this.S.length - 6));
                      this.H.push(this.B.save.bind(this.B));
                    }, restore: function() {
                      const r = this.S.length - 6;
                      if (6 > r) {
                        throw "restore() called without matching save().";
                      }
                      this.S.splice(r);
                      this.H.push(this.B.restore.bind(this.B));
                    }, transform: function(r, v, F, I, B, G) {
                      const J = this.S, K = J.length - 6;
                      J.splice(K, 6, J[K] * r + J[K + 2] * v, J[K + 1] * r + J[K + 3] * v, J[K] * F + J[K + 2] * I, J[K + 1] * F + J[K + 3] * I, J[K] * B + J[K + 2] * G + J[K + 4], J[K + 1] * B + J[K + 3] * G + J[K + 5]);
                      this.H.push(this.B.transform.bind(this.B, r, v, F, I, B, G));
                    }, rotate: function(r) {
                      const v = Math.sin(r);
                      r = Math.cos(r);
                      this.transform(r, v, -v, r, 0, 0);
                    }, _drawPath: function(r, v) {
                      this.H.push(v.draw.bind(v, this.B, r.T, r.Ua === y ? "evenodd" : "nonzero"));
                    }, _drawRiveImage: function(r, v, F, I) {
                      var B = r.Cb;
                      if (B) {
                        var G = this.B, J = a(F);
                        this.H.push(function() {
                          G.globalCompositeOperation = J;
                          G.globalAlpha = I;
                          G.drawImage(B, 0, 0);
                          G.globalAlpha = 1;
                        });
                      }
                    }, _getMatrix: function(r) {
                      const v = this.S, F = v.length - 6;
                      for (let I = 0; 6 > I; ++I) {
                        r[I] = v[F + I];
                      }
                    }, _drawImageMesh: function(r, v, F, I, B, G, J, K, Z, S, Y) {
                      v = this.B.canvas.width;
                      var T = this.B.canvas.height;
                      const Wb = S - K, Xb = Y - Z;
                      K = Math.max(K, 0);
                      Z = Math.max(Z, 0);
                      S = Math.min(S, v);
                      Y = Math.min(Y, T);
                      const Da = S - K, Ea = Y - Z;
                      console.assert(Da <= Math.min(Wb, v));
                      console.assert(Ea <= Math.min(Xb, T));
                      if (!(0 >= Da || 0 >= Ea)) {
                        S = Da < Wb || Ea < Xb;
                        v = Y = 1;
                        var qa = Math.ceil(Da * Y), ra = Math.ceil(Ea * v);
                        T = la.ac();
                        qa > T && (Y *= T / qa, qa = T);
                        ra > T && (v *= T / ra, ra = T);
                        w || (w = new m.DynamicRectanizer(T), w.reset(512, 512));
                        T = w.addRect(qa, ra);
                        0 > T && (c(), E.add(this), T = w.addRect(qa, ra), console.assert(0 <= T));
                        var Yb = T & 65535, Zb = T >> 16;
                        L.push({ ga: this.S.slice(this.S.length - 6), image: r, Ya: Yb, Za: Zb, bc: K, cc: Z, tc: qa, ib: ra, za: Y, Aa: v, Sa: new Float32Array(B), Ab: new Float32Array(G), indices: new Uint16Array(J), fc: S, ub: r.Ia << 1 | (S ? 1 : 0) });
                        R += B.length;
                        W += J.length;
                        var xa = this.B, kd = a(F);
                        this.H.push(function() {
                          xa.save();
                          xa.resetTransform();
                          xa.globalCompositeOperation = kd;
                          xa.globalAlpha = I;
                          const $b = la.canvas();
                          $b && xa.drawImage($b, Yb, Zb, qa, ra, K, Z, Da, Ea);
                          xa.restore();
                        });
                      }
                    }, _clipPath: function(r) {
                      this.H.push(this.B.clip.bind(this.B, r.T, r.Ua === y ? "evenodd" : "nonzero"));
                    }, clear: function() {
                      E.add(this);
                      this.H.push(this.B.clearRect.bind(this.B, 0, 0, this.Ta.width, this.Ta.height));
                    }, flush: function() {
                    }, translate: function(r, v) {
                      this.transform(1, 0, 0, 1, r, v);
                    } });
                    m.makeRenderer = function(r) {
                      const v = new pa(r), F = v.B;
                      return new Proxy(v, { get(I, B) {
                        if ("function" === typeof I[B]) {
                          return function(...G) {
                            return I[B].apply(I, G);
                          };
                        }
                        if ("function" === typeof F[B]) {
                          if (-1 < ka.indexOf(B)) {
                            throw Error("RiveException: Method call to '" + B + "()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");
                          }
                          return function(...G) {
                            v.H.push(F[B].bind(F, ...G));
                          };
                        }
                        return I[B];
                      }, set(I, B, G) {
                        if (B in F) {
                          return v.H.push(() => {
                            F[B] = G;
                          }), true;
                        }
                      } });
                    };
                    m.decodeImage = function(r, v) {
                      new u({ ka: v }).decode(r);
                    };
                    m.renderFactory = { makeRenderPaint: function() {
                      return new C();
                    }, makeRenderPath: function() {
                      return new q();
                    }, makeRenderImage: function() {
                      let r = aa;
                      return new u({ va: () => {
                        r.total++;
                      }, ka: () => {
                        r.loaded++;
                        if (r.loaded === r.total) {
                          const v = r.ready;
                          v && (v(), r.ready = null);
                        }
                      } });
                    } };
                    let H = m.load, aa = null;
                    m.load = function(r, v, F = true) {
                      const I = new m.FallbackFileAssetLoader();
                      void 0 !== v && I.addLoader(v);
                      F && (v = new m.CDNFileAssetLoader(), I.addLoader(v));
                      return new Promise(function(B) {
                        let G = null;
                        aa = { total: 0, loaded: 0, ready: function() {
                          B(G);
                        } };
                        G = H(r, I);
                        0 == aa.total && B(G);
                      });
                    };
                    let ld = m.RendererWrapper.prototype.align;
                    m.RendererWrapper.prototype.align = function(r, v, F, I, B = 1) {
                      ld.call(this, r, v, F, I, B);
                    };
                    d = new ha();
                    m.requestAnimationFrame = d.requestAnimationFrame.bind(d);
                    m.cancelAnimationFrame = d.cancelAnimationFrame.bind(d);
                    m.enableFPSCounter = d.Nb.bind(d);
                    m.disableFPSCounter = d.Kb;
                    d.nb = c;
                    m.resolveAnimationFrame = c;
                    m.cleanup = function() {
                      w && w.delete();
                    };
                  };
                  var na = Object.assign({}, m), oa = "./this.program", sa = "", ta, ua;
                  if (ea || fa) {
                    fa ? sa = self.location.href : "undefined" != typeof document && document.currentScript && (sa = document.currentScript.src), _scriptName && (sa = _scriptName), sa.startsWith("blob:") ? sa = "" : sa = sa.substr(0, sa.replace(/[?#].*/, "").lastIndexOf("/") + 1), fa && (ua = (a) => {
                      var b = new XMLHttpRequest();
                      b.open("GET", a, false);
                      b.responseType = "arraybuffer";
                      b.send(null);
                      return new Uint8Array(b.response);
                    }), ta = (a, b, c) => {
                      if (va(a)) {
                        var d = new XMLHttpRequest();
                        d.open("GET", a, true);
                        d.responseType = "arraybuffer";
                        d.onload = () => {
                          200 == d.status || 0 == d.status && d.response ? b(d.response) : c();
                        };
                        d.onerror = c;
                        d.send(null);
                      } else {
                        fetch(a, { credentials: "same-origin" }).then((e) => e.ok ? e.arrayBuffer() : Promise.reject(Error(e.status + " : " + e.url))).then(b, c);
                      }
                    };
                  }
                  var wa = m.print || console.log.bind(console), ya = m.printErr || console.error.bind(console);
                  Object.assign(m, na);
                  na = null;
                  m.thisProgram && (oa = m.thisProgram);
                  var za;
                  m.wasmBinary && (za = m.wasmBinary);
                  var Aa, Ba = false, z, A, Ca, Fa, D, M, Ga, Ha;
                  function Ia() {
                    var a = Aa.buffer;
                    m.HEAP8 = z = new Int8Array(a);
                    m.HEAP16 = Ca = new Int16Array(a);
                    m.HEAPU8 = A = new Uint8Array(a);
                    m.HEAPU16 = Fa = new Uint16Array(a);
                    m.HEAP32 = D = new Int32Array(a);
                    m.HEAPU32 = M = new Uint32Array(a);
                    m.HEAPF32 = Ga = new Float32Array(a);
                    m.HEAPF64 = Ha = new Float64Array(a);
                  }
                  var Ja = [], Ka = [], La = [];
                  function Ma() {
                    var a = m.preRun.shift();
                    Ja.unshift(a);
                  }
                  var Na = 0, Oa = null, Pa = null;
                  function Qa(a) {
                    var _a2;
                    (_a2 = m.onAbort) == null ? void 0 : _a2.call(m, a);
                    a = "Aborted(" + a + ")";
                    ya(a);
                    Ba = true;
                    a = new WebAssembly.RuntimeError(a + ". Build with -sASSERTIONS for more info.");
                    ca(a);
                    throw a;
                  }
                  var Ra = (a) => a.startsWith("data:application/octet-stream;base64,"), va = (a) => a.startsWith("file://"), Sa;
                  function Ta(a) {
                    if (a == Sa && za) {
                      return new Uint8Array(za);
                    }
                    if (ua) {
                      return ua(a);
                    }
                    throw "both async and sync fetching of the wasm failed";
                  }
                  function Ua(a) {
                    return za ? Promise.resolve().then(() => Ta(a)) : new Promise((b, c) => {
                      ta(a, (d) => b(new Uint8Array(d)), () => {
                        try {
                          b(Ta(a));
                        } catch (d) {
                          c(d);
                        }
                      });
                    });
                  }
                  function Va(a, b, c) {
                    return Ua(a).then((d) => WebAssembly.instantiate(d, b)).then(c, (d) => {
                      ya(`failed to asynchronously prepare wasm: ${d}`);
                      Qa(d);
                    });
                  }
                  function Wa(a, b) {
                    var c = Sa;
                    return za || "function" != typeof WebAssembly.instantiateStreaming || Ra(c) || va(c) || "function" != typeof fetch ? Va(c, a, b) : fetch(c, { credentials: "same-origin" }).then((d) => WebAssembly.instantiateStreaming(d, a).then(b, function(e) {
                      ya(`wasm streaming compile failed: ${e}`);
                      ya("falling back to ArrayBuffer instantiation");
                      return Va(c, a, b);
                    }));
                  }
                  var Xa, Ya, bb = { 464256: (a, b, c, d, e) => {
                    if ("undefined" === typeof window || void 0 === (window.AudioContext || window.webkitAudioContext)) {
                      return 0;
                    }
                    if ("undefined" === typeof window.h) {
                      window.h = { ya: 0 };
                      window.h.I = {};
                      window.h.I.wa = a;
                      window.h.I.capture = b;
                      window.h.I.Ja = c;
                      window.h.fa = {};
                      window.h.fa.stopped = d;
                      window.h.fa.vb = e;
                      let f = window.h;
                      f.D = [];
                      f.rc = function(g) {
                        for (var k = 0; k < f.D.length; ++k) {
                          if (null == f.D[k]) {
                            return f.D[k] = g, k;
                          }
                        }
                        f.D.push(g);
                        return f.D.length - 1;
                      };
                      f.zb = function(g) {
                        for (f.D[g] = null; 0 < f.D.length; ) {
                          if (null == f.D[f.D.length - 1]) {
                            f.D.pop();
                          } else {
                            break;
                          }
                        }
                      };
                      f.Oc = function(g) {
                        for (var k = 0; k < f.D.length; ++k) {
                          if (f.D[k] == g) {
                            return f.zb(k);
                          }
                        }
                      };
                      f.pa = function(g) {
                        return f.D[g];
                      };
                      f.Ra = ["touchend", "click"];
                      f.unlock = function() {
                        for (var g = 0; g < f.D.length; ++g) {
                          var k = f.D[g];
                          null != k && null != k.K && k.state === f.fa.vb && k.K.resume().then(() => {
                            Za(k.ob);
                          }, (p) => {
                            console.error("Failed to resume audiocontext", p);
                          });
                        }
                        f.Ra.map(function(p) {
                          document.removeEventListener(p, f.unlock, true);
                        });
                      };
                      f.Ra.map(function(g) {
                        document.addEventListener(g, f.unlock, true);
                      });
                    }
                    window.h.ya += 1;
                    return 1;
                  }, 466434: () => {
                    "undefined" !== typeof window.h && (window.h.Ra.map(function(a) {
                      document.removeEventListener(a, window.h.unlock, true);
                    }), --window.h.ya, 0 === window.h.ya && delete window.h);
                  }, 466738: () => void 0 !== navigator.mediaDevices && void 0 !== navigator.mediaDevices.getUserMedia, 466842: () => {
                    try {
                      var a = new (window.AudioContext || window.webkitAudioContext)(), b = a.sampleRate;
                      a.close();
                      return b;
                    } catch (c) {
                      return 0;
                    }
                  }, 467013: (a, b, c, d, e, f) => {
                    if ("undefined" === typeof window.h) {
                      return -1;
                    }
                    var g = {}, k = {};
                    a == window.h.I.wa && 0 != c && (k.sampleRate = c);
                    g.K = new (window.AudioContext || window.webkitAudioContext)(k);
                    g.K.suspend();
                    g.state = window.h.fa.stopped;
                    c = 0;
                    a != window.h.I.wa && (c = b);
                    g.Y = g.K.createScriptProcessor(d, c, b);
                    g.Y.onaudioprocess = function(p) {
                      if (null == g.qa || 0 == g.qa.length) {
                        g.qa = new Float32Array(Ga.buffer, e, d * b);
                      }
                      if (a == window.h.I.capture || a == window.h.I.Ja) {
                        for (var n = 0; n < b; n += 1) {
                          for (var t = p.inputBuffer.getChannelData(n), x = g.qa, y = 0; y < d; y += 1) {
                            x[y * b + n] = t[y];
                          }
                        }
                        $a(f, d, e);
                      }
                      if (a == window.h.I.wa || a == window.h.I.Ja) {
                        for (ab(f, d, e), n = 0; n < p.outputBuffer.numberOfChannels; ++n) {
                          for (t = p.outputBuffer.getChannelData(n), x = g.qa, y = 0; y < d; y += 1) {
                            t[y] = x[y * b + n];
                          }
                        }
                      } else {
                        for (n = 0; n < p.outputBuffer.numberOfChannels; ++n) {
                          p.outputBuffer.getChannelData(n).fill(0);
                        }
                      }
                    };
                    a != window.h.I.capture && a != window.h.I.Ja || navigator.mediaDevices.getUserMedia({ audio: true, video: false }).then(function(p) {
                      g.Ba = g.K.createMediaStreamSource(p);
                      g.Ba.connect(g.Y);
                      g.Y.connect(g.K.destination);
                    }).catch(function(p) {
                      console.log("Failed to get user media: " + p);
                    });
                    a == window.h.I.wa && g.Y.connect(g.K.destination);
                    g.ob = f;
                    return window.h.rc(g);
                  }, 469890: (a) => window.h.pa(a).K.sampleRate, 469963: (a) => {
                    a = window.h.pa(a);
                    void 0 !== a.Y && (a.Y.onaudioprocess = function() {
                    }, a.Y.disconnect(), a.Y = void 0);
                    void 0 !== a.Ba && (a.Ba.disconnect(), a.Ba = void 0);
                    a.K.close();
                    a.K = void 0;
                    a.ob = void 0;
                  }, 470363: (a) => {
                    window.h.zb(a);
                  }, 470413: (a) => {
                    a = window.h.pa(a);
                    a.K.resume();
                    a.state = window.h.fa.vb;
                  }, 470552: (a) => {
                    a = window.h.pa(a);
                    a.K.suspend();
                    a.state = window.h.fa.stopped;
                  } }, cb = (a) => {
                    for (; 0 < a.length; ) {
                      a.shift()(m);
                    }
                  };
                  function db() {
                    var a = D[+eb >> 2];
                    eb += 4;
                    return a;
                  }
                  var fb = (a, b) => {
                    for (var c = 0, d = a.length - 1; 0 <= d; d--) {
                      var e = a[d];
                      "." === e ? a.splice(d, 1) : ".." === e ? (a.splice(d, 1), c++) : c && (a.splice(d, 1), c--);
                    }
                    if (b) {
                      for (; c; c--) {
                        a.unshift("..");
                      }
                    }
                    return a;
                  }, gb = (a) => {
                    var b = "/" === a.charAt(0), c = "/" === a.substr(-1);
                    (a = fb(a.split("/").filter((d) => !!d), !b).join("/")) || b || (a = ".");
                    a && c && (a += "/");
                    return (b ? "/" : "") + a;
                  }, hb = (a) => {
                    var b = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1);
                    a = b[0];
                    b = b[1];
                    if (!a && !b) {
                      return ".";
                    }
                    b && (b = b.substr(0, b.length - 1));
                    return a + b;
                  }, ib = (a) => {
                    if ("/" === a) {
                      return "/";
                    }
                    a = gb(a);
                    a = a.replace(/\/$/, "");
                    var b = a.lastIndexOf("/");
                    return -1 === b ? a : a.substr(b + 1);
                  }, jb = () => {
                    if ("object" == typeof crypto && "function" == typeof crypto.getRandomValues) {
                      return (a) => crypto.getRandomValues(a);
                    }
                    Qa("initRandomDevice");
                  }, kb = (a) => (kb = jb())(a), lb = (...a) => {
                    for (var b = "", c = false, d = a.length - 1; -1 <= d && !c; d--) {
                      c = 0 <= d ? a[d] : "/";
                      if ("string" != typeof c) {
                        throw new TypeError("Arguments to path.resolve must be strings");
                      }
                      if (!c) {
                        return "";
                      }
                      b = c + "/" + b;
                      c = "/" === c.charAt(0);
                    }
                    b = fb(b.split("/").filter((e) => !!e), !c).join("/");
                    return (c ? "/" : "") + b || ".";
                  }, mb = "undefined" != typeof TextDecoder ? new TextDecoder("utf8") : void 0, nb = (a, b, c) => {
                    var d = b + c;
                    for (c = b; a[c] && !(c >= d); ) {
                      ++c;
                    }
                    if (16 < c - b && a.buffer && mb) {
                      return mb.decode(a.subarray(b, c));
                    }
                    for (d = ""; b < c; ) {
                      var e = a[b++];
                      if (e & 128) {
                        var f = a[b++] & 63;
                        if (192 == (e & 224)) {
                          d += String.fromCharCode((e & 31) << 6 | f);
                        } else {
                          var g = a[b++] & 63;
                          e = 224 == (e & 240) ? (e & 15) << 12 | f << 6 | g : (e & 7) << 18 | f << 12 | g << 6 | a[b++] & 63;
                          65536 > e ? d += String.fromCharCode(e) : (e -= 65536, d += String.fromCharCode(55296 | e >> 10, 56320 | e & 1023));
                        }
                      } else {
                        d += String.fromCharCode(e);
                      }
                    }
                    return d;
                  }, ob = [], pb = (a) => {
                    for (var b = 0, c = 0; c < a.length; ++c) {
                      var d = a.charCodeAt(c);
                      127 >= d ? b++ : 2047 >= d ? b += 2 : 55296 <= d && 57343 >= d ? (b += 4, ++c) : b += 3;
                    }
                    return b;
                  }, qb = (a, b, c, d) => {
                    if (!(0 < d)) {
                      return 0;
                    }
                    var e = c;
                    d = c + d - 1;
                    for (var f = 0; f < a.length; ++f) {
                      var g = a.charCodeAt(f);
                      if (55296 <= g && 57343 >= g) {
                        var k = a.charCodeAt(++f);
                        g = 65536 + ((g & 1023) << 10) | k & 1023;
                      }
                      if (127 >= g) {
                        if (c >= d) {
                          break;
                        }
                        b[c++] = g;
                      } else {
                        if (2047 >= g) {
                          if (c + 1 >= d) {
                            break;
                          }
                          b[c++] = 192 | g >> 6;
                        } else {
                          if (65535 >= g) {
                            if (c + 2 >= d) {
                              break;
                            }
                            b[c++] = 224 | g >> 12;
                          } else {
                            if (c + 3 >= d) {
                              break;
                            }
                            b[c++] = 240 | g >> 18;
                            b[c++] = 128 | g >> 12 & 63;
                          }
                          b[c++] = 128 | g >> 6 & 63;
                        }
                        b[c++] = 128 | g & 63;
                      }
                    }
                    b[c] = 0;
                    return c - e;
                  };
                  function rb(a, b) {
                    var c = Array(pb(a) + 1);
                    a = qb(a, c, 0, c.length);
                    b && (c.length = a);
                    return c;
                  }
                  var sb = [];
                  function tb(a, b) {
                    sb[a] = { input: [], G: [], V: b };
                    ub(a, vb);
                  }
                  var vb = { open(a) {
                    var b = sb[a.node.xa];
                    if (!b) {
                      throw new N(43);
                    }
                    a.s = b;
                    a.seekable = false;
                  }, close(a) {
                    a.s.V.oa(a.s);
                  }, oa(a) {
                    a.s.V.oa(a.s);
                  }, read(a, b, c, d) {
                    if (!a.s || !a.s.V.hb) {
                      throw new N(60);
                    }
                    for (var e = 0, f = 0; f < d; f++) {
                      try {
                        var g = a.s.V.hb(a.s);
                      } catch (k) {
                        throw new N(29);
                      }
                      if (void 0 === g && 0 === e) {
                        throw new N(6);
                      }
                      if (null === g || void 0 === g) {
                        break;
                      }
                      e++;
                      b[c + f] = g;
                    }
                    e && (a.node.timestamp = Date.now());
                    return e;
                  }, write(a, b, c, d) {
                    if (!a.s || !a.s.V.Ma) {
                      throw new N(60);
                    }
                    try {
                      for (var e = 0; e < d; e++) {
                        a.s.V.Ma(a.s, b[c + e]);
                      }
                    } catch (f) {
                      throw new N(29);
                    }
                    d && (a.node.timestamp = Date.now());
                    return e;
                  } }, wb = { hb() {
                    a: {
                      if (!ob.length) {
                        var a = null;
                        "undefined" != typeof window && "function" == typeof window.prompt && (a = window.prompt("Input: "), null !== a && (a += "\n"));
                        if (!a) {
                          a = null;
                          break a;
                        }
                        ob = rb(a, true);
                      }
                      a = ob.shift();
                    }
                    return a;
                  }, Ma(a, b) {
                    null === b || 10 === b ? (wa(nb(a.G, 0)), a.G = []) : 0 != b && a.G.push(b);
                  }, oa(a) {
                    a.G && 0 < a.G.length && (wa(nb(a.G, 0)), a.G = []);
                  }, Xb() {
                    return { zc: 25856, Bc: 5, yc: 191, Ac: 35387, xc: [3, 28, 127, 21, 4, 0, 1, 0, 17, 19, 26, 0, 18, 15, 23, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] };
                  }, Yb() {
                    return 0;
                  }, Zb() {
                    return [24, 80];
                  } }, xb = { Ma(a, b) {
                    null === b || 10 === b ? (ya(nb(a.G, 0)), a.G = []) : 0 != b && a.G.push(b);
                  }, oa(a) {
                    a.G && 0 < a.G.length && (ya(nb(a.G, 0)), a.G = []);
                  } };
                  function yb(a, b) {
                    var c = a.l ? a.l.length : 0;
                    c >= b || (b = Math.max(b, c * (1048576 > c ? 2 : 1.125) >>> 0), 0 != c && (b = Math.max(b, 256)), c = a.l, a.l = new Uint8Array(b), 0 < a.v && a.l.set(c.subarray(0, a.v), 0));
                  }
                  var O = { N: null, U() {
                    return O.createNode(null, "/", 16895, 0);
                  }, createNode(a, b, c, d) {
                    if (24576 === (c & 61440) || 4096 === (c & 61440)) {
                      throw new N(63);
                    }
                    O.N || (O.N = { dir: { node: { X: O.j.X, P: O.j.P, ja: O.j.ja, ta: O.j.ta, sb: O.j.sb, yb: O.j.yb, tb: O.j.tb, rb: O.j.rb, Ca: O.j.Ca }, stream: { aa: O.m.aa } }, file: { node: { X: O.j.X, P: O.j.P }, stream: { aa: O.m.aa, read: O.m.read, write: O.m.write, Xa: O.m.Xa, kb: O.m.kb, mb: O.m.mb } }, link: { node: { X: O.j.X, P: O.j.P, la: O.j.la }, stream: {} }, $a: { node: { X: O.j.X, P: O.j.P }, stream: zb } });
                    c = Ab(a, b, c, d);
                    16384 === (c.mode & 61440) ? (c.j = O.N.dir.node, c.m = O.N.dir.stream, c.l = {}) : 32768 === (c.mode & 61440) ? (c.j = O.N.file.node, c.m = O.N.file.stream, c.v = 0, c.l = null) : 40960 === (c.mode & 61440) ? (c.j = O.N.link.node, c.m = O.N.link.stream) : 8192 === (c.mode & 61440) && (c.j = O.N.$a.node, c.m = O.N.$a.stream);
                    c.timestamp = Date.now();
                    a && (a.l[b] = c, a.timestamp = c.timestamp);
                    return c;
                  }, Fc(a) {
                    return a.l ? a.l.subarray ? a.l.subarray(0, a.v) : new Uint8Array(a.l) : new Uint8Array(0);
                  }, j: { X(a) {
                    var b = {};
                    b.Dc = 8192 === (a.mode & 61440) ? a.id : 1;
                    b.Hc = a.id;
                    b.mode = a.mode;
                    b.Kc = 1;
                    b.uid = 0;
                    b.Gc = 0;
                    b.xa = a.xa;
                    16384 === (a.mode & 61440) ? b.size = 4096 : 32768 === (a.mode & 61440) ? b.size = a.v : 40960 === (a.mode & 61440) ? b.size = a.link.length : b.size = 0;
                    b.vc = new Date(a.timestamp);
                    b.Jc = new Date(a.timestamp);
                    b.Cc = new Date(a.timestamp);
                    b.Gb = 4096;
                    b.wc = Math.ceil(b.size / b.Gb);
                    return b;
                  }, P(a, b) {
                    void 0 !== b.mode && (a.mode = b.mode);
                    void 0 !== b.timestamp && (a.timestamp = b.timestamp);
                    if (void 0 !== b.size && (b = b.size, a.v != b)) {
                      if (0 == b) {
                        a.l = null, a.v = 0;
                      } else {
                        var c = a.l;
                        a.l = new Uint8Array(b);
                        c && a.l.set(c.subarray(0, Math.min(b, a.v)));
                        a.v = b;
                      }
                    }
                  }, ja() {
                    throw Bb[44];
                  }, ta(a, b, c, d) {
                    return O.createNode(a, b, c, d);
                  }, sb(a, b, c) {
                    if (16384 === (a.mode & 61440)) {
                      try {
                        var d = Cb(b, c);
                      } catch (f) {
                      }
                      if (d) {
                        for (var e in d.l) {
                          throw new N(55);
                        }
                      }
                    }
                    delete a.parent.l[a.name];
                    a.parent.timestamp = Date.now();
                    a.name = c;
                    b.l[c] = a;
                    b.timestamp = a.parent.timestamp;
                  }, yb(a, b) {
                    delete a.l[b];
                    a.timestamp = Date.now();
                  }, tb(a, b) {
                    var c = Cb(a, b), d;
                    for (d in c.l) {
                      throw new N(55);
                    }
                    delete a.l[b];
                    a.timestamp = Date.now();
                  }, rb(a) {
                    var b = [".", ".."], c;
                    for (c of Object.keys(a.l)) {
                      b.push(c);
                    }
                    return b;
                  }, Ca(a, b, c) {
                    a = O.createNode(a, b, 41471, 0);
                    a.link = c;
                    return a;
                  }, la(a) {
                    if (40960 !== (a.mode & 61440)) {
                      throw new N(28);
                    }
                    return a.link;
                  } }, m: { read(a, b, c, d, e) {
                    var f = a.node.l;
                    if (e >= a.node.v) {
                      return 0;
                    }
                    a = Math.min(a.node.v - e, d);
                    if (8 < a && f.subarray) {
                      b.set(f.subarray(e, e + a), c);
                    } else {
                      for (d = 0; d < a; d++) {
                        b[c + d] = f[e + d];
                      }
                    }
                    return a;
                  }, write(a, b, c, d, e, f) {
                    b.buffer === z.buffer && (f = false);
                    if (!d) {
                      return 0;
                    }
                    a = a.node;
                    a.timestamp = Date.now();
                    if (b.subarray && (!a.l || a.l.subarray)) {
                      if (f) {
                        return a.l = b.subarray(c, c + d), a.v = d;
                      }
                      if (0 === a.v && 0 === e) {
                        return a.l = b.slice(c, c + d), a.v = d;
                      }
                      if (e + d <= a.v) {
                        return a.l.set(b.subarray(c, c + d), e), d;
                      }
                    }
                    yb(a, e + d);
                    if (a.l.subarray && b.subarray) {
                      a.l.set(b.subarray(c, c + d), e);
                    } else {
                      for (f = 0; f < d; f++) {
                        a.l[e + f] = b[c + f];
                      }
                    }
                    a.v = Math.max(a.v, e + d);
                    return d;
                  }, aa(a, b, c) {
                    1 === c ? b += a.position : 2 === c && 32768 === (a.node.mode & 61440) && (b += a.node.v);
                    if (0 > b) {
                      throw new N(28);
                    }
                    return b;
                  }, Xa(a, b, c) {
                    yb(a.node, b + c);
                    a.node.v = Math.max(a.node.v, b + c);
                  }, kb(a, b, c, d, e) {
                    if (32768 !== (a.node.mode & 61440)) {
                      throw new N(43);
                    }
                    a = a.node.l;
                    if (e & 2 || a.buffer !== z.buffer) {
                      if (0 < c || c + b < a.length) {
                        a.subarray ? a = a.subarray(c, c + b) : a = Array.prototype.slice.call(a, c, c + b);
                      }
                      c = true;
                      Qa();
                      b = void 0;
                      if (!b) {
                        throw new N(48);
                      }
                      z.set(a, b);
                    } else {
                      c = false, b = a.byteOffset;
                    }
                    return { o: b, uc: c };
                  }, mb(a, b, c, d) {
                    O.m.write(a, b, 0, d, c, false);
                    return 0;
                  } } }, Db = (a, b) => {
                    var c = 0;
                    a && (c |= 365);
                    b && (c |= 146);
                    return c;
                  }, Eb = null, Fb = {}, Gb = [], Hb = 1, Ib = null, Jb = true, N = class {
                    constructor(a) {
                      this.name = "ErrnoError";
                      this.$ = a;
                    }
                  }, Bb = {}, Kb = class {
                    constructor() {
                      this.h = {};
                      this.node = null;
                    }
                    get flags() {
                      return this.h.flags;
                    }
                    set flags(a) {
                      this.h.flags = a;
                    }
                    get position() {
                      return this.h.position;
                    }
                    set position(a) {
                      this.h.position = a;
                    }
                  }, Lb = class {
                    constructor(a, b, c, d) {
                      a || (a = this);
                      this.parent = a;
                      this.U = a.U;
                      this.ua = null;
                      this.id = Hb++;
                      this.name = b;
                      this.mode = c;
                      this.j = {};
                      this.m = {};
                      this.xa = d;
                    }
                    get read() {
                      return 365 === (this.mode & 365);
                    }
                    set read(a) {
                      a ? this.mode |= 365 : this.mode &= -366;
                    }
                    get write() {
                      return 146 === (this.mode & 146);
                    }
                    set write(a) {
                      a ? this.mode |= 146 : this.mode &= -147;
                    }
                  };
                  function Mb(a, b = {}) {
                    a = lb(a);
                    if (!a) {
                      return { path: "", node: null };
                    }
                    b = Object.assign({ gb: true, Oa: 0 }, b);
                    if (8 < b.Oa) {
                      throw new N(32);
                    }
                    a = a.split("/").filter((g) => !!g);
                    for (var c = Eb, d = "/", e = 0; e < a.length; e++) {
                      var f = e === a.length - 1;
                      if (f && b.parent) {
                        break;
                      }
                      c = Cb(c, a[e]);
                      d = gb(d + "/" + a[e]);
                      c.ua && (!f || f && b.gb) && (c = c.ua.root);
                      if (!f || b.fb) {
                        for (f = 0; 40960 === (c.mode & 61440); ) {
                          if (c = Nb(d), d = lb(hb(d), c), c = Mb(d, { Oa: b.Oa + 1 }).node, 40 < f++) {
                            throw new N(32);
                          }
                        }
                      }
                    }
                    return { path: d, node: c };
                  }
                  function Ob(a) {
                    for (var b; ; ) {
                      if (a === a.parent) {
                        return a = a.U.lb, b ? "/" !== a[a.length - 1] ? `${a}/${b}` : a + b : a;
                      }
                      b = b ? `${a.name}/${b}` : a.name;
                      a = a.parent;
                    }
                  }
                  function Pb(a, b) {
                    for (var c = 0, d = 0; d < b.length; d++) {
                      c = (c << 5) - c + b.charCodeAt(d) | 0;
                    }
                    return (a + c >>> 0) % Ib.length;
                  }
                  function Cb(a, b) {
                    var c = 16384 === (a.mode & 61440) ? (c = Qb(a, "x")) ? c : a.j.ja ? 0 : 2 : 54;
                    if (c) {
                      throw new N(c);
                    }
                    for (c = Ib[Pb(a.id, b)]; c; c = c.ec) {
                      var d = c.name;
                      if (c.parent.id === a.id && d === b) {
                        return c;
                      }
                    }
                    return a.j.ja(a, b);
                  }
                  function Ab(a, b, c, d) {
                    a = new Lb(a, b, c, d);
                    b = Pb(a.parent.id, a.name);
                    a.ec = Ib[b];
                    return Ib[b] = a;
                  }
                  function Rb(a) {
                    var b = ["r", "w", "rw"][a & 3];
                    a & 512 && (b += "w");
                    return b;
                  }
                  function Qb(a, b) {
                    if (Jb) {
                      return 0;
                    }
                    if (!b.includes("r") || a.mode & 292) {
                      if (b.includes("w") && !(a.mode & 146) || b.includes("x") && !(a.mode & 73)) {
                        return 2;
                      }
                    } else {
                      return 2;
                    }
                    return 0;
                  }
                  function Sb(a, b) {
                    try {
                      return Cb(a, b), 20;
                    } catch (c) {
                    }
                    return Qb(a, "wx");
                  }
                  function Tb(a) {
                    a = Gb[a];
                    if (!a) {
                      throw new N(8);
                    }
                    return a;
                  }
                  function Ub(a, b = -1) {
                    a = Object.assign(new Kb(), a);
                    if (-1 == b) {
                      a: {
                        for (b = 0; 4096 >= b; b++) {
                          if (!Gb[b]) {
                            break a;
                          }
                        }
                        throw new N(33);
                      }
                    }
                    a.W = b;
                    return Gb[b] = a;
                  }
                  function Vb(a, b = -1) {
                    var _a2, _b;
                    a = Ub(a, b);
                    (_b = (_a2 = a.m) == null ? void 0 : _a2.Ec) == null ? void 0 : _b.call(_a2, a);
                    return a;
                  }
                  var zb = { open(a) {
                    var _a2, _b;
                    a.m = Fb[a.node.xa].m;
                    (_b = (_a2 = a.m).open) == null ? void 0 : _b.call(_a2, a);
                  }, aa() {
                    throw new N(70);
                  } };
                  function ub(a, b) {
                    Fb[a] = { m: b };
                  }
                  function ac(a, b) {
                    var c = "/" === b;
                    if (c && Eb) {
                      throw new N(10);
                    }
                    if (!c && b) {
                      var d = Mb(b, { gb: false });
                      b = d.path;
                      d = d.node;
                      if (d.ua) {
                        throw new N(10);
                      }
                      if (16384 !== (d.mode & 61440)) {
                        throw new N(54);
                      }
                    }
                    b = { type: a, Mc: {}, lb: b, dc: [] };
                    a = a.U(b);
                    a.U = b;
                    b.root = a;
                    c ? Eb = a : d && (d.ua = b, d.U && d.U.dc.push(b));
                  }
                  function bc(a, b, c) {
                    var d = Mb(a, { parent: true }).node;
                    a = ib(a);
                    if (!a || "." === a || ".." === a) {
                      throw new N(28);
                    }
                    var e = Sb(d, a);
                    if (e) {
                      throw new N(e);
                    }
                    if (!d.j.ta) {
                      throw new N(63);
                    }
                    return d.j.ta(d, a, b, c);
                  }
                  function cc(a) {
                    return bc(a, 16895, 0);
                  }
                  function dc(a, b, c) {
                    "undefined" == typeof c && (c = b, b = 438);
                    bc(a, b | 8192, c);
                  }
                  function ec(a, b) {
                    if (!lb(a)) {
                      throw new N(44);
                    }
                    var c = Mb(b, { parent: true }).node;
                    if (!c) {
                      throw new N(44);
                    }
                    b = ib(b);
                    var d = Sb(c, b);
                    if (d) {
                      throw new N(d);
                    }
                    if (!c.j.Ca) {
                      throw new N(63);
                    }
                    c.j.Ca(c, b, a);
                  }
                  function Nb(a) {
                    a = Mb(a).node;
                    if (!a) {
                      throw new N(44);
                    }
                    if (!a.j.la) {
                      throw new N(28);
                    }
                    return lb(Ob(a.parent), a.j.la(a));
                  }
                  function fc(a, b, c) {
                    if ("" === a) {
                      throw new N(44);
                    }
                    if ("string" == typeof b) {
                      var d = { r: 0, "r+": 2, w: 577, "w+": 578, a: 1089, "a+": 1090 }[b];
                      if ("undefined" == typeof d) {
                        throw Error(`Unknown file open mode: ${b}`);
                      }
                      b = d;
                    }
                    c = b & 64 ? ("undefined" == typeof c ? 438 : c) & 4095 | 32768 : 0;
                    if ("object" == typeof a) {
                      var e = a;
                    } else {
                      a = gb(a);
                      try {
                        e = Mb(a, { fb: !(b & 131072) }).node;
                      } catch (f) {
                      }
                    }
                    d = false;
                    if (b & 64) {
                      if (e) {
                        if (b & 128) {
                          throw new N(20);
                        }
                      } else {
                        e = bc(a, c, 0), d = true;
                      }
                    }
                    if (!e) {
                      throw new N(44);
                    }
                    8192 === (e.mode & 61440) && (b &= -513);
                    if (b & 65536 && 16384 !== (e.mode & 61440)) {
                      throw new N(54);
                    }
                    if (!d && (c = e ? 40960 === (e.mode & 61440) ? 32 : 16384 === (e.mode & 61440) && ("r" !== Rb(b) || b & 512) ? 31 : Qb(e, Rb(b)) : 44)) {
                      throw new N(c);
                    }
                    if (b & 512 && !d) {
                      c = e;
                      c = "string" == typeof c ? Mb(c, { fb: true }).node : c;
                      if (!c.j.P) {
                        throw new N(63);
                      }
                      if (16384 === (c.mode & 61440)) {
                        throw new N(31);
                      }
                      if (32768 !== (c.mode & 61440)) {
                        throw new N(28);
                      }
                      if (d = Qb(c, "w")) {
                        throw new N(d);
                      }
                      c.j.P(c, { size: 0, timestamp: Date.now() });
                    }
                    b &= -131713;
                    e = Ub({ node: e, path: Ob(e), flags: b, seekable: true, position: 0, m: e.m, sc: [], error: false });
                    e.m.open && e.m.open(e);
                    !m.logReadFiles || b & 1 || (gc || (gc = {}), a in gc || (gc[a] = 1));
                    return e;
                  }
                  function hc(a, b, c) {
                    if (null === a.W) {
                      throw new N(8);
                    }
                    if (!a.seekable || !a.m.aa) {
                      throw new N(70);
                    }
                    if (0 != c && 1 != c && 2 != c) {
                      throw new N(28);
                    }
                    a.position = a.m.aa(a, b, c);
                    a.sc = [];
                  }
                  var ic;
                  function jc(a, b, c) {
                    a = gb("/dev/" + a);
                    var d = Db(!!b, !!c);
                    kc || (kc = 64);
                    var e = kc++ << 8 | 0;
                    ub(e, { open(f) {
                      f.seekable = false;
                    }, close() {
                      var _a2;
                      ((_a2 = c == null ? void 0 : c.buffer) == null ? void 0 : _a2.length) && c(10);
                    }, read(f, g, k, p) {
                      for (var n = 0, t = 0; t < p; t++) {
                        try {
                          var x = b();
                        } catch (y) {
                          throw new N(29);
                        }
                        if (void 0 === x && 0 === n) {
                          throw new N(6);
                        }
                        if (null === x || void 0 === x) {
                          break;
                        }
                        n++;
                        g[k + t] = x;
                      }
                      n && (f.node.timestamp = Date.now());
                      return n;
                    }, write(f, g, k, p) {
                      for (var n = 0; n < p; n++) {
                        try {
                          c(g[k + n]);
                        } catch (t) {
                          throw new N(29);
                        }
                      }
                      p && (f.node.timestamp = Date.now());
                      return n;
                    } });
                    dc(a, d, e);
                  }
                  var kc, lc = {}, gc, eb = void 0, mc = (a, b) => Object.defineProperty(b, "name", { value: a }), nc = [], oc = [], P, pc = (a) => {
                    if (!a) {
                      throw new P("Cannot use deleted val. handle = " + a);
                    }
                    return oc[a];
                  }, qc = (a) => {
                    switch (a) {
                      case void 0:
                        return 2;
                      case null:
                        return 4;
                      case true:
                        return 6;
                      case false:
                        return 8;
                      default:
                        const b = nc.pop() || oc.length;
                        oc[b] = a;
                        oc[b + 1] = 1;
                        return b;
                    }
                  }, rc = (a) => {
                    var b = Error, c = mc(a, function(d) {
                      this.name = a;
                      this.message = d;
                      d = Error(d).stack;
                      void 0 !== d && (this.stack = this.toString() + "\n" + d.replace(/^Error(:[^\n]*)?\n/, ""));
                    });
                    c.prototype = Object.create(b.prototype);
                    c.prototype.constructor = c;
                    c.prototype.toString = function() {
                      return void 0 === this.message ? this.name : `${this.name}: ${this.message}`;
                    };
                    return c;
                  }, sc, tc, Q = (a) => {
                    for (var b = ""; A[a]; ) {
                      b += tc[A[a++]];
                    }
                    return b;
                  }, uc = [], vc = () => {
                    for (; uc.length; ) {
                      var a = uc.pop();
                      a.g.ea = false;
                      a["delete"]();
                    }
                  }, wc, xc = {}, yc = (a, b) => {
                    if (void 0 === b) {
                      throw new P("ptr should not be undefined");
                    }
                    for (; a.C; ) {
                      b = a.ma(b), a = a.C;
                    }
                    return b;
                  }, zc = {}, Cc = (a) => {
                    a = Ac(a);
                    var b = Q(a);
                    Bc(a);
                    return b;
                  }, Dc = (a, b) => {
                    var c = zc[a];
                    if (void 0 === c) {
                      throw a = `${b} has unknown type ${Cc(a)}`, new P(a);
                    }
                    return c;
                  }, Ec = () => {
                  }, Fc = false, Gc = (a, b, c) => {
                    if (b === c) {
                      return a;
                    }
                    if (void 0 === c.C) {
                      return null;
                    }
                    a = Gc(a, b, c.C);
                    return null === a ? null : c.Lb(a);
                  }, Hc = {}, Ic = (a, b) => {
                    b = yc(a, b);
                    return xc[b];
                  }, Jc, Lc = (a, b) => {
                    if (!b.u || !b.o) {
                      throw new Jc("makeClassHandle requires ptr and ptrType");
                    }
                    if (!!b.J !== !!b.F) {
                      throw new Jc("Both smartPtrType and smartPtr must be specified");
                    }
                    b.count = { value: 1 };
                    return Kc(Object.create(a, { g: { value: b, writable: true } }));
                  }, Kc = (a) => {
                    if ("undefined" === typeof FinalizationRegistry) {
                      return Kc = (b) => b, a;
                    }
                    Fc = new FinalizationRegistry((b) => {
                      b = b.g;
                      --b.count.value;
                      0 === b.count.value && (b.F ? b.J.O(b.F) : b.u.i.O(b.o));
                    });
                    Kc = (b) => {
                      var c = b.g;
                      c.F && Fc.register(b, { g: c }, b);
                      return b;
                    };
                    Ec = (b) => {
                      Fc.unregister(b);
                    };
                    return Kc(a);
                  }, Mc = {}, Nc = (a) => {
                    for (; a.length; ) {
                      var b = a.pop();
                      a.pop()(b);
                    }
                  };
                  function Oc(a) {
                    return this.fromWireType(M[a >> 2]);
                  }
                  var Pc = {}, Qc = {}, U = (a, b, c) => {
                    function d(k) {
                      k = c(k);
                      if (k.length !== a.length) {
                        throw new Jc("Mismatched type converter count");
                      }
                      for (var p = 0; p < a.length; ++p) {
                        Rc(a[p], k[p]);
                      }
                    }
                    a.forEach(function(k) {
                      Qc[k] = b;
                    });
                    var e = Array(b.length), f = [], g = 0;
                    b.forEach((k, p) => {
                      zc.hasOwnProperty(k) ? e[p] = zc[k] : (f.push(k), Pc.hasOwnProperty(k) || (Pc[k] = []), Pc[k].push(() => {
                        e[p] = zc[k];
                        ++g;
                        g === f.length && d(e);
                      }));
                    });
                    0 === f.length && d(e);
                  };
                  function Sc(a, b, c = {}) {
                    var d = b.name;
                    if (!a) {
                      throw new P(`type "${d}" must have a positive integer typeid pointer`);
                    }
                    if (zc.hasOwnProperty(a)) {
                      if (c.Vb) {
                        return;
                      }
                      throw new P(`Cannot register type '${d}' twice`);
                    }
                    zc[a] = b;
                    delete Qc[a];
                    Pc.hasOwnProperty(a) && (b = Pc[a], delete Pc[a], b.forEach((e) => e()));
                  }
                  function Rc(a, b, c = {}) {
                    if (!("argPackAdvance" in b)) {
                      throw new TypeError("registerType registeredInstance requires argPackAdvance");
                    }
                    return Sc(a, b, c);
                  }
                  var Tc = (a) => {
                    throw new P(a.g.u.i.name + " instance already deleted");
                  };
                  function Uc() {
                  }
                  var Vc = (a, b, c) => {
                    if (void 0 === a[b].A) {
                      var d = a[b];
                      a[b] = function(...e) {
                        if (!a[b].A.hasOwnProperty(e.length)) {
                          throw new P(`Function '${c}' called with an invalid number of arguments (${e.length}) - expects one of (${a[b].A})!`);
                        }
                        return a[b].A[e.length].apply(this, e);
                      };
                      a[b].A = [];
                      a[b].A[d.da] = d;
                    }
                  }, Wc = (a, b, c) => {
                    if (m.hasOwnProperty(a)) {
                      if (void 0 === c || void 0 !== m[a].A && void 0 !== m[a].A[c]) {
                        throw new P(`Cannot register public name '${a}' twice`);
                      }
                      Vc(m, a, a);
                      if (m.hasOwnProperty(c)) {
                        throw new P(`Cannot register multiple overloads of a function with the same number of arguments (${c})!`);
                      }
                      m[a].A[c] = b;
                    } else {
                      m[a] = b, void 0 !== c && (m[a].Lc = c);
                    }
                  }, Xc = (a) => {
                    if (void 0 === a) {
                      return "_unknown";
                    }
                    a = a.replace(/[^a-zA-Z0-9_]/g, "$");
                    var b = a.charCodeAt(0);
                    return 48 <= b && 57 >= b ? `_${a}` : a;
                  };
                  function Yc(a, b, c, d, e, f, g, k) {
                    this.name = a;
                    this.constructor = b;
                    this.M = c;
                    this.O = d;
                    this.C = e;
                    this.Qb = f;
                    this.ma = g;
                    this.Lb = k;
                    this.pb = [];
                  }
                  var Zc = (a, b, c) => {
                    for (; b !== c; ) {
                      if (!b.ma) {
                        throw new P(`Expected null or instance of ${c.name}, got an instance of ${b.name}`);
                      }
                      a = b.ma(a);
                      b = b.C;
                    }
                    return a;
                  };
                  function $c(a, b) {
                    if (null === b) {
                      if (this.La) {
                        throw new P(`null is not a valid ${this.name}`);
                      }
                      return 0;
                    }
                    if (!b.g) {
                      throw new P(`Cannot pass "${ad(b)}" as a ${this.name}`);
                    }
                    if (!b.g.o) {
                      throw new P(`Cannot pass deleted object as a pointer of type ${this.name}`);
                    }
                    return Zc(b.g.o, b.g.u.i, this.i);
                  }
                  function bd(a, b) {
                    if (null === b) {
                      if (this.La) {
                        throw new P(`null is not a valid ${this.name}`);
                      }
                      if (this.sa) {
                        var c = this.Na();
                        null !== a && a.push(this.O, c);
                        return c;
                      }
                      return 0;
                    }
                    if (!b || !b.g) {
                      throw new P(`Cannot pass "${ad(b)}" as a ${this.name}`);
                    }
                    if (!b.g.o) {
                      throw new P(`Cannot pass deleted object as a pointer of type ${this.name}`);
                    }
                    if (!this.ra && b.g.u.ra) {
                      throw new P(`Cannot convert argument of type ${b.g.J ? b.g.J.name : b.g.u.name} to parameter type ${this.name}`);
                    }
                    c = Zc(b.g.o, b.g.u.i, this.i);
                    if (this.sa) {
                      if (void 0 === b.g.F) {
                        throw new P("Passing raw pointer to smart pointer is illegal");
                      }
                      switch (this.mc) {
                        case 0:
                          if (b.g.J === this) {
                            c = b.g.F;
                          } else {
                            throw new P(`Cannot convert argument of type ${b.g.J ? b.g.J.name : b.g.u.name} to parameter type ${this.name}`);
                          }
                          break;
                        case 1:
                          c = b.g.F;
                          break;
                        case 2:
                          if (b.g.J === this) {
                            c = b.g.F;
                          } else {
                            var d = b.clone();
                            c = this.ic(c, qc(() => d["delete"]()));
                            null !== a && a.push(this.O, c);
                          }
                          break;
                        default:
                          throw new P("Unsupporting sharing policy");
                      }
                    }
                    return c;
                  }
                  function cd(a, b) {
                    if (null === b) {
                      if (this.La) {
                        throw new P(`null is not a valid ${this.name}`);
                      }
                      return 0;
                    }
                    if (!b.g) {
                      throw new P(`Cannot pass "${ad(b)}" as a ${this.name}`);
                    }
                    if (!b.g.o) {
                      throw new P(`Cannot pass deleted object as a pointer of type ${this.name}`);
                    }
                    if (b.g.u.ra) {
                      throw new P(`Cannot convert argument of type ${b.g.u.name} to parameter type ${this.name}`);
                    }
                    return Zc(b.g.o, b.g.u.i, this.i);
                  }
                  function dd(a, b, c, d, e, f, g, k, p, n, t) {
                    this.name = a;
                    this.i = b;
                    this.La = c;
                    this.ra = d;
                    this.sa = e;
                    this.hc = f;
                    this.mc = g;
                    this.qb = k;
                    this.Na = p;
                    this.ic = n;
                    this.O = t;
                    e || void 0 !== b.C ? this.toWireType = bd : (this.toWireType = d ? $c : cd, this.L = null);
                  }
                  var ed = (a, b, c) => {
                    if (!m.hasOwnProperty(a)) {
                      throw new Jc("Replacing nonexistent public symbol");
                    }
                    void 0 !== m[a].A && void 0 !== c ? m[a].A[c] = b : (m[a] = b, m[a].da = c);
                  }, fd = [], gd, hd = (a) => {
                    var b = fd[a];
                    b || (a >= fd.length && (fd.length = a + 1), fd[a] = b = gd.get(a));
                    return b;
                  }, jd = (a, b, c = []) => {
                    a.includes("j") ? (a = a.replace(/p/g, "i"), b = (0, m["dynCall_" + a])(b, ...c)) : b = hd(b)(...c);
                    return b;
                  }, md = (a, b) => (...c) => jd(a, b, c), V = (a, b) => {
                    a = Q(a);
                    var c = a.includes("j") ? md(a, b) : hd(b);
                    if ("function" != typeof c) {
                      throw new P(`unknown function pointer with signature ${a}: ${b}`);
                    }
                    return c;
                  }, nd, od = (a, b) => {
                    function c(f) {
                      e[f] || zc[f] || (Qc[f] ? Qc[f].forEach(c) : (d.push(f), e[f] = true));
                    }
                    var d = [], e = {};
                    b.forEach(c);
                    throw new nd(`${a}: ` + d.map(Cc).join([", "]));
                  };
                  function pd(a) {
                    for (var b = 1; b < a.length; ++b) {
                      if (null !== a[b] && void 0 === a[b].L) {
                        return true;
                      }
                    }
                    return false;
                  }
                  function qd(a, b, c, d, e) {
                    var f = b.length;
                    if (2 > f) {
                      throw new P("argTypes array size mismatch! Must at least get return value and 'this' types!");
                    }
                    var g = null !== b[1] && null !== c, k = pd(b), p = "void" !== b[0].name, n = f - 2, t = Array(n), x = [], y = [];
                    return mc(a, function(...l) {
                      if (l.length !== n) {
                        throw new P(`function ${a} called with ${l.length} arguments, expected ${n}`);
                      }
                      y.length = 0;
                      x.length = g ? 2 : 1;
                      x[0] = e;
                      if (g) {
                        var u = b[1].toWireType(y, this);
                        x[1] = u;
                      }
                      for (var q = 0; q < n; ++q) {
                        t[q] = b[q + 2].toWireType(y, l[q]), x.push(t[q]);
                      }
                      l = d(...x);
                      if (k) {
                        Nc(y);
                      } else {
                        for (q = g ? 1 : 2; q < b.length; q++) {
                          var C = 1 === q ? u : t[q - 2];
                          null !== b[q].L && b[q].L(C);
                        }
                      }
                      u = p ? b[0].fromWireType(l) : void 0;
                      return u;
                    });
                  }
                  var rd = (a, b) => {
                    for (var c = [], d = 0; d < a; d++) {
                      c.push(M[b + 4 * d >> 2]);
                    }
                    return c;
                  }, sd = (a) => {
                    a = a.trim();
                    const b = a.indexOf("(");
                    return -1 !== b ? a.substr(0, b) : a;
                  }, td = (a, b, c) => {
                    if (!(a instanceof Object)) {
                      throw new P(`${c} with invalid "this": ${a}`);
                    }
                    if (!(a instanceof b.i.constructor)) {
                      throw new P(`${c} incompatible with "this" of type ${a.constructor.name}`);
                    }
                    if (!a.g.o) {
                      throw new P(`cannot call emscripten binding method ${c} on deleted object`);
                    }
                    return Zc(a.g.o, a.g.u.i, b.i);
                  }, ud = (a) => {
                    9 < a && 0 === --oc[a + 1] && (oc[a] = void 0, nc.push(a));
                  }, vd = { name: "emscripten::val", fromWireType: (a) => {
                    var b = pc(a);
                    ud(a);
                    return b;
                  }, toWireType: (a, b) => qc(b), argPackAdvance: 8, readValueFromPointer: Oc, L: null }, wd = (a, b, c) => {
                    switch (b) {
                      case 1:
                        return c ? function(d) {
                          return this.fromWireType(z[d]);
                        } : function(d) {
                          return this.fromWireType(A[d]);
                        };
                      case 2:
                        return c ? function(d) {
                          return this.fromWireType(Ca[d >> 1]);
                        } : function(d) {
                          return this.fromWireType(Fa[d >> 1]);
                        };
                      case 4:
                        return c ? function(d) {
                          return this.fromWireType(D[d >> 2]);
                        } : function(d) {
                          return this.fromWireType(M[d >> 2]);
                        };
                      default:
                        throw new TypeError(`invalid integer width (${b}): ${a}`);
                    }
                  }, ad = (a) => {
                    if (null === a) {
                      return "null";
                    }
                    var b = typeof a;
                    return "object" === b || "array" === b || "function" === b ? a.toString() : "" + a;
                  }, xd = (a, b) => {
                    switch (b) {
                      case 4:
                        return function(c) {
                          return this.fromWireType(Ga[c >> 2]);
                        };
                      case 8:
                        return function(c) {
                          return this.fromWireType(Ha[c >> 3]);
                        };
                      default:
                        throw new TypeError(`invalid float width (${b}): ${a}`);
                    }
                  }, yd = (a, b, c) => {
                    switch (b) {
                      case 1:
                        return c ? (d) => z[d] : (d) => A[d];
                      case 2:
                        return c ? (d) => Ca[d >> 1] : (d) => Fa[d >> 1];
                      case 4:
                        return c ? (d) => D[d >> 2] : (d) => M[d >> 2];
                      default:
                        throw new TypeError(`invalid integer width (${b}): ${a}`);
                    }
                  }, zd = "undefined" != typeof TextDecoder ? new TextDecoder("utf-16le") : void 0, Ad = (a, b) => {
                    var c = a >> 1;
                    for (var d = c + b / 2; !(c >= d) && Fa[c]; ) {
                      ++c;
                    }
                    c <<= 1;
                    if (32 < c - a && zd) {
                      return zd.decode(A.subarray(a, c));
                    }
                    c = "";
                    for (d = 0; !(d >= b / 2); ++d) {
                      var e = Ca[a + 2 * d >> 1];
                      if (0 == e) {
                        break;
                      }
                      c += String.fromCharCode(e);
                    }
                    return c;
                  }, Bd = (a, b, c) => {
                    c ?? (c = 2147483647);
                    if (2 > c) {
                      return 0;
                    }
                    c -= 2;
                    var d = b;
                    c = c < 2 * a.length ? c / 2 : a.length;
                    for (var e = 0; e < c; ++e) {
                      Ca[b >> 1] = a.charCodeAt(e), b += 2;
                    }
                    Ca[b >> 1] = 0;
                    return b - d;
                  }, Cd = (a) => 2 * a.length, Dd = (a, b) => {
                    for (var c = 0, d = ""; !(c >= b / 4); ) {
                      var e = D[a + 4 * c >> 2];
                      if (0 == e) {
                        break;
                      }
                      ++c;
                      65536 <= e ? (e -= 65536, d += String.fromCharCode(55296 | e >> 10, 56320 | e & 1023)) : d += String.fromCharCode(e);
                    }
                    return d;
                  }, Ed = (a, b, c) => {
                    c ?? (c = 2147483647);
                    if (4 > c) {
                      return 0;
                    }
                    var d = b;
                    c = d + c - 4;
                    for (var e = 0; e < a.length; ++e) {
                      var f = a.charCodeAt(e);
                      if (55296 <= f && 57343 >= f) {
                        var g = a.charCodeAt(++e);
                        f = 65536 + ((f & 1023) << 10) | g & 1023;
                      }
                      D[b >> 2] = f;
                      b += 4;
                      if (b + 4 > c) {
                        break;
                      }
                    }
                    D[b >> 2] = 0;
                    return b - d;
                  }, Fd = (a) => {
                    for (var b = 0, c = 0; c < a.length; ++c) {
                      var d = a.charCodeAt(c);
                      55296 <= d && 57343 >= d && ++c;
                      b += 4;
                    }
                    return b;
                  }, Gd = (a, b, c) => {
                    var d = [];
                    a = a.toWireType(d, c);
                    d.length && (M[b >> 2] = qc(d));
                    return a;
                  }, Hd = {}, Id = (a) => {
                    var b = Hd[a];
                    return void 0 === b ? Q(a) : b;
                  }, Jd = [], Kd = (a) => {
                    var b = Jd.length;
                    Jd.push(a);
                    return b;
                  }, Ld = (a, b) => {
                    for (var c = Array(a), d = 0; d < a; ++d) {
                      c[d] = Dc(M[b + 4 * d >> 2], "parameter " + d);
                    }
                    return c;
                  }, Md = Reflect.construct, Nd = [], Od = {}, Qd = () => {
                    if (!Pd) {
                      var a = { USER: "web_user", LOGNAME: "web_user", PATH: "/", PWD: "/", HOME: "/home/web_user", LANG: ("object" == typeof navigator && navigator.languages && navigator.languages[0] || "C").replace("-", "_") + ".UTF-8", _: oa || "./this.program" }, b;
                      for (b in Od) {
                        void 0 === Od[b] ? delete a[b] : a[b] = Od[b];
                      }
                      var c = [];
                      for (b in a) {
                        c.push(`${b}=${a[b]}`);
                      }
                      Pd = c;
                    }
                    return Pd;
                  }, Pd, Rd = (a) => 0 === a % 4 && (0 !== a % 100 || 0 === a % 400), Sd = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], Td = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], Ud = (a, b, c, d) => {
                    function e(l, u, q) {
                      for (l = "number" == typeof l ? l.toString() : l || ""; l.length < u; ) {
                        l = q[0] + l;
                      }
                      return l;
                    }
                    function f(l, u) {
                      return e(l, u, "0");
                    }
                    function g(l, u) {
                      function q(E) {
                        return 0 > E ? -1 : 0 < E ? 1 : 0;
                      }
                      var C;
                      0 === (C = q(l.getFullYear() - u.getFullYear())) && 0 === (C = q(l.getMonth() - u.getMonth())) && (C = q(l.getDate() - u.getDate()));
                      return C;
                    }
                    function k(l) {
                      switch (l.getDay()) {
                        case 0:
                          return new Date(l.getFullYear() - 1, 11, 29);
                        case 1:
                          return l;
                        case 2:
                          return new Date(l.getFullYear(), 0, 3);
                        case 3:
                          return new Date(l.getFullYear(), 0, 2);
                        case 4:
                          return new Date(l.getFullYear(), 0, 1);
                        case 5:
                          return new Date(l.getFullYear() - 1, 11, 31);
                        case 6:
                          return new Date(l.getFullYear() - 1, 11, 30);
                      }
                    }
                    function p(l) {
                      var u = l.ba;
                      for (l = new Date(new Date(l.ca + 1900, 0, 1).getTime()); 0 < u; ) {
                        var q = l.getMonth(), C = (Rd(l.getFullYear()) ? Sd : Td)[q];
                        if (u > C - l.getDate()) {
                          u -= C - l.getDate() + 1, l.setDate(1), 11 > q ? l.setMonth(q + 1) : (l.setMonth(0), l.setFullYear(l.getFullYear() + 1));
                        } else {
                          l.setDate(l.getDate() + u);
                          break;
                        }
                      }
                      q = new Date(l.getFullYear() + 1, 0, 4);
                      u = k(new Date(l.getFullYear(), 0, 4));
                      q = k(q);
                      return 0 >= g(u, l) ? 0 >= g(q, l) ? l.getFullYear() + 1 : l.getFullYear() : l.getFullYear() - 1;
                    }
                    var n = M[d + 40 >> 2];
                    d = { pc: D[d >> 2], oc: D[d + 4 >> 2], Da: D[d + 8 >> 2], Qa: D[d + 12 >> 2], Ea: D[d + 16 >> 2], ca: D[d + 20 >> 2], R: D[d + 24 >> 2], ba: D[d + 28 >> 2], Nc: D[d + 32 >> 2], nc: D[d + 36 >> 2], qc: n ? n ? nb(A, n) : "" : "" };
                    c = c ? nb(A, c) : "";
                    n = { "%c": "%a %b %d %H:%M:%S %Y", "%D": "%m/%d/%y", "%F": "%Y-%m-%d", "%h": "%b", "%r": "%I:%M:%S %p", "%R": "%H:%M", "%T": "%H:%M:%S", "%x": "%m/%d/%y", "%X": "%H:%M:%S", "%Ec": "%c", "%EC": "%C", "%Ex": "%m/%d/%y", "%EX": "%H:%M:%S", "%Ey": "%y", "%EY": "%Y", "%Od": "%d", "%Oe": "%e", "%OH": "%H", "%OI": "%I", "%Om": "%m", "%OM": "%M", "%OS": "%S", "%Ou": "%u", "%OU": "%U", "%OV": "%V", "%Ow": "%w", "%OW": "%W", "%Oy": "%y" };
                    for (var t in n) {
                      c = c.replace(new RegExp(t, "g"), n[t]);
                    }
                    var x = "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "), y = "January February March April May June July August September October November December".split(" ");
                    n = { "%a": (l) => x[l.R].substring(0, 3), "%A": (l) => x[l.R], "%b": (l) => y[l.Ea].substring(0, 3), "%B": (l) => y[l.Ea], "%C": (l) => f((l.ca + 1900) / 100 | 0, 2), "%d": (l) => f(l.Qa, 2), "%e": (l) => e(l.Qa, 2, " "), "%g": (l) => p(l).toString().substring(2), "%G": p, "%H": (l) => f(l.Da, 2), "%I": (l) => {
                      l = l.Da;
                      0 == l ? l = 12 : 12 < l && (l -= 12);
                      return f(l, 2);
                    }, "%j": (l) => {
                      for (var u = 0, q = 0; q <= l.Ea - 1; u += (Rd(l.ca + 1900) ? Sd : Td)[q++]) {
                      }
                      return f(l.Qa + u, 3);
                    }, "%m": (l) => f(l.Ea + 1, 2), "%M": (l) => f(l.oc, 2), "%n": () => "\n", "%p": (l) => 0 <= l.Da && 12 > l.Da ? "AM" : "PM", "%S": (l) => f(l.pc, 2), "%t": () => "	", "%u": (l) => l.R || 7, "%U": (l) => f(Math.floor((l.ba + 7 - l.R) / 7), 2), "%V": (l) => {
                      var u = Math.floor((l.ba + 7 - (l.R + 6) % 7) / 7);
                      2 >= (l.R + 371 - l.ba - 2) % 7 && u++;
                      if (u) {
                        53 == u && (q = (l.R + 371 - l.ba) % 7, 4 == q || 3 == q && Rd(l.ca) || (u = 1));
                      } else {
                        u = 52;
                        var q = (l.R + 7 - l.ba - 1) % 7;
                        (4 == q || 5 == q && Rd(l.ca % 400 - 1)) && u++;
                      }
                      return f(u, 2);
                    }, "%w": (l) => l.R, "%W": (l) => f(Math.floor((l.ba + 7 - (l.R + 6) % 7) / 7), 2), "%y": (l) => (l.ca + 1900).toString().substring(2), "%Y": (l) => l.ca + 1900, "%z": (l) => {
                      l = l.nc;
                      var u = 0 <= l;
                      l = Math.abs(l) / 60;
                      return (u ? "+" : "-") + String("0000" + (l / 60 * 100 + l % 60)).slice(-4);
                    }, "%Z": (l) => l.qc, "%%": () => "%" };
                    c = c.replace(/%%/g, "\0\0");
                    for (t in n) {
                      c.includes(t) && (c = c.replace(new RegExp(t, "g"), n[t](d)));
                    }
                    c = c.replace(/\0\0/g, "%");
                    t = rb(c, false);
                    if (t.length > b) {
                      return 0;
                    }
                    z.set(t, a);
                    return t.length - 1;
                  };
                  [44].forEach((a) => {
                    Bb[a] = new N(a);
                    Bb[a].stack = "<generic error, no stack>";
                  });
                  Ib = Array(4096);
                  ac(O, "/");
                  cc("/tmp");
                  cc("/home");
                  cc("/home/web_user");
                  (function() {
                    cc("/dev");
                    ub(259, { read: () => 0, write: (d, e, f, g) => g });
                    dc("/dev/null", 259);
                    tb(1280, wb);
                    tb(1536, xb);
                    dc("/dev/tty", 1280);
                    dc("/dev/tty1", 1536);
                    var a = new Uint8Array(1024), b = 0, c = () => {
                      0 === b && (b = kb(a).byteLength);
                      return a[--b];
                    };
                    jc("random", c);
                    jc("urandom", c);
                    cc("/dev/shm");
                    cc("/dev/shm/tmp");
                  })();
                  (function() {
                    cc("/proc");
                    var a = cc("/proc/self");
                    cc("/proc/self/fd");
                    ac({ U() {
                      var b = Ab(a, "fd", 16895, 73);
                      b.j = { ja(c, d) {
                        var e = Tb(+d);
                        c = { parent: null, U: { lb: "fake" }, j: { la: () => e.path } };
                        return c.parent = c;
                      } };
                      return b;
                    } }, "/proc/self/fd");
                  })();
                  P = m.BindingError = class extends Error {
                    constructor(a) {
                      super(a);
                      this.name = "BindingError";
                    }
                  };
                  oc.push(0, 1, void 0, 1, null, 1, true, 1, false, 1);
                  m.count_emval_handles = () => oc.length / 2 - 5 - nc.length;
                  sc = m.PureVirtualError = rc("PureVirtualError");
                  for (var Vd = Array(256), Wd = 0; 256 > Wd; ++Wd) {
                    Vd[Wd] = String.fromCharCode(Wd);
                  }
                  tc = Vd;
                  m.getInheritedInstanceCount = () => Object.keys(xc).length;
                  m.getLiveInheritedInstances = () => {
                    var a = [], b;
                    for (b in xc) {
                      xc.hasOwnProperty(b) && a.push(xc[b]);
                    }
                    return a;
                  };
                  m.flushPendingDeletes = vc;
                  m.setDelayFunction = (a) => {
                    wc = a;
                    uc.length && wc && wc(vc);
                  };
                  Jc = m.InternalError = class extends Error {
                    constructor(a) {
                      super(a);
                      this.name = "InternalError";
                    }
                  };
                  Object.assign(Uc.prototype, { isAliasOf: function(a) {
                    if (!(this instanceof Uc && a instanceof Uc)) {
                      return false;
                    }
                    var b = this.g.u.i, c = this.g.o;
                    a.g = a.g;
                    var d = a.g.u.i;
                    for (a = a.g.o; b.C; ) {
                      c = b.ma(c), b = b.C;
                    }
                    for (; d.C; ) {
                      a = d.ma(a), d = d.C;
                    }
                    return b === d && c === a;
                  }, clone: function() {
                    this.g.o || Tc(this);
                    if (this.g.ha) {
                      return this.g.count.value += 1, this;
                    }
                    var a = Kc, b = Object, c = b.create, d = Object.getPrototypeOf(this), e = this.g;
                    a = a(c.call(b, d, { g: { value: { count: e.count, ea: e.ea, ha: e.ha, o: e.o, u: e.u, F: e.F, J: e.J } } }));
                    a.g.count.value += 1;
                    a.g.ea = false;
                    return a;
                  }, ["delete"]() {
                    this.g.o || Tc(this);
                    if (this.g.ea && !this.g.ha) {
                      throw new P("Object already scheduled for deletion");
                    }
                    Ec(this);
                    var a = this.g;
                    --a.count.value;
                    0 === a.count.value && (a.F ? a.J.O(a.F) : a.u.i.O(a.o));
                    this.g.ha || (this.g.F = void 0, this.g.o = void 0);
                  }, isDeleted: function() {
                    return !this.g.o;
                  }, deleteLater: function() {
                    this.g.o || Tc(this);
                    if (this.g.ea && !this.g.ha) {
                      throw new P("Object already scheduled for deletion");
                    }
                    uc.push(this);
                    1 === uc.length && wc && wc(vc);
                    this.g.ea = true;
                    return this;
                  } });
                  Object.assign(dd.prototype, { Rb(a) {
                    this.qb && (a = this.qb(a));
                    return a;
                  }, ab(a) {
                    var _a2;
                    (_a2 = this.O) == null ? void 0 : _a2.call(this, a);
                  }, argPackAdvance: 8, readValueFromPointer: Oc, fromWireType: function(a) {
                    function b() {
                      return this.sa ? Lc(this.i.M, { u: this.hc, o: c, J: this, F: a }) : Lc(this.i.M, { u: this, o: a });
                    }
                    var c = this.Rb(a);
                    if (!c) {
                      return this.ab(a), null;
                    }
                    var d = Ic(this.i, c);
                    if (void 0 !== d) {
                      if (0 === d.g.count.value) {
                        return d.g.o = c, d.g.F = a, d.clone();
                      }
                      d = d.clone();
                      this.ab(a);
                      return d;
                    }
                    d = this.i.Qb(c);
                    d = Hc[d];
                    if (!d) {
                      return b.call(this);
                    }
                    d = this.ra ? d.Hb : d.pointerType;
                    var e = Gc(c, this.i, d.i);
                    return null === e ? b.call(this) : this.sa ? Lc(d.i.M, { u: d, o: e, J: this, F: a }) : Lc(d.i.M, { u: d, o: e });
                  } });
                  nd = m.UnboundTypeError = rc("UnboundTypeError");
                  var Yd = { __syscall_fcntl64: function(a, b, c) {
                    eb = c;
                    try {
                      var d = Tb(a);
                      switch (b) {
                        case 0:
                          var e = db();
                          if (0 > e) {
                            break;
                          }
                          for (; Gb[e]; ) {
                            e++;
                          }
                          return Vb(d, e).W;
                        case 1:
                        case 2:
                          return 0;
                        case 3:
                          return d.flags;
                        case 4:
                          return e = db(), d.flags |= e, 0;
                        case 12:
                          return e = db(), Ca[e + 0 >> 1] = 2, 0;
                        case 13:
                        case 14:
                          return 0;
                      }
                      return -28;
                    } catch (f) {
                      if ("undefined" == typeof lc || "ErrnoError" !== f.name) {
                        throw f;
                      }
                      return -f.$;
                    }
                  }, __syscall_ioctl: function(a, b, c) {
                    eb = c;
                    try {
                      var d = Tb(a);
                      switch (b) {
                        case 21509:
                          return d.s ? 0 : -59;
                        case 21505:
                          if (!d.s) {
                            return -59;
                          }
                          if (d.s.V.Xb) {
                            a = [3, 28, 127, 21, 4, 0, 1, 0, 17, 19, 26, 0, 18, 15, 23, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
                            var e = db();
                            D[e >> 2] = 25856;
                            D[e + 4 >> 2] = 5;
                            D[e + 8 >> 2] = 191;
                            D[e + 12 >> 2] = 35387;
                            for (var f = 0; 32 > f; f++) {
                              z[e + f + 17] = a[f] || 0;
                            }
                          }
                          return 0;
                        case 21510:
                        case 21511:
                        case 21512:
                          return d.s ? 0 : -59;
                        case 21506:
                        case 21507:
                        case 21508:
                          if (!d.s) {
                            return -59;
                          }
                          if (d.s.V.Yb) {
                            for (e = db(), a = [], f = 0; 32 > f; f++) {
                              a.push(z[e + f + 17]);
                            }
                          }
                          return 0;
                        case 21519:
                          if (!d.s) {
                            return -59;
                          }
                          e = db();
                          return D[e >> 2] = 0;
                        case 21520:
                          return d.s ? -28 : -59;
                        case 21531:
                          e = db();
                          if (!d.m.Wb) {
                            throw new N(59);
                          }
                          return d.m.Wb(d, b, e);
                        case 21523:
                          if (!d.s) {
                            return -59;
                          }
                          d.s.V.Zb && (f = [24, 80], e = db(), Ca[e >> 1] = f[0], Ca[e + 2 >> 1] = f[1]);
                          return 0;
                        case 21524:
                          return d.s ? 0 : -59;
                        case 21515:
                          return d.s ? 0 : -59;
                        default:
                          return -28;
                      }
                    } catch (g) {
                      if ("undefined" == typeof lc || "ErrnoError" !== g.name) {
                        throw g;
                      }
                      return -g.$;
                    }
                  }, __syscall_openat: function(a, b, c, d) {
                    eb = d;
                    try {
                      b = b ? nb(A, b) : "";
                      var e = b;
                      if ("/" === e.charAt(0)) {
                        b = e;
                      } else {
                        var f = -100 === a ? "/" : Tb(a).path;
                        if (0 == e.length) {
                          throw new N(44);
                        }
                        b = gb(f + "/" + e);
                      }
                      var g = d ? db() : 0;
                      return fc(b, c, g).W;
                    } catch (k) {
                      if ("undefined" == typeof lc || "ErrnoError" !== k.name) {
                        throw k;
                      }
                      return -k.$;
                    }
                  }, _abort_js: () => {
                    Qa("");
                  }, _embind_create_inheriting_constructor: (a, b, c) => {
                    a = Q(a);
                    b = Dc(b, "wrapper");
                    c = pc(c);
                    var d = b.i, e = d.M, f = d.C.M, g = d.C.constructor;
                    a = mc(a, function(...k) {
                      d.C.pb.forEach((function(p) {
                        if (this[p] === f[p]) {
                          throw new sc(`Pure virtual function ${p} must be implemented in JavaScript`);
                        }
                      }).bind(this));
                      Object.defineProperty(this, "__parent", { value: e });
                      this.__construct(...k);
                    });
                    e.__construct = function(...k) {
                      if (this === e) {
                        throw new P("Pass correct 'this' to __construct");
                      }
                      k = g.implement(this, ...k);
                      Ec(k);
                      var p = k.g;
                      k.notifyOnDestruction();
                      p.ha = true;
                      Object.defineProperties(this, { g: { value: p } });
                      Kc(this);
                      k = p.o;
                      k = yc(d, k);
                      if (xc.hasOwnProperty(k)) {
                        throw new P(`Tried to register registered instance: ${k}`);
                      }
                      xc[k] = this;
                    };
                    e.__destruct = function() {
                      if (this === e) {
                        throw new P("Pass correct 'this' to __destruct");
                      }
                      Ec(this);
                      var k = this.g.o;
                      k = yc(d, k);
                      if (xc.hasOwnProperty(k)) {
                        delete xc[k];
                      } else {
                        throw new P(`Tried to unregister unregistered instance: ${k}`);
                      }
                    };
                    a.prototype = Object.create(e);
                    Object.assign(a.prototype, c);
                    return qc(a);
                  }, _embind_finalize_value_object: (a) => {
                    var b = Mc[a];
                    delete Mc[a];
                    var c = b.Na, d = b.O, e = b.eb, f = e.map((g) => g.Ub).concat(e.map((g) => g.kc));
                    U([a], f, (g) => {
                      var k = {};
                      e.forEach((p, n) => {
                        var t = g[n], x = p.Sb, y = p.Tb, l = g[n + e.length], u = p.jc, q = p.lc;
                        k[p.Ob] = { read: (C) => t.fromWireType(x(y, C)), write: (C, E) => {
                          var w = [];
                          u(q, C, l.toWireType(w, E));
                          Nc(w);
                        } };
                      });
                      return [{ name: b.name, fromWireType: (p) => {
                        var n = {}, t;
                        for (t in k) {
                          n[t] = k[t].read(p);
                        }
                        d(p);
                        return n;
                      }, toWireType: (p, n) => {
                        for (var t in k) {
                          if (!(t in n)) {
                            throw new TypeError(`Missing field: "${t}"`);
                          }
                        }
                        var x = c();
                        for (t in k) {
                          k[t].write(x, n[t]);
                        }
                        null !== p && p.push(d, x);
                        return x;
                      }, argPackAdvance: 8, readValueFromPointer: Oc, L: d }];
                    });
                  }, _embind_register_bigint: () => {
                  }, _embind_register_bool: (a, b, c, d) => {
                    b = Q(b);
                    Rc(a, { name: b, fromWireType: function(e) {
                      return !!e;
                    }, toWireType: function(e, f) {
                      return f ? c : d;
                    }, argPackAdvance: 8, readValueFromPointer: function(e) {
                      return this.fromWireType(A[e]);
                    }, L: null });
                  }, _embind_register_class: (a, b, c, d, e, f, g, k, p, n, t, x, y) => {
                    t = Q(t);
                    f = V(e, f);
                    k && (k = V(g, k));
                    n && (n = V(p, n));
                    y = V(x, y);
                    var l = Xc(t);
                    Wc(l, function() {
                      od(`Cannot construct ${t} due to unbound types`, [d]);
                    });
                    U([a, b, c], d ? [d] : [], (u) => {
                      u = u[0];
                      if (d) {
                        var q = u.i;
                        var C = q.M;
                      } else {
                        C = Uc.prototype;
                      }
                      u = mc(t, function(...R) {
                        if (Object.getPrototypeOf(this) !== E) {
                          throw new P("Use 'new' to construct " + t);
                        }
                        if (void 0 === w.Z) {
                          throw new P(t + " has no accessible constructor");
                        }
                        var W = w.Z[R.length];
                        if (void 0 === W) {
                          throw new P(`Tried to invoke ctor of ${t} with invalid number of parameters (${R.length}) - expected (${Object.keys(w.Z).toString()}) parameters instead!`);
                        }
                        return W.apply(this, R);
                      });
                      var E = Object.create(C, { constructor: { value: u } });
                      u.prototype = E;
                      var w = new Yc(t, u, E, y, q, f, k, n);
                      if (w.C) {
                        var L;
                        (L = w.C).na ?? (L.na = []);
                        w.C.na.push(w);
                      }
                      q = new dd(t, w, true, false, false);
                      L = new dd(t + "*", w, false, false, false);
                      C = new dd(t + " const*", w, false, true, false);
                      Hc[a] = { pointerType: L, Hb: C };
                      ed(l, u);
                      return [q, L, C];
                    });
                  }, _embind_register_class_class_function: (a, b, c, d, e, f, g) => {
                    var k = rd(c, d);
                    b = Q(b);
                    b = sd(b);
                    f = V(e, f);
                    U([], [a], (p) => {
                      function n() {
                        od(`Cannot call ${t} due to unbound types`, k);
                      }
                      p = p[0];
                      var t = `${p.name}.${b}`;
                      b.startsWith("@@") && (b = Symbol[b.substring(2)]);
                      var x = p.i.constructor;
                      void 0 === x[b] ? (n.da = c - 1, x[b] = n) : (Vc(x, b, t), x[b].A[c - 1] = n);
                      U([], k, (y) => {
                        y = qd(t, [y[0], null].concat(y.slice(1)), null, f, g);
                        void 0 === x[b].A ? (y.da = c - 1, x[b] = y) : x[b].A[c - 1] = y;
                        if (p.i.na) {
                          for (const l of p.i.na) {
                            l.constructor.hasOwnProperty(b) || (l.constructor[b] = y);
                          }
                        }
                        return [];
                      });
                      return [];
                    });
                  }, _embind_register_class_class_property: (a, b, c, d, e, f, g, k) => {
                    b = Q(b);
                    f = V(e, f);
                    U([], [a], (p) => {
                      p = p[0];
                      var n = `${p.name}.${b}`, t = { get() {
                        od(`Cannot access ${n} due to unbound types`, [c]);
                      }, enumerable: true, configurable: true };
                      t.set = k ? () => {
                        od(`Cannot access ${n} due to unbound types`, [c]);
                      } : () => {
                        throw new P(`${n} is a read-only property`);
                      };
                      Object.defineProperty(p.i.constructor, b, t);
                      U([], [c], (x) => {
                        x = x[0];
                        var y = { get() {
                          return x.fromWireType(f(d));
                        }, enumerable: true };
                        k && (k = V(g, k), y.set = (l) => {
                          var u = [];
                          k(d, x.toWireType(u, l));
                          Nc(u);
                        });
                        Object.defineProperty(p.i.constructor, b, y);
                        return [];
                      });
                      return [];
                    });
                  }, _embind_register_class_constructor: (a, b, c, d, e, f) => {
                    var g = rd(b, c);
                    e = V(d, e);
                    U([], [a], (k) => {
                      k = k[0];
                      var p = `constructor ${k.name}`;
                      void 0 === k.i.Z && (k.i.Z = []);
                      if (void 0 !== k.i.Z[b - 1]) {
                        throw new P(`Cannot register multiple constructors with identical number of parameters (${b - 1}) for class '${k.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);
                      }
                      k.i.Z[b - 1] = () => {
                        od(`Cannot construct ${k.name} due to unbound types`, g);
                      };
                      U([], g, (n) => {
                        n.splice(1, 0, null);
                        k.i.Z[b - 1] = qd(p, n, null, e, f);
                        return [];
                      });
                      return [];
                    });
                  }, _embind_register_class_function: (a, b, c, d, e, f, g, k) => {
                    var p = rd(c, d);
                    b = Q(b);
                    b = sd(b);
                    f = V(e, f);
                    U([], [a], (n) => {
                      function t() {
                        od(`Cannot call ${x} due to unbound types`, p);
                      }
                      n = n[0];
                      var x = `${n.name}.${b}`;
                      b.startsWith("@@") && (b = Symbol[b.substring(2)]);
                      k && n.i.pb.push(b);
                      var y = n.i.M, l = y[b];
                      void 0 === l || void 0 === l.A && l.className !== n.name && l.da === c - 2 ? (t.da = c - 2, t.className = n.name, y[b] = t) : (Vc(y, b, x), y[b].A[c - 2] = t);
                      U([], p, (u) => {
                        u = qd(x, u, n, f, g);
                        void 0 === y[b].A ? (u.da = c - 2, y[b] = u) : y[b].A[c - 2] = u;
                        return [];
                      });
                      return [];
                    });
                  }, _embind_register_class_property: (a, b, c, d, e, f, g, k, p, n) => {
                    b = Q(b);
                    e = V(d, e);
                    U([], [a], (t) => {
                      t = t[0];
                      var x = `${t.name}.${b}`, y = { get() {
                        od(`Cannot access ${x} due to unbound types`, [c, g]);
                      }, enumerable: true, configurable: true };
                      y.set = p ? () => od(`Cannot access ${x} due to unbound types`, [c, g]) : () => {
                        throw new P(x + " is a read-only property");
                      };
                      Object.defineProperty(t.i.M, b, y);
                      U([], p ? [c, g] : [c], (l) => {
                        var u = l[0], q = { get() {
                          var E = td(this, t, x + " getter");
                          return u.fromWireType(e(f, E));
                        }, enumerable: true };
                        if (p) {
                          p = V(k, p);
                          var C = l[1];
                          q.set = function(E) {
                            var w = td(this, t, x + " setter"), L = [];
                            p(n, w, C.toWireType(L, E));
                            Nc(L);
                          };
                        }
                        Object.defineProperty(t.i.M, b, q);
                        return [];
                      });
                      return [];
                    });
                  }, _embind_register_emval: (a) => Rc(a, vd), _embind_register_enum: (a, b, c, d) => {
                    function e() {
                    }
                    b = Q(b);
                    e.values = {};
                    Rc(a, { name: b, constructor: e, fromWireType: function(f) {
                      return this.constructor.values[f];
                    }, toWireType: (f, g) => g.value, argPackAdvance: 8, readValueFromPointer: wd(b, c, d), L: null });
                    Wc(b, e);
                  }, _embind_register_enum_value: (a, b, c) => {
                    var d = Dc(a, "enum");
                    b = Q(b);
                    a = d.constructor;
                    d = Object.create(d.constructor.prototype, { value: { value: c }, constructor: { value: mc(`${d.name}_${b}`, function() {
                    }) } });
                    a.values[c] = d;
                    a[b] = d;
                  }, _embind_register_float: (a, b, c) => {
                    b = Q(b);
                    Rc(a, { name: b, fromWireType: (d) => d, toWireType: (d, e) => e, argPackAdvance: 8, readValueFromPointer: xd(b, c), L: null });
                  }, _embind_register_function: (a, b, c, d, e, f) => {
                    var g = rd(b, c);
                    a = Q(a);
                    a = sd(a);
                    e = V(d, e);
                    Wc(a, function() {
                      od(`Cannot call ${a} due to unbound types`, g);
                    }, b - 1);
                    U([], g, (k) => {
                      ed(a, qd(a, [k[0], null].concat(k.slice(1)), null, e, f), b - 1);
                      return [];
                    });
                  }, _embind_register_integer: (a, b, c, d, e) => {
                    b = Q(b);
                    -1 === e && (e = 4294967295);
                    e = (k) => k;
                    if (0 === d) {
                      var f = 32 - 8 * c;
                      e = (k) => k << f >>> f;
                    }
                    var g = b.includes("unsigned") ? function(k, p) {
                      return p >>> 0;
                    } : function(k, p) {
                      return p;
                    };
                    Rc(a, { name: b, fromWireType: e, toWireType: g, argPackAdvance: 8, readValueFromPointer: yd(b, c, 0 !== d), L: null });
                  }, _embind_register_memory_view: (a, b, c) => {
                    function d(f) {
                      return new e(z.buffer, M[f + 4 >> 2], M[f >> 2]);
                    }
                    var e = [Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array][b];
                    c = Q(c);
                    Rc(a, { name: c, fromWireType: d, argPackAdvance: 8, readValueFromPointer: d }, { Vb: true });
                  }, _embind_register_std_string: (a, b) => {
                    b = Q(b);
                    var c = "std::string" === b;
                    Rc(a, { name: b, fromWireType: function(d) {
                      var e = M[d >> 2], f = d + 4;
                      if (c) {
                        for (var g = f, k = 0; k <= e; ++k) {
                          var p = f + k;
                          if (k == e || 0 == A[p]) {
                            g = g ? nb(A, g, p - g) : "";
                            if (void 0 === n) {
                              var n = g;
                            } else {
                              n += String.fromCharCode(0), n += g;
                            }
                            g = p + 1;
                          }
                        }
                      } else {
                        n = Array(e);
                        for (k = 0; k < e; ++k) {
                          n[k] = String.fromCharCode(A[f + k]);
                        }
                        n = n.join("");
                      }
                      Bc(d);
                      return n;
                    }, toWireType: function(d, e) {
                      e instanceof ArrayBuffer && (e = new Uint8Array(e));
                      var f = "string" == typeof e;
                      if (!(f || e instanceof Uint8Array || e instanceof Uint8ClampedArray || e instanceof Int8Array)) {
                        throw new P("Cannot pass non-string to std::string");
                      }
                      var g = c && f ? pb(e) : e.length;
                      var k = Xd(4 + g + 1), p = k + 4;
                      M[k >> 2] = g;
                      if (c && f) {
                        qb(e, A, p, g + 1);
                      } else {
                        if (f) {
                          for (f = 0; f < g; ++f) {
                            var n = e.charCodeAt(f);
                            if (255 < n) {
                              throw Bc(p), new P("String has UTF-16 code units that do not fit in 8 bits");
                            }
                            A[p + f] = n;
                          }
                        } else {
                          for (f = 0; f < g; ++f) {
                            A[p + f] = e[f];
                          }
                        }
                      }
                      null !== d && d.push(Bc, k);
                      return k;
                    }, argPackAdvance: 8, readValueFromPointer: Oc, L(d) {
                      Bc(d);
                    } });
                  }, _embind_register_std_wstring: (a, b, c) => {
                    c = Q(c);
                    if (2 === b) {
                      var d = Ad;
                      var e = Bd;
                      var f = Cd;
                      var g = (k) => Fa[k >> 1];
                    } else {
                      4 === b && (d = Dd, e = Ed, f = Fd, g = (k) => M[k >> 2]);
                    }
                    Rc(a, { name: c, fromWireType: (k) => {
                      for (var p = M[k >> 2], n, t = k + 4, x = 0; x <= p; ++x) {
                        var y = k + 4 + x * b;
                        if (x == p || 0 == g(y)) {
                          t = d(t, y - t), void 0 === n ? n = t : (n += String.fromCharCode(0), n += t), t = y + b;
                        }
                      }
                      Bc(k);
                      return n;
                    }, toWireType: (k, p) => {
                      if ("string" != typeof p) {
                        throw new P(`Cannot pass non-string to C++ string type ${c}`);
                      }
                      var n = f(p), t = Xd(4 + n + b);
                      M[t >> 2] = n / b;
                      e(p, t + 4, n + b);
                      null !== k && k.push(Bc, t);
                      return t;
                    }, argPackAdvance: 8, readValueFromPointer: Oc, L(k) {
                      Bc(k);
                    } });
                  }, _embind_register_value_object: (a, b, c, d, e, f) => {
                    Mc[a] = { name: Q(b), Na: V(c, d), O: V(e, f), eb: [] };
                  }, _embind_register_value_object_field: (a, b, c, d, e, f, g, k, p, n) => {
                    Mc[a].eb.push({ Ob: Q(b), Ub: c, Sb: V(d, e), Tb: f, kc: g, jc: V(k, p), lc: n });
                  }, _embind_register_void: (a, b) => {
                    b = Q(b);
                    Rc(a, { Ic: true, name: b, argPackAdvance: 0, fromWireType: () => {
                    }, toWireType: () => {
                    } });
                  }, _emscripten_get_now_is_monotonic: () => 1, _emscripten_memcpy_js: (a, b, c) => A.copyWithin(a, b, b + c), _emval_as: (a, b, c) => {
                    a = pc(a);
                    b = Dc(b, "emval::as");
                    return Gd(b, c, a);
                  }, _emval_call_method: (a, b, c, d, e) => {
                    a = Jd[a];
                    b = pc(b);
                    c = Id(c);
                    return a(b, b[c], d, e);
                  }, _emval_decref: ud, _emval_get_method_caller: (a, b, c) => {
                    var d = Ld(a, b), e = d.shift();
                    a--;
                    var f = Array(a);
                    b = `methodCaller<(${d.map((g) => g.name).join(", ")}) => ${e.name}>`;
                    return Kd(mc(b, (g, k, p, n) => {
                      for (var t = 0, x = 0; x < a; ++x) {
                        f[x] = d[x].readValueFromPointer(n + t), t += d[x].argPackAdvance;
                      }
                      g = 1 === c ? Md(k, f) : k.apply(g, f);
                      return Gd(e, p, g);
                    }));
                  }, _emval_get_module_property: (a) => {
                    a = Id(a);
                    return qc(m[a]);
                  }, _emval_get_property: (a, b) => {
                    a = pc(a);
                    b = pc(b);
                    return qc(a[b]);
                  }, _emval_incref: (a) => {
                    9 < a && (oc[a + 1] += 1);
                  }, _emval_new_array: () => qc([]), _emval_new_cstring: (a) => qc(Id(a)), _emval_new_object: () => qc({}), _emval_run_destructors: (a) => {
                    var b = pc(a);
                    Nc(b);
                    ud(a);
                  }, _emval_set_property: (a, b, c) => {
                    a = pc(a);
                    b = pc(b);
                    c = pc(c);
                    a[b] = c;
                  }, _emval_take_value: (a, b) => {
                    a = Dc(a, "_emval_take_value");
                    a = a.readValueFromPointer(b);
                    return qc(a);
                  }, emscripten_asm_const_int: (a, b, c) => {
                    Nd.length = 0;
                    for (var d; d = A[b++]; ) {
                      var e = 105 != d;
                      e &= 112 != d;
                      c += e && c % 8 ? 4 : 0;
                      Nd.push(112 == d ? M[c >> 2] : 105 == d ? D[c >> 2] : Ha[c >> 3]);
                      c += e ? 8 : 4;
                    }
                    return bb[a](...Nd);
                  }, emscripten_date_now: () => Date.now(), emscripten_get_now: () => performance.now(), emscripten_resize_heap: (a) => {
                    var b = A.length;
                    a >>>= 0;
                    if (2147483648 < a) {
                      return false;
                    }
                    for (var c = 1; 4 >= c; c *= 2) {
                      var d = b * (1 + 0.2 / c);
                      d = Math.min(d, a + 100663296);
                      var e = Math;
                      d = Math.max(a, d);
                      a: {
                        e = (e.min.call(e, 2147483648, d + (65536 - d % 65536) % 65536) - Aa.buffer.byteLength + 65535) / 65536;
                        try {
                          Aa.grow(e);
                          Ia();
                          var f = 1;
                          break a;
                        } catch (g) {
                        }
                        f = void 0;
                      }
                      if (f) {
                        return true;
                      }
                    }
                    return false;
                  }, environ_get: (a, b) => {
                    var c = 0;
                    Qd().forEach((d, e) => {
                      var f = b + c;
                      e = M[a + 4 * e >> 2] = f;
                      for (f = 0; f < d.length; ++f) {
                        z[e++] = d.charCodeAt(f);
                      }
                      z[e] = 0;
                      c += d.length + 1;
                    });
                    return 0;
                  }, environ_sizes_get: (a, b) => {
                    var c = Qd();
                    M[a >> 2] = c.length;
                    var d = 0;
                    c.forEach((e) => d += e.length + 1);
                    M[b >> 2] = d;
                    return 0;
                  }, fd_close: function(a) {
                    try {
                      var b = Tb(a);
                      if (null === b.W) {
                        throw new N(8);
                      }
                      b.Ka && (b.Ka = null);
                      try {
                        b.m.close && b.m.close(b);
                      } catch (c) {
                        throw c;
                      } finally {
                        Gb[b.W] = null;
                      }
                      b.W = null;
                      return 0;
                    } catch (c) {
                      if ("undefined" == typeof lc || "ErrnoError" !== c.name) {
                        throw c;
                      }
                      return c.$;
                    }
                  }, fd_read: function(a, b, c, d) {
                    try {
                      a: {
                        var e = Tb(a);
                        a = b;
                        for (var f, g = b = 0; g < c; g++) {
                          var k = M[a >> 2], p = M[a + 4 >> 2];
                          a += 8;
                          var n = e, t = f, x = z;
                          if (0 > p || 0 > t) {
                            throw new N(28);
                          }
                          if (null === n.W) {
                            throw new N(8);
                          }
                          if (1 === (n.flags & 2097155)) {
                            throw new N(8);
                          }
                          if (16384 === (n.node.mode & 61440)) {
                            throw new N(31);
                          }
                          if (!n.m.read) {
                            throw new N(28);
                          }
                          var y = "undefined" != typeof t;
                          if (!y) {
                            t = n.position;
                          } else if (!n.seekable) {
                            throw new N(70);
                          }
                          var l = n.m.read(n, x, k, p, t);
                          y || (n.position += l);
                          var u = l;
                          if (0 > u) {
                            var q = -1;
                            break a;
                          }
                          b += u;
                          if (u < p) {
                            break;
                          }
                          "undefined" != typeof f && (f += u);
                        }
                        q = b;
                      }
                      M[d >> 2] = q;
                      return 0;
                    } catch (C) {
                      if ("undefined" == typeof lc || "ErrnoError" !== C.name) {
                        throw C;
                      }
                      return C.$;
                    }
                  }, fd_seek: function(a, b, c, d, e) {
                    b = c + 2097152 >>> 0 < 4194305 - !!b ? (b >>> 0) + 4294967296 * c : NaN;
                    try {
                      if (isNaN(b)) {
                        return 61;
                      }
                      var f = Tb(a);
                      hc(f, b, d);
                      Ya = [f.position >>> 0, (Xa = f.position, 1 <= +Math.abs(Xa) ? 0 < Xa ? +Math.floor(Xa / 4294967296) >>> 0 : ~~+Math.ceil((Xa - +(~~Xa >>> 0)) / 4294967296) >>> 0 : 0)];
                      D[e >> 2] = Ya[0];
                      D[e + 4 >> 2] = Ya[1];
                      f.Ka && 0 === b && 0 === d && (f.Ka = null);
                      return 0;
                    } catch (g) {
                      if ("undefined" == typeof lc || "ErrnoError" !== g.name) {
                        throw g;
                      }
                      return g.$;
                    }
                  }, fd_write: function(a, b, c, d) {
                    try {
                      a: {
                        var e = Tb(a);
                        a = b;
                        for (var f, g = b = 0; g < c; g++) {
                          var k = M[a >> 2], p = M[a + 4 >> 2];
                          a += 8;
                          var n = e, t = k, x = p, y = f, l = z;
                          if (0 > x || 0 > y) {
                            throw new N(28);
                          }
                          if (null === n.W) {
                            throw new N(8);
                          }
                          if (0 === (n.flags & 2097155)) {
                            throw new N(8);
                          }
                          if (16384 === (n.node.mode & 61440)) {
                            throw new N(31);
                          }
                          if (!n.m.write) {
                            throw new N(28);
                          }
                          n.seekable && n.flags & 1024 && hc(n, 0, 2);
                          var u = "undefined" != typeof y;
                          if (!u) {
                            y = n.position;
                          } else if (!n.seekable) {
                            throw new N(70);
                          }
                          var q = n.m.write(n, l, t, x, y, void 0);
                          u || (n.position += q);
                          var C = q;
                          if (0 > C) {
                            var E = -1;
                            break a;
                          }
                          b += C;
                          "undefined" != typeof f && (f += C);
                        }
                        E = b;
                      }
                      M[d >> 2] = E;
                      return 0;
                    } catch (w) {
                      if ("undefined" == typeof lc || "ErrnoError" !== w.name) {
                        throw w;
                      }
                      return w.$;
                    }
                  }, strftime_l: (a, b, c, d) => Ud(a, b, c, d) }, X = (function() {
                    var _a2;
                    function a(c) {
                      var _a3;
                      X = c.exports;
                      Aa = X.memory;
                      Ia();
                      gd = X.__indirect_function_table;
                      Ka.unshift(X.__wasm_call_ctors);
                      Na--;
                      (_a3 = m.monitorRunDependencies) == null ? void 0 : _a3.call(m, Na);
                      0 == Na && (null !== Oa && (clearInterval(Oa), Oa = null), Pa && (c = Pa, Pa = null, c()));
                      return X;
                    }
                    var b = { env: Yd, wasi_snapshot_preview1: Yd };
                    Na++;
                    (_a2 = m.monitorRunDependencies) == null ? void 0 : _a2.call(m, Na);
                    if (m.instantiateWasm) {
                      try {
                        return m.instantiateWasm(b, a);
                      } catch (c) {
                        ya(`Module.instantiateWasm callback failed with error: ${c}`), ca(c);
                      }
                    }
                    Sa || (Sa = Ra("canvas_advanced.wasm") ? "canvas_advanced.wasm" : m.locateFile ? m.locateFile("canvas_advanced.wasm", sa) : sa + "canvas_advanced.wasm");
                    Wa(b, function(c) {
                      a(c.instance);
                    }).catch(ca);
                    return {};
                  })(), Bc = (a) => (Bc = X.free)(a), Xd = (a) => (Xd = X.malloc)(a), Ac = (a) => (Ac = X.__getTypeName)(a), Za = m._ma_device__on_notification_unlocked = (a) => (Za = m._ma_device__on_notification_unlocked = X.ma_device__on_notification_unlocked)(a);
                  m._ma_malloc_emscripten = (a, b) => (m._ma_malloc_emscripten = X.ma_malloc_emscripten)(a, b);
                  m._ma_free_emscripten = (a, b) => (m._ma_free_emscripten = X.ma_free_emscripten)(a, b);
                  var $a = m._ma_device_process_pcm_frames_capture__webaudio = (a, b, c) => ($a = m._ma_device_process_pcm_frames_capture__webaudio = X.ma_device_process_pcm_frames_capture__webaudio)(a, b, c), ab = m._ma_device_process_pcm_frames_playback__webaudio = (a, b, c) => (ab = m._ma_device_process_pcm_frames_playback__webaudio = X.ma_device_process_pcm_frames_playback__webaudio)(a, b, c);
                  m.dynCall_iiji = (a, b, c, d, e) => (m.dynCall_iiji = X.dynCall_iiji)(a, b, c, d, e);
                  m.dynCall_jiji = (a, b, c, d, e) => (m.dynCall_jiji = X.dynCall_jiji)(a, b, c, d, e);
                  m.dynCall_iiiji = (a, b, c, d, e, f) => (m.dynCall_iiiji = X.dynCall_iiiji)(a, b, c, d, e, f);
                  m.dynCall_iij = (a, b, c, d) => (m.dynCall_iij = X.dynCall_iij)(a, b, c, d);
                  m.dynCall_jii = (a, b, c) => (m.dynCall_jii = X.dynCall_jii)(a, b, c);
                  m.dynCall_viijii = (a, b, c, d, e, f, g) => (m.dynCall_viijii = X.dynCall_viijii)(a, b, c, d, e, f, g);
                  m.dynCall_iiiiij = (a, b, c, d, e, f, g) => (m.dynCall_iiiiij = X.dynCall_iiiiij)(a, b, c, d, e, f, g);
                  m.dynCall_iiiiijj = (a, b, c, d, e, f, g, k, p) => (m.dynCall_iiiiijj = X.dynCall_iiiiijj)(a, b, c, d, e, f, g, k, p);
                  m.dynCall_iiiiiijj = (a, b, c, d, e, f, g, k, p, n) => (m.dynCall_iiiiiijj = X.dynCall_iiiiiijj)(a, b, c, d, e, f, g, k, p, n);
                  var Zd;
                  Pa = function $d() {
                    Zd || ae();
                    Zd || (Pa = $d);
                  };
                  function ae() {
                    function a() {
                      if (!Zd && (Zd = true, m.calledRun = true, !Ba)) {
                        m.noFSInit || ic || (ic = true, m.stdin = m.stdin, m.stdout = m.stdout, m.stderr = m.stderr, m.stdin ? jc("stdin", m.stdin) : ec("/dev/tty", "/dev/stdin"), m.stdout ? jc("stdout", null, m.stdout) : ec("/dev/tty", "/dev/stdout"), m.stderr ? jc("stderr", null, m.stderr) : ec("/dev/tty1", "/dev/stderr"), fc("/dev/stdin", 0), fc("/dev/stdout", 1), fc("/dev/stderr", 1));
                        Jb = false;
                        cb(Ka);
                        ba(m);
                        if (m.onRuntimeInitialized) {
                          m.onRuntimeInitialized();
                        }
                        if (m.postRun) {
                          for ("function" == typeof m.postRun && (m.postRun = [m.postRun]); m.postRun.length; ) {
                            var b = m.postRun.shift();
                            La.unshift(b);
                          }
                        }
                        cb(La);
                      }
                    }
                    if (!(0 < Na)) {
                      if (m.preRun) {
                        for ("function" == typeof m.preRun && (m.preRun = [m.preRun]); m.preRun.length; ) {
                          Ma();
                        }
                      }
                      cb(Ja);
                      0 < Na || (m.setStatus ? (m.setStatus("Running..."), setTimeout(function() {
                        setTimeout(function() {
                          m.setStatus("");
                        }, 1);
                        a();
                      }, 1)) : a());
                    }
                  }
                  if (m.preInit) {
                    for ("function" == typeof m.preInit && (m.preInit = [m.preInit]); 0 < m.preInit.length; ) {
                      m.preInit.pop()();
                    }
                  }
                  ae();
                  moduleRtn = da;
                  return moduleRtn;
                });
              })();
              const __WEBPACK_DEFAULT_EXPORT__ = Rive;
            }),
            /* 2 */
            /***/
            ((module2) => {
              module2.exports = JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`);
            }),
            /* 3 */
            /***/
            ((__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
              __webpack_require__2.r(__webpack_exports__2);
              __webpack_require__2.d(__webpack_exports__2, {
                /* harmony export */
                Animation: () => (
                  /* reexport safe */
                  _Animation__WEBPACK_IMPORTED_MODULE_0__.Animation
                )
                /* harmony export */
              });
              var _Animation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2(4);
            }),
            /* 4 */
            /***/
            ((__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
              __webpack_require__2.r(__webpack_exports__2);
              __webpack_require__2.d(__webpack_exports__2, {
                /* harmony export */
                Animation: () => (
                  /* binding */
                  Animation
                )
                /* harmony export */
              });
              var Animation = (
                /** @class */
                (function() {
                  function Animation2(animation, artboard, runtime, playing) {
                    this.animation = animation;
                    this.artboard = artboard;
                    this.playing = playing;
                    this.loopCount = 0;
                    this.scrubTo = null;
                    this.instance = new runtime.LinearAnimationInstance(animation, artboard);
                  }
                  Object.defineProperty(Animation2.prototype, "name", {
                    /**
                     * Returns the animation's name
                     */
                    get: function() {
                      return this.animation.name;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  Object.defineProperty(Animation2.prototype, "time", {
                    /**
                     * Returns the animation's name
                     */
                    get: function() {
                      return this.instance.time;
                    },
                    /**
                     * Sets the animation's current time
                     */
                    set: function(value) {
                      this.instance.time = value;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  Object.defineProperty(Animation2.prototype, "loopValue", {
                    /**
                     * Returns the animation's loop type
                     */
                    get: function() {
                      return this.animation.loopValue;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  Object.defineProperty(Animation2.prototype, "needsScrub", {
                    /**
                     * Indicates whether the animation needs to be scrubbed.
                     * @returns `true` if the animation needs to be scrubbed, `false` otherwise.
                     */
                    get: function() {
                      return this.scrubTo !== null;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  Animation2.prototype.advance = function(time) {
                    if (this.scrubTo === null) {
                      this.instance.advance(time);
                    } else {
                      this.instance.time = 0;
                      this.instance.advance(this.scrubTo);
                      this.scrubTo = null;
                    }
                  };
                  Animation2.prototype.apply = function(mix) {
                    this.instance.apply(mix);
                  };
                  Animation2.prototype.cleanup = function() {
                    this.instance.delete();
                  };
                  return Animation2;
                })()
              );
            }),
            /* 5 */
            /***/
            ((__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
              __webpack_require__2.r(__webpack_exports__2);
              __webpack_require__2.d(__webpack_exports__2, {
                /* harmony export */
                AudioAssetWrapper: () => (
                  /* reexport safe */
                  _finalizationRegistry__WEBPACK_IMPORTED_MODULE_2__.AudioAssetWrapper
                ),
                /* harmony export */
                AudioWrapper: () => (
                  /* reexport safe */
                  _finalizationRegistry__WEBPACK_IMPORTED_MODULE_2__.AudioWrapper
                ),
                /* harmony export */
                BLANK_URL: () => (
                  /* reexport safe */
                  _sanitizeUrl__WEBPACK_IMPORTED_MODULE_1__.BLANK_URL
                ),
                /* harmony export */
                CustomFileAssetLoaderWrapper: () => (
                  /* reexport safe */
                  _finalizationRegistry__WEBPACK_IMPORTED_MODULE_2__.CustomFileAssetLoaderWrapper
                ),
                /* harmony export */
                FileAssetWrapper: () => (
                  /* reexport safe */
                  _finalizationRegistry__WEBPACK_IMPORTED_MODULE_2__.FileAssetWrapper
                ),
                /* harmony export */
                FileFinalizer: () => (
                  /* reexport safe */
                  _finalizationRegistry__WEBPACK_IMPORTED_MODULE_2__.FileFinalizer
                ),
                /* harmony export */
                FontAssetWrapper: () => (
                  /* reexport safe */
                  _finalizationRegistry__WEBPACK_IMPORTED_MODULE_2__.FontAssetWrapper
                ),
                /* harmony export */
                FontWrapper: () => (
                  /* reexport safe */
                  _finalizationRegistry__WEBPACK_IMPORTED_MODULE_2__.FontWrapper
                ),
                /* harmony export */
                ImageAssetWrapper: () => (
                  /* reexport safe */
                  _finalizationRegistry__WEBPACK_IMPORTED_MODULE_2__.ImageAssetWrapper
                ),
                /* harmony export */
                ImageWrapper: () => (
                  /* reexport safe */
                  _finalizationRegistry__WEBPACK_IMPORTED_MODULE_2__.ImageWrapper
                ),
                /* harmony export */
                createFinalization: () => (
                  /* reexport safe */
                  _finalizationRegistry__WEBPACK_IMPORTED_MODULE_2__.createFinalization
                ),
                /* harmony export */
                finalizationRegistry: () => (
                  /* reexport safe */
                  _finalizationRegistry__WEBPACK_IMPORTED_MODULE_2__.finalizationRegistry
                ),
                /* harmony export */
                registerTouchInteractions: () => (
                  /* reexport safe */
                  _registerTouchInteractions__WEBPACK_IMPORTED_MODULE_0__.registerTouchInteractions
                ),
                /* harmony export */
                sanitizeUrl: () => (
                  /* reexport safe */
                  _sanitizeUrl__WEBPACK_IMPORTED_MODULE_1__.sanitizeUrl
                )
                /* harmony export */
              });
              var _registerTouchInteractions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2(6);
              var _sanitizeUrl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2(7);
              var _finalizationRegistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2(8);
            }),
            /* 6 */
            /***/
            ((__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
              __webpack_require__2.r(__webpack_exports__2);
              __webpack_require__2.d(__webpack_exports__2, {
                /* harmony export */
                registerTouchInteractions: () => (
                  /* binding */
                  registerTouchInteractions
                )
                /* harmony export */
              });
              var _this = void 0;
              var getClientCoordinates = function(event, isTouchScrollEnabled, enableMultiTouch) {
                var _a, _b;
                var coordinates = [];
                if (["touchstart", "touchmove"].indexOf(event.type) > -1 && ((_a = event.changedTouches) === null || _a === void 0 ? void 0 : _a.length)) {
                  if (!isTouchScrollEnabled) {
                    event.preventDefault();
                  }
                  var cnt = 0;
                  var totalTouches = enableMultiTouch ? event.changedTouches.length : 1;
                  while (cnt < totalTouches) {
                    var touch = event.changedTouches[cnt];
                    coordinates.push({
                      clientX: touch.clientX,
                      clientY: touch.clientY,
                      identifier: touch.identifier
                    });
                    cnt++;
                  }
                } else if (event.type === "touchend" && ((_b = event.changedTouches) === null || _b === void 0 ? void 0 : _b.length)) {
                  var cnt = 0;
                  var totalTouches = enableMultiTouch ? event.changedTouches.length : 1;
                  while (cnt < totalTouches) {
                    var touch = event.changedTouches[cnt];
                    coordinates.push({
                      clientX: touch.clientX,
                      clientY: touch.clientY,
                      identifier: touch.identifier
                    });
                    cnt++;
                  }
                } else {
                  coordinates.push({
                    clientX: event.clientX,
                    clientY: event.clientY,
                    identifier: 0
                  });
                }
                return coordinates;
              };
              var registerTouchInteractions = function(_a) {
                var canvas = _a.canvas, artboard = _a.artboard, _b = _a.stateMachines, stateMachines = _b === void 0 ? [] : _b, renderer = _a.renderer, rive = _a.rive, fit = _a.fit, alignment = _a.alignment, _c = _a.isTouchScrollEnabled, isTouchScrollEnabled = _c === void 0 ? false : _c, _d = _a.dispatchPointerExit, dispatchPointerExit = _d === void 0 ? true : _d, _e = _a.enableMultiTouch, enableMultiTouch = _e === void 0 ? false : _e, _f = _a.layoutScaleFactor, layoutScaleFactor = _f === void 0 ? 1 : _f;
                if (!canvas || !stateMachines.length || !renderer || !rive || !artboard || typeof window === "undefined") {
                  return null;
                }
                var _prevEventType = null;
                var _syntheticEventsActive = false;
                var processEventCallback = function(event) {
                  if (_syntheticEventsActive && event instanceof MouseEvent) {
                    if (event.type == "mouseup") {
                      _syntheticEventsActive = false;
                    }
                    return;
                  }
                  _syntheticEventsActive = isTouchScrollEnabled && event.type === "touchend" && _prevEventType === "touchstart";
                  _prevEventType = event.type;
                  var boundingRect = event.currentTarget.getBoundingClientRect();
                  var coordinateSets = getClientCoordinates(event, isTouchScrollEnabled, enableMultiTouch);
                  var forwardMatrix = rive.computeAlignment(fit, alignment, {
                    minX: 0,
                    minY: 0,
                    maxX: boundingRect.width,
                    maxY: boundingRect.height
                  }, artboard.bounds, layoutScaleFactor);
                  var invertedMatrix = new rive.Mat2D();
                  forwardMatrix.invert(invertedMatrix);
                  coordinateSets.forEach(function(coordinateSet) {
                    var clientX = coordinateSet.clientX;
                    var clientY = coordinateSet.clientY;
                    if (!clientX && !clientY) {
                      return;
                    }
                    var canvasX = clientX - boundingRect.left;
                    var canvasY = clientY - boundingRect.top;
                    var canvasCoordinatesVector = new rive.Vec2D(canvasX, canvasY);
                    var transformedVector = rive.mapXY(invertedMatrix, canvasCoordinatesVector);
                    var transformedX = transformedVector.x();
                    var transformedY = transformedVector.y();
                    coordinateSet.transformedX = transformedX;
                    coordinateSet.transformedY = transformedY;
                    transformedVector.delete();
                    canvasCoordinatesVector.delete();
                  });
                  invertedMatrix.delete();
                  forwardMatrix.delete();
                  switch (event.type) {
                    /**
                     * There's a 2px buffer for a hitRadius when translating the pointer coordinates
                     * down to the state machine. In cases where the hitbox is about that much away
                     * from the Artboard border, we don't have exact precision on determining pointer
                     * exit. We're therefore adding to the translated coordinates on mouseout of a canvas
                     * to ensure that we report the mouse has truly exited the hitarea.
                     * https://github.com/rive-app/rive-cpp/blob/master/src/animation/state_machine_instance.cpp#L336
                     *
                     */
                    case "mouseout":
                      var _loop_1 = function(stateMachine2) {
                        if (dispatchPointerExit) {
                          coordinateSets.forEach(function(coordinateSet) {
                            stateMachine2.pointerExit(coordinateSet.transformedX, coordinateSet.transformedY, coordinateSet.identifier);
                          });
                        } else {
                          coordinateSets.forEach(function(coordinateSet) {
                            stateMachine2.pointerMove(coordinateSet.transformedX, coordinateSet.transformedY, coordinateSet.identifier);
                          });
                        }
                      };
                      for (var _i = 0, stateMachines_1 = stateMachines; _i < stateMachines_1.length; _i++) {
                        var stateMachine = stateMachines_1[_i];
                        _loop_1(stateMachine);
                      }
                      break;
                    // Pointer moving/hovering on the canvas
                    case "touchmove":
                    case "mouseover":
                    case "mousemove": {
                      var _loop_2 = function(stateMachine2) {
                        coordinateSets.forEach(function(coordinateSet) {
                          stateMachine2.pointerMove(coordinateSet.transformedX, coordinateSet.transformedY, coordinateSet.identifier);
                        });
                      };
                      for (var _a2 = 0, stateMachines_2 = stateMachines; _a2 < stateMachines_2.length; _a2++) {
                        var stateMachine = stateMachines_2[_a2];
                        _loop_2(stateMachine);
                      }
                      break;
                    }
                    // Pointer click initiated but not released yet on the canvas
                    case "touchstart":
                    case "mousedown": {
                      var _loop_3 = function(stateMachine2) {
                        coordinateSets.forEach(function(coordinateSet) {
                          stateMachine2.pointerDown(coordinateSet.transformedX, coordinateSet.transformedY, coordinateSet.identifier);
                        });
                      };
                      for (var _b2 = 0, stateMachines_3 = stateMachines; _b2 < stateMachines_3.length; _b2++) {
                        var stateMachine = stateMachines_3[_b2];
                        _loop_3(stateMachine);
                      }
                      break;
                    }
                    // Pointer click released on the canvas
                    case "touchend": {
                      var _loop_4 = function(stateMachine2) {
                        coordinateSets.forEach(function(coordinateSet) {
                          stateMachine2.pointerUp(coordinateSet.transformedX, coordinateSet.transformedY, coordinateSet.identifier);
                          stateMachine2.pointerExit(coordinateSet.transformedX, coordinateSet.transformedY, coordinateSet.identifier);
                        });
                      };
                      for (var _c2 = 0, stateMachines_4 = stateMachines; _c2 < stateMachines_4.length; _c2++) {
                        var stateMachine = stateMachines_4[_c2];
                        _loop_4(stateMachine);
                      }
                      break;
                    }
                    case "mouseup": {
                      var _loop_5 = function(stateMachine2) {
                        coordinateSets.forEach(function(coordinateSet) {
                          stateMachine2.pointerUp(coordinateSet.transformedX, coordinateSet.transformedY, coordinateSet.identifier);
                        });
                      };
                      for (var _d2 = 0, stateMachines_5 = stateMachines; _d2 < stateMachines_5.length; _d2++) {
                        var stateMachine = stateMachines_5[_d2];
                        _loop_5(stateMachine);
                      }
                      break;
                    }
                    default:
                  }
                };
                var callback = processEventCallback.bind(_this);
                canvas.addEventListener("mouseover", callback);
                canvas.addEventListener("mouseout", callback);
                canvas.addEventListener("mousemove", callback);
                canvas.addEventListener("mousedown", callback);
                canvas.addEventListener("mouseup", callback);
                canvas.addEventListener("touchmove", callback, {
                  passive: isTouchScrollEnabled
                });
                canvas.addEventListener("touchstart", callback, {
                  passive: isTouchScrollEnabled
                });
                canvas.addEventListener("touchend", callback);
                return function() {
                  canvas.removeEventListener("mouseover", callback);
                  canvas.removeEventListener("mouseout", callback);
                  canvas.removeEventListener("mousemove", callback);
                  canvas.removeEventListener("mousedown", callback);
                  canvas.removeEventListener("mouseup", callback);
                  canvas.removeEventListener("touchmove", callback);
                  canvas.removeEventListener("touchstart", callback);
                  canvas.removeEventListener("touchend", callback);
                };
              };
            }),
            /* 7 */
            /***/
            ((__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
              __webpack_require__2.r(__webpack_exports__2);
              __webpack_require__2.d(__webpack_exports__2, {
                /* harmony export */
                BLANK_URL: () => (
                  /* binding */
                  BLANK_URL
                ),
                /* harmony export */
                sanitizeUrl: () => (
                  /* binding */
                  sanitizeUrl
                )
                /* harmony export */
              });
              var invalidProtocolRegex = /^([^\w]*)(javascript|data|vbscript)/im;
              var htmlEntitiesRegex = /&#(\w+)(^\w|;)?/g;
              var htmlCtrlEntityRegex = /&(newline|tab);/gi;
              var ctrlCharactersRegex = /[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;
              var urlSchemeRegex = /^.+(:|&colon;)/gim;
              var relativeFirstCharacters = [".", "/"];
              var BLANK_URL = "about:blank";
              function isRelativeUrlWithoutProtocol(url) {
                return relativeFirstCharacters.indexOf(url[0]) > -1;
              }
              function decodeHtmlCharacters(str) {
                var removedNullByte = str.replace(ctrlCharactersRegex, "");
                return removedNullByte.replace(htmlEntitiesRegex, function(match, dec) {
                  return String.fromCharCode(dec);
                });
              }
              function sanitizeUrl(url) {
                if (!url) {
                  return BLANK_URL;
                }
                var sanitizedUrl = decodeHtmlCharacters(url).replace(htmlCtrlEntityRegex, "").replace(ctrlCharactersRegex, "").trim();
                if (!sanitizedUrl) {
                  return BLANK_URL;
                }
                if (isRelativeUrlWithoutProtocol(sanitizedUrl)) {
                  return sanitizedUrl;
                }
                var urlSchemeParseResults = sanitizedUrl.match(urlSchemeRegex);
                if (!urlSchemeParseResults) {
                  return sanitizedUrl;
                }
                var urlScheme = urlSchemeParseResults[0];
                if (invalidProtocolRegex.test(urlScheme)) {
                  return BLANK_URL;
                }
                return sanitizedUrl;
              }
            }),
            /* 8 */
            /***/
            ((__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
              __webpack_require__2.r(__webpack_exports__2);
              __webpack_require__2.d(__webpack_exports__2, {
                /* harmony export */
                AudioAssetWrapper: () => (
                  /* binding */
                  AudioAssetWrapper
                ),
                /* harmony export */
                AudioWrapper: () => (
                  /* binding */
                  AudioWrapper
                ),
                /* harmony export */
                CustomFileAssetLoaderWrapper: () => (
                  /* binding */
                  CustomFileAssetLoaderWrapper
                ),
                /* harmony export */
                FileAssetWrapper: () => (
                  /* binding */
                  FileAssetWrapper
                ),
                /* harmony export */
                FileFinalizer: () => (
                  /* binding */
                  FileFinalizer
                ),
                /* harmony export */
                FontAssetWrapper: () => (
                  /* binding */
                  FontAssetWrapper
                ),
                /* harmony export */
                FontWrapper: () => (
                  /* binding */
                  FontWrapper
                ),
                /* harmony export */
                ImageAssetWrapper: () => (
                  /* binding */
                  ImageAssetWrapper
                ),
                /* harmony export */
                ImageWrapper: () => (
                  /* binding */
                  ImageWrapper
                ),
                /* harmony export */
                createFinalization: () => (
                  /* binding */
                  createFinalization
                ),
                /* harmony export */
                finalizationRegistry: () => (
                  /* binding */
                  finalizationRegistry
                )
                /* harmony export */
              });
              var __extends = /* @__PURE__ */ (function() {
                var extendStatics = function(d, b) {
                  extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
                    d2.__proto__ = b2;
                  } || function(d2, b2) {
                    for (var p in b2) if (Object.prototype.hasOwnProperty.call(b2, p)) d2[p] = b2[p];
                  };
                  return extendStatics(d, b);
                };
                return function(d, b) {
                  if (typeof b !== "function" && b !== null)
                    throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
                  extendStatics(d, b);
                  function __() {
                    this.constructor = d;
                  }
                  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
                };
              })();
              var FileFinalizer = (
                /** @class */
                (function() {
                  function FileFinalizer2(file) {
                    this.selfUnref = false;
                    this._file = file;
                  }
                  FileFinalizer2.prototype.unref = function() {
                    if (this._file) {
                      this._file.unref();
                    }
                  };
                  return FileFinalizer2;
                })()
              );
              var ObjectFinalizer = (
                /** @class */
                (function() {
                  function ObjectFinalizer2(finalizableObject) {
                    this._finalizableObject = finalizableObject;
                  }
                  ObjectFinalizer2.prototype.unref = function() {
                    this._finalizableObject.unref();
                  };
                  return ObjectFinalizer2;
                })()
              );
              var AssetWrapper = (
                /** @class */
                (function() {
                  function AssetWrapper2() {
                    this.selfUnref = false;
                  }
                  AssetWrapper2.prototype.unref = function() {
                  };
                  return AssetWrapper2;
                })()
              );
              var ImageWrapper = (
                /** @class */
                (function(_super) {
                  __extends(ImageWrapper2, _super);
                  function ImageWrapper2(image) {
                    var _this = _super.call(this) || this;
                    _this._nativeImage = image;
                    return _this;
                  }
                  Object.defineProperty(ImageWrapper2.prototype, "nativeImage", {
                    get: function() {
                      return this._nativeImage;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  ImageWrapper2.prototype.unref = function() {
                    if (this.selfUnref) {
                      this._nativeImage.unref();
                    }
                  };
                  return ImageWrapper2;
                })(AssetWrapper)
              );
              var AudioWrapper = (
                /** @class */
                (function(_super) {
                  __extends(AudioWrapper2, _super);
                  function AudioWrapper2(audio) {
                    var _this = _super.call(this) || this;
                    _this._nativeAudio = audio;
                    return _this;
                  }
                  Object.defineProperty(AudioWrapper2.prototype, "nativeAudio", {
                    get: function() {
                      return this._nativeAudio;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  AudioWrapper2.prototype.unref = function() {
                    if (this.selfUnref) {
                      this._nativeAudio.unref();
                    }
                  };
                  return AudioWrapper2;
                })(AssetWrapper)
              );
              var FontWrapper = (
                /** @class */
                (function(_super) {
                  __extends(FontWrapper2, _super);
                  function FontWrapper2(font) {
                    var _this = _super.call(this) || this;
                    _this._nativeFont = font;
                    return _this;
                  }
                  Object.defineProperty(FontWrapper2.prototype, "nativeFont", {
                    get: function() {
                      return this._nativeFont;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  FontWrapper2.prototype.unref = function() {
                    if (this.selfUnref) {
                      this._nativeFont.unref();
                    }
                  };
                  return FontWrapper2;
                })(AssetWrapper)
              );
              var CustomFileAssetLoaderWrapper = (
                /** @class */
                (function() {
                  function CustomFileAssetLoaderWrapper2(runtime, loaderCallback) {
                    this._assetLoaderCallback = loaderCallback;
                    this.assetLoader = new runtime.CustomFileAssetLoader({
                      loadContents: this.loadContents.bind(this)
                    });
                  }
                  CustomFileAssetLoaderWrapper2.prototype.loadContents = function(asset, bytes) {
                    var assetWrapper;
                    if (asset.isImage) {
                      assetWrapper = new ImageAssetWrapper(asset);
                    } else if (asset.isAudio) {
                      assetWrapper = new AudioAssetWrapper(asset);
                    } else if (asset.isFont) {
                      assetWrapper = new FontAssetWrapper(asset);
                    }
                    return this._assetLoaderCallback(assetWrapper, bytes);
                  };
                  return CustomFileAssetLoaderWrapper2;
                })()
              );
              var FileAssetWrapper = (
                /** @class */
                (function() {
                  function FileAssetWrapper2(nativeAsset) {
                    this._nativeFileAsset = nativeAsset;
                  }
                  FileAssetWrapper2.prototype.decode = function(bytes) {
                    this._nativeFileAsset.decode(bytes);
                  };
                  Object.defineProperty(FileAssetWrapper2.prototype, "name", {
                    get: function() {
                      return this._nativeFileAsset.name;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  Object.defineProperty(FileAssetWrapper2.prototype, "fileExtension", {
                    get: function() {
                      return this._nativeFileAsset.fileExtension;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  Object.defineProperty(FileAssetWrapper2.prototype, "uniqueFilename", {
                    get: function() {
                      return this._nativeFileAsset.uniqueFilename;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  Object.defineProperty(FileAssetWrapper2.prototype, "isAudio", {
                    get: function() {
                      return this._nativeFileAsset.isAudio;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  Object.defineProperty(FileAssetWrapper2.prototype, "isImage", {
                    get: function() {
                      return this._nativeFileAsset.isImage;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  Object.defineProperty(FileAssetWrapper2.prototype, "isFont", {
                    get: function() {
                      return this._nativeFileAsset.isFont;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  Object.defineProperty(FileAssetWrapper2.prototype, "cdnUuid", {
                    get: function() {
                      return this._nativeFileAsset.cdnUuid;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  Object.defineProperty(FileAssetWrapper2.prototype, "nativeFileAsset", {
                    get: function() {
                      return this._nativeFileAsset;
                    },
                    enumerable: false,
                    configurable: true
                  });
                  return FileAssetWrapper2;
                })()
              );
              var ImageAssetWrapper = (
                /** @class */
                (function(_super) {
                  __extends(ImageAssetWrapper2, _super);
                  function ImageAssetWrapper2() {
                    return _super !== null && _super.apply(this, arguments) || this;
                  }
                  ImageAssetWrapper2.prototype.setRenderImage = function(image) {
                    this._nativeFileAsset.setRenderImage(image.nativeImage);
                  };
                  return ImageAssetWrapper2;
                })(FileAssetWrapper)
              );
              var AudioAssetWrapper = (
                /** @class */
                (function(_super) {
                  __extends(AudioAssetWrapper2, _super);
                  function AudioAssetWrapper2() {
                    return _super !== null && _super.apply(this, arguments) || this;
                  }
                  AudioAssetWrapper2.prototype.setAudioSource = function(audio) {
                    this._nativeFileAsset.setAudioSource(audio.nativeAudio);
                  };
                  return AudioAssetWrapper2;
                })(FileAssetWrapper)
              );
              var FontAssetWrapper = (
                /** @class */
                (function(_super) {
                  __extends(FontAssetWrapper2, _super);
                  function FontAssetWrapper2() {
                    return _super !== null && _super.apply(this, arguments) || this;
                  }
                  FontAssetWrapper2.prototype.setFont = function(font) {
                    this._nativeFileAsset.setFont(font.nativeFont);
                  };
                  return FontAssetWrapper2;
                })(FileAssetWrapper)
              );
              var FakeFinalizationRegistry = (
                /** @class */
                (function() {
                  function FakeFinalizationRegistry2(_) {
                  }
                  FakeFinalizationRegistry2.prototype.register = function(object) {
                    object.selfUnref = true;
                  };
                  FakeFinalizationRegistry2.prototype.unregister = function(_) {
                  };
                  return FakeFinalizationRegistry2;
                })()
              );
              var MyFinalizationRegistry = typeof FinalizationRegistry !== "undefined" ? FinalizationRegistry : FakeFinalizationRegistry;
              var finalizationRegistry = new MyFinalizationRegistry(function(ob) {
                ob === null || ob === void 0 ? void 0 : ob.unref();
              });
              var createFinalization = function(target, finalizable) {
                var finalizer = new ObjectFinalizer(finalizable);
                finalizationRegistry.register(target, finalizer);
              };
            })
            /******/
          ];
          var __webpack_module_cache__ = {};
          function __webpack_require__(moduleId) {
            var cachedModule = __webpack_module_cache__[moduleId];
            if (cachedModule !== void 0) {
              return cachedModule.exports;
            }
            var module2 = __webpack_module_cache__[moduleId] = {
              /******/
              // no module.id needed
              /******/
              // no module.loaded needed
              /******/
              exports: {}
              /******/
            };
            __webpack_modules__[moduleId](module2, module2.exports, __webpack_require__);
            return module2.exports;
          }
          (() => {
            __webpack_require__.d = (exports2, definition) => {
              for (var key in definition) {
                if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports2, key)) {
                  Object.defineProperty(exports2, key, { enumerable: true, get: definition[key] });
                }
              }
            };
          })();
          (() => {
            __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);
          })();
          (() => {
            __webpack_require__.r = (exports2) => {
              if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
                Object.defineProperty(exports2, Symbol.toStringTag, { value: "Module" });
              }
              Object.defineProperty(exports2, "__esModule", { value: true });
            };
          })();
          var __webpack_exports__ = {};
          (() => {
            __webpack_require__.r(__webpack_exports__);
            __webpack_require__.d(__webpack_exports__, {
              /* harmony export */
              Alignment: () => (
                /* binding */
                Alignment
              ),
              /* harmony export */
              DataEnum: () => (
                /* binding */
                DataEnum
              ),
              /* harmony export */
              EventType: () => (
                /* binding */
                EventType
              ),
              /* harmony export */
              Fit: () => (
                /* binding */
                Fit
              ),
              /* harmony export */
              Layout: () => (
                /* binding */
                Layout
              ),
              /* harmony export */
              LoopType: () => (
                /* binding */
                LoopType
              ),
              /* harmony export */
              Rive: () => (
                /* binding */
                Rive
              ),
              /* harmony export */
              RiveEventType: () => (
                /* binding */
                RiveEventType
              ),
              /* harmony export */
              RiveFile: () => (
                /* binding */
                RiveFile
              ),
              /* harmony export */
              RuntimeLoader: () => (
                /* binding */
                RuntimeLoader
              ),
              /* harmony export */
              StateMachineInput: () => (
                /* binding */
                StateMachineInput
              ),
              /* harmony export */
              StateMachineInputType: () => (
                /* binding */
                StateMachineInputType
              ),
              /* harmony export */
              Testing: () => (
                /* binding */
                Testing
              ),
              /* harmony export */
              ViewModel: () => (
                /* binding */
                ViewModel
              ),
              /* harmony export */
              ViewModelInstance: () => (
                /* binding */
                ViewModelInstance
              ),
              /* harmony export */
              ViewModelInstanceArtboard: () => (
                /* binding */
                ViewModelInstanceArtboard
              ),
              /* harmony export */
              ViewModelInstanceAssetImage: () => (
                /* binding */
                ViewModelInstanceAssetImage
              ),
              /* harmony export */
              ViewModelInstanceBoolean: () => (
                /* binding */
                ViewModelInstanceBoolean
              ),
              /* harmony export */
              ViewModelInstanceColor: () => (
                /* binding */
                ViewModelInstanceColor
              ),
              /* harmony export */
              ViewModelInstanceEnum: () => (
                /* binding */
                ViewModelInstanceEnum
              ),
              /* harmony export */
              ViewModelInstanceList: () => (
                /* binding */
                ViewModelInstanceList
              ),
              /* harmony export */
              ViewModelInstanceNumber: () => (
                /* binding */
                ViewModelInstanceNumber
              ),
              /* harmony export */
              ViewModelInstanceString: () => (
                /* binding */
                ViewModelInstanceString
              ),
              /* harmony export */
              ViewModelInstanceTrigger: () => (
                /* binding */
                ViewModelInstanceTrigger
              ),
              /* harmony export */
              ViewModelInstanceValue: () => (
                /* binding */
                ViewModelInstanceValue
              ),
              /* harmony export */
              decodeAudio: () => (
                /* binding */
                decodeAudio
              ),
              /* harmony export */
              decodeFont: () => (
                /* binding */
                decodeFont
              ),
              /* harmony export */
              decodeImage: () => (
                /* binding */
                decodeImage
              )
              /* harmony export */
            });
            var _rive_advanced_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
            var package_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);
            var _animation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);
            var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5);
            var __extends = /* @__PURE__ */ (function() {
              var extendStatics = function(d, b) {
                extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
                  d2.__proto__ = b2;
                } || function(d2, b2) {
                  for (var p in b2) if (Object.prototype.hasOwnProperty.call(b2, p)) d2[p] = b2[p];
                };
                return extendStatics(d, b);
              };
              return function(d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
              };
            })();
            var __assign = function() {
              __assign = Object.assign || function(t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                  s = arguments[i];
                  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                    t[p] = s[p];
                }
                return t;
              };
              return __assign.apply(this, arguments);
            };
            var __awaiter = function(thisArg, _arguments, P, generator) {
              function adopt(value) {
                return value instanceof P ? value : new P(function(resolve) {
                  resolve(value);
                });
              }
              return new (P || (P = Promise))(function(resolve, reject) {
                function fulfilled(value) {
                  try {
                    step(generator.next(value));
                  } catch (e) {
                    reject(e);
                  }
                }
                function rejected(value) {
                  try {
                    step(generator["throw"](value));
                  } catch (e) {
                    reject(e);
                  }
                }
                function step(result) {
                  result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
                }
                step((generator = generator.apply(thisArg, _arguments || [])).next());
              });
            };
            var __generator = function(thisArg, body) {
              var _ = { label: 0, sent: function() {
                if (t[0] & 1) throw t[1];
                return t[1];
              }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
              return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() {
                return this;
              }), g;
              function verb(n) {
                return function(v) {
                  return step([n, v]);
                };
              }
              function step(op) {
                if (f) throw new TypeError("Generator is already executing.");
                while (g && (g = 0, op[0] && (_ = 0)), _) try {
                  if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                  if (y = 0, t) op = [op[0] & 2, t.value];
                  switch (op[0]) {
                    case 0:
                    case 1:
                      t = op;
                      break;
                    case 4:
                      _.label++;
                      return { value: op[1], done: false };
                    case 5:
                      _.label++;
                      y = op[1];
                      op = [0];
                      continue;
                    case 7:
                      op = _.ops.pop();
                      _.trys.pop();
                      continue;
                    default:
                      if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                        _ = 0;
                        continue;
                      }
                      if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
                        _.label = op[1];
                        break;
                      }
                      if (op[0] === 6 && _.label < t[1]) {
                        _.label = t[1];
                        t = op;
                        break;
                      }
                      if (t && _.label < t[2]) {
                        _.label = t[2];
                        _.ops.push(op);
                        break;
                      }
                      if (t[2]) _.ops.pop();
                      _.trys.pop();
                      continue;
                  }
                  op = body.call(thisArg, _);
                } catch (e) {
                  op = [6, e];
                  y = 0;
                } finally {
                  f = t = 0;
                }
                if (op[0] & 5) throw op[1];
                return { value: op[0] ? op[1] : void 0, done: true };
              }
            };
            var __spreadArray = function(to, from, pack) {
              if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
                if (ar || !(i in from)) {
                  if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                  ar[i] = from[i];
                }
              }
              return to.concat(ar || Array.prototype.slice.call(from));
            };
            var RiveError = (
              /** @class */
              (function(_super) {
                __extends(RiveError2, _super);
                function RiveError2() {
                  var _this = _super !== null && _super.apply(this, arguments) || this;
                  _this.isHandledError = true;
                  return _this;
                }
                return RiveError2;
              })(Error)
            );
            var resolveErrorMessage = function(error) {
              return error && error.isHandledError ? error.message : "Problem loading file; may be corrupt!";
            };
            var Fit;
            (function(Fit2) {
              Fit2["Cover"] = "cover";
              Fit2["Contain"] = "contain";
              Fit2["Fill"] = "fill";
              Fit2["FitWidth"] = "fitWidth";
              Fit2["FitHeight"] = "fitHeight";
              Fit2["None"] = "none";
              Fit2["ScaleDown"] = "scaleDown";
              Fit2["Layout"] = "layout";
            })(Fit || (Fit = {}));
            var Alignment;
            (function(Alignment2) {
              Alignment2["Center"] = "center";
              Alignment2["TopLeft"] = "topLeft";
              Alignment2["TopCenter"] = "topCenter";
              Alignment2["TopRight"] = "topRight";
              Alignment2["CenterLeft"] = "centerLeft";
              Alignment2["CenterRight"] = "centerRight";
              Alignment2["BottomLeft"] = "bottomLeft";
              Alignment2["BottomCenter"] = "bottomCenter";
              Alignment2["BottomRight"] = "bottomRight";
            })(Alignment || (Alignment = {}));
            var Layout = (
              /** @class */
              (function() {
                function Layout2(params) {
                  var _a, _b, _c, _d, _e, _f, _g;
                  this.fit = (_a = params === null || params === void 0 ? void 0 : params.fit) !== null && _a !== void 0 ? _a : Fit.Contain;
                  this.alignment = (_b = params === null || params === void 0 ? void 0 : params.alignment) !== null && _b !== void 0 ? _b : Alignment.Center;
                  this.layoutScaleFactor = (_c = params === null || params === void 0 ? void 0 : params.layoutScaleFactor) !== null && _c !== void 0 ? _c : 1;
                  this.minX = (_d = params === null || params === void 0 ? void 0 : params.minX) !== null && _d !== void 0 ? _d : 0;
                  this.minY = (_e = params === null || params === void 0 ? void 0 : params.minY) !== null && _e !== void 0 ? _e : 0;
                  this.maxX = (_f = params === null || params === void 0 ? void 0 : params.maxX) !== null && _f !== void 0 ? _f : 0;
                  this.maxY = (_g = params === null || params === void 0 ? void 0 : params.maxY) !== null && _g !== void 0 ? _g : 0;
                }
                Layout2.new = function(_a) {
                  var fit = _a.fit, alignment = _a.alignment, minX = _a.minX, minY = _a.minY, maxX = _a.maxX, maxY = _a.maxY;
                  console.warn("This function is deprecated: please use `new Layout({})` instead");
                  return new Layout2({ fit, alignment, minX, minY, maxX, maxY });
                };
                Layout2.prototype.copyWith = function(_a) {
                  var fit = _a.fit, alignment = _a.alignment, layoutScaleFactor = _a.layoutScaleFactor, minX = _a.minX, minY = _a.minY, maxX = _a.maxX, maxY = _a.maxY;
                  return new Layout2({
                    fit: fit !== null && fit !== void 0 ? fit : this.fit,
                    alignment: alignment !== null && alignment !== void 0 ? alignment : this.alignment,
                    layoutScaleFactor: layoutScaleFactor !== null && layoutScaleFactor !== void 0 ? layoutScaleFactor : this.layoutScaleFactor,
                    minX: minX !== null && minX !== void 0 ? minX : this.minX,
                    minY: minY !== null && minY !== void 0 ? minY : this.minY,
                    maxX: maxX !== null && maxX !== void 0 ? maxX : this.maxX,
                    maxY: maxY !== null && maxY !== void 0 ? maxY : this.maxY
                  });
                };
                Layout2.prototype.runtimeFit = function(rive) {
                  if (this.cachedRuntimeFit)
                    return this.cachedRuntimeFit;
                  var fit;
                  if (this.fit === Fit.Cover)
                    fit = rive.Fit.cover;
                  else if (this.fit === Fit.Contain)
                    fit = rive.Fit.contain;
                  else if (this.fit === Fit.Fill)
                    fit = rive.Fit.fill;
                  else if (this.fit === Fit.FitWidth)
                    fit = rive.Fit.fitWidth;
                  else if (this.fit === Fit.FitHeight)
                    fit = rive.Fit.fitHeight;
                  else if (this.fit === Fit.ScaleDown)
                    fit = rive.Fit.scaleDown;
                  else if (this.fit === Fit.Layout)
                    fit = rive.Fit.layout;
                  else
                    fit = rive.Fit.none;
                  this.cachedRuntimeFit = fit;
                  return fit;
                };
                Layout2.prototype.runtimeAlignment = function(rive) {
                  if (this.cachedRuntimeAlignment)
                    return this.cachedRuntimeAlignment;
                  var alignment;
                  if (this.alignment === Alignment.TopLeft)
                    alignment = rive.Alignment.topLeft;
                  else if (this.alignment === Alignment.TopCenter)
                    alignment = rive.Alignment.topCenter;
                  else if (this.alignment === Alignment.TopRight)
                    alignment = rive.Alignment.topRight;
                  else if (this.alignment === Alignment.CenterLeft)
                    alignment = rive.Alignment.centerLeft;
                  else if (this.alignment === Alignment.CenterRight)
                    alignment = rive.Alignment.centerRight;
                  else if (this.alignment === Alignment.BottomLeft)
                    alignment = rive.Alignment.bottomLeft;
                  else if (this.alignment === Alignment.BottomCenter)
                    alignment = rive.Alignment.bottomCenter;
                  else if (this.alignment === Alignment.BottomRight)
                    alignment = rive.Alignment.bottomRight;
                  else
                    alignment = rive.Alignment.center;
                  this.cachedRuntimeAlignment = alignment;
                  return alignment;
                };
                return Layout2;
              })()
            );
            var RuntimeLoader = (
              /** @class */
              (function() {
                function RuntimeLoader2() {
                }
                RuntimeLoader2.loadRuntime = function() {
                  _rive_advanced_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]({
                    // Loads Wasm bundle
                    locateFile: function() {
                      return RuntimeLoader2.wasmURL;
                    }
                  }).then(function(rive) {
                    var _a;
                    RuntimeLoader2.runtime = rive;
                    while (RuntimeLoader2.callBackQueue.length > 0) {
                      (_a = RuntimeLoader2.callBackQueue.shift()) === null || _a === void 0 ? void 0 : _a(RuntimeLoader2.runtime);
                    }
                  }).catch(function(error) {
                    var errorDetails = {
                      message: (error === null || error === void 0 ? void 0 : error.message) || "Unknown error",
                      type: (error === null || error === void 0 ? void 0 : error.name) || "Error",
                      // Some browsers may provide additional WebAssembly-specific details
                      wasmError: error instanceof WebAssembly.CompileError || error instanceof WebAssembly.RuntimeError,
                      originalError: error
                    };
                    console.debug("Rive WASM load error details:", errorDetails);
                    var backupJsdelivrUrl = "https://cdn.jsdelivr.net/npm/".concat(package_json__WEBPACK_IMPORTED_MODULE_1__.name, "@").concat(package_json__WEBPACK_IMPORTED_MODULE_1__.version, "/rive_fallback.wasm");
                    if (RuntimeLoader2.wasmURL.toLowerCase() !== backupJsdelivrUrl) {
                      console.warn("Failed to load WASM from ".concat(RuntimeLoader2.wasmURL, " (").concat(errorDetails.message, "), trying jsdelivr as a backup"));
                      RuntimeLoader2.setWasmUrl(backupJsdelivrUrl);
                      RuntimeLoader2.loadRuntime();
                    } else {
                      var errorMessage = [
                        "Could not load Rive WASM file from ".concat(RuntimeLoader2.wasmURL, " or ").concat(backupJsdelivrUrl, "."),
                        "Possible reasons:",
                        "- Network connection is down",
                        "- WebAssembly is not supported in this environment",
                        "- The WASM file is corrupted or incompatible",
                        "\nError details:",
                        "- Type: ".concat(errorDetails.type),
                        "- Message: ".concat(errorDetails.message),
                        "- WebAssembly-specific error: ".concat(errorDetails.wasmError),
                        "\nTo resolve, you may need to:",
                        "1. Check your network connection",
                        "2. Set a new WASM source via RuntimeLoader.setWasmUrl()",
                        "3. Call RuntimeLoader.loadRuntime() again"
                      ].join("\n");
                      console.error(errorMessage);
                    }
                  });
                };
                RuntimeLoader2.getInstance = function(callback) {
                  if (!RuntimeLoader2.isLoading) {
                    RuntimeLoader2.isLoading = true;
                    RuntimeLoader2.loadRuntime();
                  }
                  if (!RuntimeLoader2.runtime) {
                    RuntimeLoader2.callBackQueue.push(callback);
                  } else {
                    callback(RuntimeLoader2.runtime);
                  }
                };
                RuntimeLoader2.awaitInstance = function() {
                  return new Promise(function(resolve) {
                    return RuntimeLoader2.getInstance(function(rive) {
                      return resolve(rive);
                    });
                  });
                };
                RuntimeLoader2.setWasmUrl = function(url) {
                  RuntimeLoader2.wasmURL = url;
                };
                RuntimeLoader2.getWasmUrl = function() {
                  return RuntimeLoader2.wasmURL;
                };
                RuntimeLoader2.isLoading = false;
                RuntimeLoader2.callBackQueue = [];
                RuntimeLoader2.wasmURL = "https://unpkg.com/".concat(package_json__WEBPACK_IMPORTED_MODULE_1__.name, "@").concat(package_json__WEBPACK_IMPORTED_MODULE_1__.version, "/rive.wasm");
                return RuntimeLoader2;
              })()
            );
            var StateMachineInputType;
            (function(StateMachineInputType2) {
              StateMachineInputType2[StateMachineInputType2["Number"] = 56] = "Number";
              StateMachineInputType2[StateMachineInputType2["Trigger"] = 58] = "Trigger";
              StateMachineInputType2[StateMachineInputType2["Boolean"] = 59] = "Boolean";
            })(StateMachineInputType || (StateMachineInputType = {}));
            var StateMachineInput = (
              /** @class */
              (function() {
                function StateMachineInput2(type, runtimeInput) {
                  this.type = type;
                  this.runtimeInput = runtimeInput;
                }
                Object.defineProperty(StateMachineInput2.prototype, "name", {
                  /**
                   * Returns the name of the input
                   */
                  get: function() {
                    return this.runtimeInput.name;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(StateMachineInput2.prototype, "value", {
                  /**
                   * Returns the current value of the input
                   */
                  get: function() {
                    return this.runtimeInput.value;
                  },
                  /**
                   * Sets the value of the input
                   */
                  set: function(value) {
                    this.runtimeInput.value = value;
                  },
                  enumerable: false,
                  configurable: true
                });
                StateMachineInput2.prototype.fire = function() {
                  if (this.type === StateMachineInputType.Trigger) {
                    this.runtimeInput.fire();
                  }
                };
                StateMachineInput2.prototype.delete = function() {
                  this.runtimeInput = null;
                };
                return StateMachineInput2;
              })()
            );
            var RiveEventType;
            (function(RiveEventType2) {
              RiveEventType2[RiveEventType2["General"] = 128] = "General";
              RiveEventType2[RiveEventType2["OpenUrl"] = 131] = "OpenUrl";
            })(RiveEventType || (RiveEventType = {}));
            var BaseArtboard = (
              /** @class */
              /* @__PURE__ */ (function() {
                function BaseArtboard2(_isBindableArtboard) {
                  this.isBindableArtboard = false;
                  this.isBindableArtboard = _isBindableArtboard;
                }
                return BaseArtboard2;
              })()
            );
            var Artboard = (
              /** @class */
              (function(_super) {
                __extends(Artboard2, _super);
                function Artboard2(artboard, _file) {
                  var _this = _super.call(this, false) || this;
                  _this.nativeArtboard = artboard;
                  _this.file = _file;
                  return _this;
                }
                return Artboard2;
              })(BaseArtboard)
            );
            var BindableArtboard = (
              /** @class */
              (function(_super) {
                __extends(BindableArtboard2, _super);
                function BindableArtboard2(artboard) {
                  var _this = _super.call(this, true) || this;
                  _this.selfUnref = false;
                  _this.nativeArtboard = artboard;
                  return _this;
                }
                BindableArtboard2.prototype.destroy = function() {
                  if (this.selfUnref) {
                    this.nativeArtboard.unref();
                  }
                };
                return BindableArtboard2;
              })(BaseArtboard)
            );
            var StateMachine = (
              /** @class */
              (function() {
                function StateMachine2(stateMachine, runtime, playing, artboard) {
                  this.stateMachine = stateMachine;
                  this.playing = playing;
                  this.artboard = artboard;
                  this.inputs = [];
                  this.instance = new runtime.StateMachineInstance(stateMachine, artboard);
                  this.initInputs(runtime);
                }
                Object.defineProperty(StateMachine2.prototype, "name", {
                  get: function() {
                    return this.stateMachine.name;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(StateMachine2.prototype, "statesChanged", {
                  /**
                   * Returns a list of state names that have changed on this frame
                   */
                  get: function() {
                    var names = [];
                    for (var i = 0; i < this.instance.stateChangedCount(); i++) {
                      names.push(this.instance.stateChangedNameByIndex(i));
                    }
                    return names;
                  },
                  enumerable: false,
                  configurable: true
                });
                StateMachine2.prototype.advance = function(time) {
                  this.instance.advance(time);
                };
                StateMachine2.prototype.advanceAndApply = function(time) {
                  this.instance.advanceAndApply(time);
                };
                StateMachine2.prototype.reportedEventCount = function() {
                  return this.instance.reportedEventCount();
                };
                StateMachine2.prototype.reportedEventAt = function(i) {
                  return this.instance.reportedEventAt(i);
                };
                StateMachine2.prototype.initInputs = function(runtime) {
                  for (var i = 0; i < this.instance.inputCount(); i++) {
                    var input = this.instance.input(i);
                    this.inputs.push(this.mapRuntimeInput(input, runtime));
                  }
                };
                StateMachine2.prototype.mapRuntimeInput = function(input, runtime) {
                  if (input.type === runtime.SMIInput.bool) {
                    return new StateMachineInput(StateMachineInputType.Boolean, input.asBool());
                  } else if (input.type === runtime.SMIInput.number) {
                    return new StateMachineInput(StateMachineInputType.Number, input.asNumber());
                  } else if (input.type === runtime.SMIInput.trigger) {
                    return new StateMachineInput(StateMachineInputType.Trigger, input.asTrigger());
                  }
                };
                StateMachine2.prototype.cleanup = function() {
                  this.inputs.forEach(function(input) {
                    input.delete();
                  });
                  this.inputs.length = 0;
                  this.instance.delete();
                };
                StateMachine2.prototype.bindViewModelInstance = function(viewModelInstance) {
                  if (viewModelInstance.runtimeInstance != null) {
                    this.instance.bindViewModelInstance(viewModelInstance.runtimeInstance);
                  }
                };
                return StateMachine2;
              })()
            );
            var Animator = (
              /** @class */
              (function() {
                function Animator2(runtime, artboard, eventManager, animations, stateMachines) {
                  if (animations === void 0) {
                    animations = [];
                  }
                  if (stateMachines === void 0) {
                    stateMachines = [];
                  }
                  this.runtime = runtime;
                  this.artboard = artboard;
                  this.eventManager = eventManager;
                  this.animations = animations;
                  this.stateMachines = stateMachines;
                }
                Animator2.prototype.add = function(animatables, playing, fireEvent) {
                  if (fireEvent === void 0) {
                    fireEvent = true;
                  }
                  animatables = mapToStringArray(animatables);
                  if (animatables.length === 0) {
                    this.animations.forEach(function(a) {
                      return a.playing = playing;
                    });
                    this.stateMachines.forEach(function(m) {
                      return m.playing = playing;
                    });
                  } else {
                    var instancedAnimationNames = this.animations.map(function(a) {
                      return a.name;
                    });
                    var instancedMachineNames = this.stateMachines.map(function(m) {
                      return m.name;
                    });
                    for (var i = 0; i < animatables.length; i++) {
                      var aIndex = instancedAnimationNames.indexOf(animatables[i]);
                      var mIndex = instancedMachineNames.indexOf(animatables[i]);
                      if (aIndex >= 0 || mIndex >= 0) {
                        if (aIndex >= 0) {
                          this.animations[aIndex].playing = playing;
                        } else {
                          this.stateMachines[mIndex].playing = playing;
                        }
                      } else {
                        var anim = this.artboard.animationByName(animatables[i]);
                        if (anim) {
                          var newAnimation = new _animation__WEBPACK_IMPORTED_MODULE_2__.Animation(anim, this.artboard, this.runtime, playing);
                          newAnimation.advance(0);
                          newAnimation.apply(1);
                          this.animations.push(newAnimation);
                        } else {
                          var sm = this.artboard.stateMachineByName(animatables[i]);
                          if (sm) {
                            var newStateMachine = new StateMachine(sm, this.runtime, playing, this.artboard);
                            this.stateMachines.push(newStateMachine);
                          }
                        }
                      }
                    }
                  }
                  if (fireEvent) {
                    if (playing) {
                      this.eventManager.fire({
                        type: EventType.Play,
                        data: this.playing
                      });
                    } else {
                      this.eventManager.fire({
                        type: EventType.Pause,
                        data: this.paused
                      });
                    }
                  }
                  return playing ? this.playing : this.paused;
                };
                Animator2.prototype.initLinearAnimations = function(animatables, playing) {
                  var instancedAnimationNames = this.animations.map(function(a) {
                    return a.name;
                  });
                  for (var i = 0; i < animatables.length; i++) {
                    var aIndex = instancedAnimationNames.indexOf(animatables[i]);
                    if (aIndex >= 0) {
                      this.animations[aIndex].playing = playing;
                    } else {
                      var anim = this.artboard.animationByName(animatables[i]);
                      if (anim) {
                        var newAnimation = new _animation__WEBPACK_IMPORTED_MODULE_2__.Animation(anim, this.artboard, this.runtime, playing);
                        newAnimation.advance(0);
                        newAnimation.apply(1);
                        this.animations.push(newAnimation);
                      } else {
                        console.error("Animation with name ".concat(animatables[i], " not found."));
                      }
                    }
                  }
                };
                Animator2.prototype.initStateMachines = function(animatables, playing) {
                  var instancedStateMachineNames = this.stateMachines.map(function(a) {
                    return a.name;
                  });
                  for (var i = 0; i < animatables.length; i++) {
                    var aIndex = instancedStateMachineNames.indexOf(animatables[i]);
                    if (aIndex >= 0) {
                      this.stateMachines[aIndex].playing = playing;
                    } else {
                      var sm = this.artboard.stateMachineByName(animatables[i]);
                      if (sm) {
                        var newStateMachine = new StateMachine(sm, this.runtime, playing, this.artboard);
                        this.stateMachines.push(newStateMachine);
                      } else {
                        console.warn("State Machine with name ".concat(animatables[i], " not found."));
                        this.initLinearAnimations([animatables[i]], playing);
                      }
                    }
                  }
                };
                Animator2.prototype.play = function(animatables) {
                  return this.add(animatables, true);
                };
                Animator2.prototype.advanceIfPaused = function() {
                  this.stateMachines.forEach(function(sm) {
                    if (!sm.playing) {
                      sm.advanceAndApply(0);
                    }
                  });
                };
                Animator2.prototype.pause = function(animatables) {
                  return this.add(animatables, false);
                };
                Animator2.prototype.scrub = function(animatables, value) {
                  var forScrubbing = this.animations.filter(function(a) {
                    return animatables.includes(a.name);
                  });
                  forScrubbing.forEach(function(a) {
                    return a.scrubTo = value;
                  });
                  return forScrubbing.map(function(a) {
                    return a.name;
                  });
                };
                Object.defineProperty(Animator2.prototype, "playing", {
                  /**
                   * Returns a list of names of all animations and state machines currently
                   * playing
                   */
                  get: function() {
                    return this.animations.filter(function(a) {
                      return a.playing;
                    }).map(function(a) {
                      return a.name;
                    }).concat(this.stateMachines.filter(function(m) {
                      return m.playing;
                    }).map(function(m) {
                      return m.name;
                    }));
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Animator2.prototype, "paused", {
                  /**
                   * Returns a list of names of all animations and state machines currently
                   * paused
                   */
                  get: function() {
                    return this.animations.filter(function(a) {
                      return !a.playing;
                    }).map(function(a) {
                      return a.name;
                    }).concat(this.stateMachines.filter(function(m) {
                      return !m.playing;
                    }).map(function(m) {
                      return m.name;
                    }));
                  },
                  enumerable: false,
                  configurable: true
                });
                Animator2.prototype.stop = function(animatables) {
                  var _this = this;
                  animatables = mapToStringArray(animatables);
                  var removedNames = [];
                  if (animatables.length === 0) {
                    removedNames = this.animations.map(function(a) {
                      return a.name;
                    }).concat(this.stateMachines.map(function(m) {
                      return m.name;
                    }));
                    this.animations.forEach(function(a) {
                      return a.cleanup();
                    });
                    this.stateMachines.forEach(function(m) {
                      return m.cleanup();
                    });
                    this.animations.splice(0, this.animations.length);
                    this.stateMachines.splice(0, this.stateMachines.length);
                  } else {
                    var animationsToRemove = this.animations.filter(function(a) {
                      return animatables.includes(a.name);
                    });
                    animationsToRemove.forEach(function(a) {
                      a.cleanup();
                      _this.animations.splice(_this.animations.indexOf(a), 1);
                    });
                    var machinesToRemove = this.stateMachines.filter(function(m) {
                      return animatables.includes(m.name);
                    });
                    machinesToRemove.forEach(function(m) {
                      m.cleanup();
                      _this.stateMachines.splice(_this.stateMachines.indexOf(m), 1);
                    });
                    removedNames = animationsToRemove.map(function(a) {
                      return a.name;
                    }).concat(machinesToRemove.map(function(m) {
                      return m.name;
                    }));
                  }
                  this.eventManager.fire({
                    type: EventType.Stop,
                    data: removedNames
                  });
                  return removedNames;
                };
                Object.defineProperty(Animator2.prototype, "isPlaying", {
                  /**
                   * Returns true if at least one animation is active
                   */
                  get: function() {
                    return this.animations.reduce(function(acc, curr) {
                      return acc || curr.playing;
                    }, false) || this.stateMachines.reduce(function(acc, curr) {
                      return acc || curr.playing;
                    }, false);
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Animator2.prototype, "isPaused", {
                  /**
                   * Returns true if all animations are paused and there's at least one animation
                   */
                  get: function() {
                    return !this.isPlaying && (this.animations.length > 0 || this.stateMachines.length > 0);
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Animator2.prototype, "isStopped", {
                  /**
                   * Returns true if there are no playing or paused animations/state machines
                   */
                  get: function() {
                    return this.animations.length === 0 && this.stateMachines.length === 0;
                  },
                  enumerable: false,
                  configurable: true
                });
                Animator2.prototype.atLeastOne = function(playing, fireEvent) {
                  if (fireEvent === void 0) {
                    fireEvent = true;
                  }
                  var instancedName;
                  if (this.animations.length === 0 && this.stateMachines.length === 0) {
                    if (this.artboard.animationCount() > 0) {
                      this.add([instancedName = this.artboard.animationByIndex(0).name], playing, fireEvent);
                    } else if (this.artboard.stateMachineCount() > 0) {
                      this.add([instancedName = this.artboard.stateMachineByIndex(0).name], playing, fireEvent);
                    }
                  }
                  return instancedName;
                };
                Animator2.prototype.handleLooping = function() {
                  for (var _i = 0, _a = this.animations.filter(function(a) {
                    return a.playing;
                  }); _i < _a.length; _i++) {
                    var animation = _a[_i];
                    if (animation.loopValue === 0 && animation.loopCount) {
                      animation.loopCount = 0;
                      this.stop(animation.name);
                    } else if (animation.loopValue === 1 && animation.loopCount) {
                      this.eventManager.fire({
                        type: EventType.Loop,
                        data: { animation: animation.name, type: LoopType.Loop }
                      });
                      animation.loopCount = 0;
                    } else if (animation.loopValue === 2 && animation.loopCount > 1) {
                      this.eventManager.fire({
                        type: EventType.Loop,
                        data: { animation: animation.name, type: LoopType.PingPong }
                      });
                      animation.loopCount = 0;
                    }
                  }
                };
                Animator2.prototype.handleStateChanges = function() {
                  var statesChanged = [];
                  for (var _i = 0, _a = this.stateMachines.filter(function(sm) {
                    return sm.playing;
                  }); _i < _a.length; _i++) {
                    var stateMachine = _a[_i];
                    statesChanged.push.apply(statesChanged, stateMachine.statesChanged);
                  }
                  if (statesChanged.length > 0) {
                    this.eventManager.fire({
                      type: EventType.StateChange,
                      data: statesChanged
                    });
                  }
                };
                Animator2.prototype.handleAdvancing = function(time) {
                  this.eventManager.fire({
                    type: EventType.Advance,
                    data: time
                  });
                };
                return Animator2;
              })()
            );
            var EventType;
            (function(EventType2) {
              EventType2["Load"] = "load";
              EventType2["LoadError"] = "loaderror";
              EventType2["Play"] = "play";
              EventType2["Pause"] = "pause";
              EventType2["Stop"] = "stop";
              EventType2["Loop"] = "loop";
              EventType2["Draw"] = "draw";
              EventType2["Advance"] = "advance";
              EventType2["StateChange"] = "statechange";
              EventType2["RiveEvent"] = "riveevent";
              EventType2["AudioStatusChange"] = "audiostatuschange";
            })(EventType || (EventType = {}));
            var LoopType;
            (function(LoopType2) {
              LoopType2["OneShot"] = "oneshot";
              LoopType2["Loop"] = "loop";
              LoopType2["PingPong"] = "pingpong";
            })(LoopType || (LoopType = {}));
            var EventManager = (
              /** @class */
              (function() {
                function EventManager2(listeners) {
                  if (listeners === void 0) {
                    listeners = [];
                  }
                  this.listeners = listeners;
                }
                EventManager2.prototype.getListeners = function(type) {
                  return this.listeners.filter(function(e) {
                    return e.type === type;
                  });
                };
                EventManager2.prototype.add = function(listener) {
                  if (!this.listeners.includes(listener)) {
                    this.listeners.push(listener);
                  }
                };
                EventManager2.prototype.remove = function(listener) {
                  for (var i = 0; i < this.listeners.length; i++) {
                    var currentListener = this.listeners[i];
                    if (currentListener.type === listener.type) {
                      if (currentListener.callback === listener.callback) {
                        this.listeners.splice(i, 1);
                        break;
                      }
                    }
                  }
                };
                EventManager2.prototype.removeAll = function(type) {
                  var _this = this;
                  if (!type) {
                    this.listeners.splice(0, this.listeners.length);
                  } else {
                    this.listeners.filter(function(l) {
                      return l.type === type;
                    }).forEach(function(l) {
                      return _this.remove(l);
                    });
                  }
                };
                EventManager2.prototype.fire = function(event) {
                  var eventListeners = this.getListeners(event.type);
                  eventListeners.forEach(function(listener) {
                    return listener.callback(event);
                  });
                };
                return EventManager2;
              })()
            );
            var TaskQueueManager = (
              /** @class */
              (function() {
                function TaskQueueManager2(eventManager) {
                  this.eventManager = eventManager;
                  this.queue = [];
                }
                TaskQueueManager2.prototype.add = function(task) {
                  this.queue.push(task);
                };
                TaskQueueManager2.prototype.process = function() {
                  while (this.queue.length > 0) {
                    var task = this.queue.shift();
                    if (task === null || task === void 0 ? void 0 : task.action) {
                      task.action();
                    }
                    if (task === null || task === void 0 ? void 0 : task.event) {
                      this.eventManager.fire(task.event);
                    }
                  }
                };
                return TaskQueueManager2;
              })()
            );
            var SystemAudioStatus;
            (function(SystemAudioStatus2) {
              SystemAudioStatus2[SystemAudioStatus2["AVAILABLE"] = 0] = "AVAILABLE";
              SystemAudioStatus2[SystemAudioStatus2["UNAVAILABLE"] = 1] = "UNAVAILABLE";
            })(SystemAudioStatus || (SystemAudioStatus = {}));
            var AudioManager = (
              /** @class */
              (function(_super) {
                __extends(AudioManager2, _super);
                function AudioManager2() {
                  var _this = _super !== null && _super.apply(this, arguments) || this;
                  _this._started = false;
                  _this._enabled = false;
                  _this._status = SystemAudioStatus.UNAVAILABLE;
                  return _this;
                }
                AudioManager2.prototype.delay = function(time) {
                  return __awaiter(this, void 0, void 0, function() {
                    return __generator(this, function(_a) {
                      return [2, new Promise(function(resolve) {
                        return setTimeout(resolve, time);
                      })];
                    });
                  });
                };
                AudioManager2.prototype.timeout = function() {
                  return __awaiter(this, void 0, void 0, function() {
                    return __generator(this, function(_a) {
                      return [2, new Promise(function(_, reject) {
                        return setTimeout(reject, 50);
                      })];
                    });
                  });
                };
                AudioManager2.prototype.reportToListeners = function() {
                  this.fire({ type: EventType.AudioStatusChange });
                  this.removeAll();
                };
                AudioManager2.prototype.enableAudio = function() {
                  return __awaiter(this, void 0, void 0, function() {
                    return __generator(this, function(_a) {
                      if (!this._enabled) {
                        this._enabled = true;
                        this._status = SystemAudioStatus.AVAILABLE;
                        this.reportToListeners();
                      }
                      return [
                        2
                        /*return*/
                      ];
                    });
                  });
                };
                AudioManager2.prototype.testAudio = function() {
                  return __awaiter(this, void 0, void 0, function() {
                    var _a;
                    return __generator(this, function(_b) {
                      switch (_b.label) {
                        case 0:
                          if (!(this._status === SystemAudioStatus.UNAVAILABLE && this._audioContext !== null)) return [3, 4];
                          _b.label = 1;
                        case 1:
                          _b.trys.push([1, 3, , 4]);
                          return [4, Promise.race([this._audioContext.resume(), this.timeout()])];
                        case 2:
                          _b.sent();
                          this.enableAudio();
                          return [3, 4];
                        case 3:
                          _a = _b.sent();
                          return [3, 4];
                        case 4:
                          return [
                            2
                            /*return*/
                          ];
                      }
                    });
                  });
                };
                AudioManager2.prototype._establishAudio = function() {
                  return __awaiter(this, void 0, void 0, function() {
                    return __generator(this, function(_a) {
                      switch (_a.label) {
                        case 0:
                          if (!!this._started) return [3, 5];
                          this._started = true;
                          if (!(typeof window == "undefined")) return [3, 1];
                          this.enableAudio();
                          return [3, 5];
                        case 1:
                          this._audioContext = new AudioContext();
                          this.listenForUserAction();
                          _a.label = 2;
                        case 2:
                          if (!(this._status === SystemAudioStatus.UNAVAILABLE)) return [3, 5];
                          return [4, this.testAudio()];
                        case 3:
                          _a.sent();
                          return [4, this.delay(1e3)];
                        case 4:
                          _a.sent();
                          return [3, 2];
                        case 5:
                          return [
                            2
                            /*return*/
                          ];
                      }
                    });
                  });
                };
                AudioManager2.prototype.listenForUserAction = function() {
                  var _this = this;
                  var _clickListener = function() {
                    return __awaiter(_this, void 0, void 0, function() {
                      return __generator(this, function(_a) {
                        this.enableAudio();
                        return [
                          2
                          /*return*/
                        ];
                      });
                    });
                  };
                  document.addEventListener("pointerdown", _clickListener, {
                    once: true
                  });
                };
                AudioManager2.prototype.establishAudio = function() {
                  return __awaiter(this, void 0, void 0, function() {
                    return __generator(this, function(_a) {
                      this._establishAudio();
                      return [
                        2
                        /*return*/
                      ];
                    });
                  });
                };
                Object.defineProperty(AudioManager2.prototype, "systemVolume", {
                  get: function() {
                    if (this._status === SystemAudioStatus.UNAVAILABLE) {
                      this.testAudio();
                      return 0;
                    }
                    return 1;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(AudioManager2.prototype, "status", {
                  get: function() {
                    return this._status;
                  },
                  enumerable: false,
                  configurable: true
                });
                return AudioManager2;
              })(EventManager)
            );
            var audioManager = new AudioManager();
            var FakeResizeObserver = (
              /** @class */
              (function() {
                function FakeResizeObserver2() {
                }
                FakeResizeObserver2.prototype.observe = function() {
                };
                FakeResizeObserver2.prototype.unobserve = function() {
                };
                FakeResizeObserver2.prototype.disconnect = function() {
                };
                return FakeResizeObserver2;
              })()
            );
            var MyResizeObserver = globalThis.ResizeObserver || FakeResizeObserver;
            var ObjectObservers = (
              /** @class */
              (function() {
                function ObjectObservers2() {
                  var _this = this;
                  this._elementsMap = /* @__PURE__ */ new Map();
                  this._onObservedEntry = function(entry) {
                    var observed = _this._elementsMap.get(entry.target);
                    if (observed !== null) {
                      observed.onResize(entry.target.clientWidth == 0 || entry.target.clientHeight == 0);
                    } else {
                      _this._resizeObserver.unobserve(entry.target);
                    }
                  };
                  this._onObserved = function(entries) {
                    entries.forEach(_this._onObservedEntry);
                  };
                  this._resizeObserver = new MyResizeObserver(this._onObserved);
                }
                ObjectObservers2.prototype.add = function(element, onResize) {
                  var observed = {
                    onResize,
                    element
                  };
                  this._elementsMap.set(element, observed);
                  this._resizeObserver.observe(element);
                  return observed;
                };
                ObjectObservers2.prototype.remove = function(observed) {
                  this._resizeObserver.unobserve(observed.element);
                  this._elementsMap.delete(observed.element);
                };
                return ObjectObservers2;
              })()
            );
            var observers = new ObjectObservers();
            var RiveFile = (
              /** @class */
              (function() {
                function RiveFile2(params) {
                  this.enableRiveAssetCDN = true;
                  this.referenceCount = 0;
                  this.destroyed = false;
                  this.selfUnref = false;
                  this.bindableArtboards = [];
                  this.src = params.src;
                  this.buffer = params.buffer;
                  if (params.assetLoader)
                    this.assetLoader = params.assetLoader;
                  this.enableRiveAssetCDN = typeof params.enableRiveAssetCDN == "boolean" ? params.enableRiveAssetCDN : true;
                  this.eventManager = new EventManager();
                  if (params.onLoad)
                    this.on(EventType.Load, params.onLoad);
                  if (params.onLoadError)
                    this.on(EventType.LoadError, params.onLoadError);
                }
                RiveFile2.prototype.releaseFile = function() {
                  var _a;
                  if (this.selfUnref) {
                    (_a = this.file) === null || _a === void 0 ? void 0 : _a.unref();
                  }
                  this.file = null;
                };
                RiveFile2.prototype.releaseBindableArtboards = function() {
                  this.bindableArtboards.forEach(function(bindableArtboard) {
                    return bindableArtboard.destroy();
                  });
                };
                RiveFile2.prototype.initData = function() {
                  return __awaiter(this, void 0, void 0, function() {
                    var _a, loader, loaderWrapper, _b, fileFinalizer;
                    return __generator(this, function(_c) {
                      switch (_c.label) {
                        case 0:
                          if (!this.src) return [3, 2];
                          _a = this;
                          return [4, loadRiveFile(this.src)];
                        case 1:
                          _a.buffer = _c.sent();
                          _c.label = 2;
                        case 2:
                          if (this.destroyed) {
                            return [
                              2
                              /*return*/
                            ];
                          }
                          if (this.assetLoader) {
                            loaderWrapper = new _utils__WEBPACK_IMPORTED_MODULE_3__.CustomFileAssetLoaderWrapper(this.runtime, this.assetLoader);
                            loader = loaderWrapper.assetLoader;
                          }
                          _b = this;
                          return [4, this.runtime.load(new Uint8Array(this.buffer), loader, this.enableRiveAssetCDN)];
                        case 3:
                          _b.file = _c.sent();
                          fileFinalizer = new _utils__WEBPACK_IMPORTED_MODULE_3__.FileFinalizer(this.file);
                          _utils__WEBPACK_IMPORTED_MODULE_3__.finalizationRegistry.register(this, fileFinalizer);
                          if (this.destroyed) {
                            this.releaseFile();
                            return [
                              2
                              /*return*/
                            ];
                          }
                          if (this.file !== null) {
                            this.eventManager.fire({
                              type: EventType.Load,
                              data: this
                            });
                          } else {
                            this.fireLoadError(RiveFile2.fileLoadErrorMessage);
                          }
                          return [
                            2
                            /*return*/
                          ];
                      }
                    });
                  });
                };
                RiveFile2.prototype.init = function() {
                  return __awaiter(this, void 0, void 0, function() {
                    var _a, error_1;
                    return __generator(this, function(_b) {
                      switch (_b.label) {
                        case 0:
                          if (!this.src && !this.buffer) {
                            this.fireLoadError(RiveFile2.missingErrorMessage);
                            return [
                              2
                              /*return*/
                            ];
                          }
                          _b.label = 1;
                        case 1:
                          _b.trys.push([1, 4, , 5]);
                          _a = this;
                          return [4, RuntimeLoader.awaitInstance()];
                        case 2:
                          _a.runtime = _b.sent();
                          if (this.destroyed) {
                            return [
                              2
                              /*return*/
                            ];
                          }
                          return [4, this.initData()];
                        case 3:
                          _b.sent();
                          return [3, 5];
                        case 4:
                          error_1 = _b.sent();
                          this.fireLoadError(error_1 instanceof Error ? error_1.message : RiveFile2.fileLoadErrorMessage);
                          return [3, 5];
                        case 5:
                          return [
                            2
                            /*return*/
                          ];
                      }
                    });
                  });
                };
                RiveFile2.prototype.fireLoadError = function(message) {
                  this.eventManager.fire({
                    type: EventType.LoadError,
                    data: message
                  });
                  throw new Error(message);
                };
                RiveFile2.prototype.on = function(type, callback) {
                  this.eventManager.add({
                    type,
                    callback
                  });
                };
                RiveFile2.prototype.off = function(type, callback) {
                  this.eventManager.remove({
                    type,
                    callback
                  });
                };
                RiveFile2.prototype.cleanup = function() {
                  this.referenceCount -= 1;
                  if (this.referenceCount <= 0) {
                    this.removeAllRiveEventListeners();
                    this.releaseFile();
                    this.releaseBindableArtboards();
                    this.destroyed = true;
                  }
                };
                RiveFile2.prototype.removeAllRiveEventListeners = function(type) {
                  this.eventManager.removeAll(type);
                };
                RiveFile2.prototype.getInstance = function() {
                  if (this.file !== null) {
                    this.referenceCount += 1;
                    return this.file;
                  }
                };
                RiveFile2.prototype.destroyIfUnused = function() {
                  if (this.referenceCount <= 0) {
                    this.cleanup();
                  }
                };
                RiveFile2.prototype.createBindableArtboard = function(nativeBindableArtboard) {
                  if (nativeBindableArtboard != null) {
                    var bindableArtboard = new BindableArtboard(nativeBindableArtboard);
                    (0, _utils__WEBPACK_IMPORTED_MODULE_3__.createFinalization)(bindableArtboard, bindableArtboard.nativeArtboard);
                    this.bindableArtboards.push(bindableArtboard);
                    return bindableArtboard;
                  }
                  return null;
                };
                RiveFile2.prototype.getArtboard = function(name) {
                  var nativeArtboard = this.file.artboardByName(name);
                  if (nativeArtboard != null) {
                    return new Artboard(nativeArtboard, this);
                  }
                };
                RiveFile2.prototype.getBindableArtboard = function(name) {
                  var nativeArtboard = this.file.bindableArtboardByName(name);
                  return this.createBindableArtboard(nativeArtboard);
                };
                RiveFile2.prototype.getDefaultBindableArtboard = function() {
                  var nativeArtboard = this.file.bindableArtboardDefault();
                  return this.createBindableArtboard(nativeArtboard);
                };
                RiveFile2.prototype.internalBindableArtboardFromArtboard = function(artboard) {
                  var nativeBindableArtboard = this.file.internalBindableArtboardFromArtboard(artboard);
                  return this.createBindableArtboard(nativeBindableArtboard);
                };
                RiveFile2.missingErrorMessage = "Rive source file or data buffer required";
                RiveFile2.fileLoadErrorMessage = "The file failed to load";
                return RiveFile2;
              })()
            );
            var Rive = (
              /** @class */
              (function() {
                function Rive2(params) {
                  var _this = this;
                  var _a;
                  this.loaded = false;
                  this.destroyed = false;
                  this._observed = null;
                  this.readyForPlaying = false;
                  this.artboard = null;
                  this.eventCleanup = null;
                  this.shouldDisableRiveListeners = false;
                  this.automaticallyHandleEvents = false;
                  this.dispatchPointerExit = true;
                  this.enableMultiTouch = false;
                  this.enableRiveAssetCDN = true;
                  this._volume = 1;
                  this._artboardWidth = void 0;
                  this._artboardHeight = void 0;
                  this._devicePixelRatioUsed = 1;
                  this._hasZeroSize = false;
                  this._audioEventListener = null;
                  this._boundDraw = null;
                  this._viewModelInstance = null;
                  this._dataEnums = null;
                  this.durations = [];
                  this.frameTimes = [];
                  this.frameCount = 0;
                  this.isTouchScrollEnabled = false;
                  this.onCanvasResize = function(hasZeroSize) {
                    var toggledDisplay = _this._hasZeroSize !== hasZeroSize;
                    _this._hasZeroSize = hasZeroSize;
                    if (!hasZeroSize) {
                      if (toggledDisplay) {
                        _this.resizeDrawingSurfaceToCanvas();
                      }
                    } else if (!_this._layout.maxX || !_this._layout.maxY) {
                      _this.resizeToCanvas();
                    }
                  };
                  this.renderSecondTimer = 0;
                  this._boundDraw = this.draw.bind(this);
                  this.canvas = params.canvas;
                  if (params.canvas.constructor === HTMLCanvasElement) {
                    this._observed = observers.add(this.canvas, this.onCanvasResize);
                  }
                  this.src = params.src;
                  this.buffer = params.buffer;
                  this.riveFile = params.riveFile;
                  this.layout = (_a = params.layout) !== null && _a !== void 0 ? _a : new Layout();
                  this.shouldDisableRiveListeners = !!params.shouldDisableRiveListeners;
                  this.isTouchScrollEnabled = !!params.isTouchScrollEnabled;
                  this.automaticallyHandleEvents = !!params.automaticallyHandleEvents;
                  this.dispatchPointerExit = params.dispatchPointerExit === false ? params.dispatchPointerExit : this.dispatchPointerExit;
                  this.enableMultiTouch = !!params.enableMultiTouch;
                  this.enableRiveAssetCDN = params.enableRiveAssetCDN === void 0 ? true : params.enableRiveAssetCDN;
                  this.eventManager = new EventManager();
                  if (params.onLoad)
                    this.on(EventType.Load, params.onLoad);
                  if (params.onLoadError)
                    this.on(EventType.LoadError, params.onLoadError);
                  if (params.onPlay)
                    this.on(EventType.Play, params.onPlay);
                  if (params.onPause)
                    this.on(EventType.Pause, params.onPause);
                  if (params.onStop)
                    this.on(EventType.Stop, params.onStop);
                  if (params.onLoop)
                    this.on(EventType.Loop, params.onLoop);
                  if (params.onStateChange)
                    this.on(EventType.StateChange, params.onStateChange);
                  if (params.onAdvance)
                    this.on(EventType.Advance, params.onAdvance);
                  if (params.onload && !params.onLoad)
                    this.on(EventType.Load, params.onload);
                  if (params.onloaderror && !params.onLoadError)
                    this.on(EventType.LoadError, params.onloaderror);
                  if (params.onplay && !params.onPlay)
                    this.on(EventType.Play, params.onplay);
                  if (params.onpause && !params.onPause)
                    this.on(EventType.Pause, params.onpause);
                  if (params.onstop && !params.onStop)
                    this.on(EventType.Stop, params.onstop);
                  if (params.onloop && !params.onLoop)
                    this.on(EventType.Loop, params.onloop);
                  if (params.onstatechange && !params.onStateChange)
                    this.on(EventType.StateChange, params.onstatechange);
                  if (params.assetLoader)
                    this.assetLoader = params.assetLoader;
                  this.taskQueue = new TaskQueueManager(this.eventManager);
                  this.init({
                    src: this.src,
                    buffer: this.buffer,
                    riveFile: this.riveFile,
                    autoplay: params.autoplay,
                    autoBind: params.autoBind,
                    animations: params.animations,
                    stateMachines: params.stateMachines,
                    artboard: params.artboard,
                    useOffscreenRenderer: params.useOffscreenRenderer
                  });
                }
                Object.defineProperty(Rive2.prototype, "viewModelCount", {
                  get: function() {
                    return this.file.viewModelCount();
                  },
                  enumerable: false,
                  configurable: true
                });
                Rive2.new = function(params) {
                  console.warn("This function is deprecated: please use `new Rive({})` instead");
                  return new Rive2(params);
                };
                Rive2.prototype.onSystemAudioChanged = function() {
                  this.volume = this._volume;
                };
                Rive2.prototype.init = function(_a) {
                  var _this = this;
                  var src = _a.src, buffer = _a.buffer, riveFile = _a.riveFile, animations = _a.animations, stateMachines = _a.stateMachines, artboard = _a.artboard, _b = _a.autoplay, autoplay = _b === void 0 ? false : _b, _c = _a.useOffscreenRenderer, useOffscreenRenderer = _c === void 0 ? false : _c, _d = _a.autoBind, autoBind = _d === void 0 ? false : _d;
                  if (this.destroyed) {
                    return;
                  }
                  this.src = src;
                  this.buffer = buffer;
                  this.riveFile = riveFile;
                  if (!this.src && !this.buffer && !this.riveFile) {
                    throw new RiveError(Rive2.missingErrorMessage);
                  }
                  var startingAnimationNames = mapToStringArray(animations);
                  var startingStateMachineNames = mapToStringArray(stateMachines);
                  this.loaded = false;
                  this.readyForPlaying = false;
                  RuntimeLoader.awaitInstance().then(function(runtime) {
                    if (_this.destroyed) {
                      return;
                    }
                    _this.runtime = runtime;
                    _this.removeRiveListeners();
                    _this.deleteRiveRenderer();
                    _this.renderer = _this.runtime.makeRenderer(_this.canvas, useOffscreenRenderer);
                    if (!(_this.canvas.width || _this.canvas.height)) {
                      _this.resizeDrawingSurfaceToCanvas();
                    }
                    _this.initData(artboard, startingAnimationNames, startingStateMachineNames, autoplay, autoBind).then(function(hasInitialized) {
                      if (hasInitialized) {
                        return _this.setupRiveListeners();
                      }
                    }).catch(function(e) {
                      console.error(e);
                    });
                  }).catch(function(e) {
                    console.error(e);
                  });
                };
                Rive2.prototype.setupRiveListeners = function(riveListenerOptions) {
                  var _this = this;
                  if (this.eventCleanup) {
                    this.eventCleanup();
                  }
                  if (!this.shouldDisableRiveListeners) {
                    var activeStateMachines = (this.animator.stateMachines || []).filter(function(sm) {
                      return sm.playing && _this.runtime.hasListeners(sm.instance);
                    }).map(function(sm) {
                      return sm.instance;
                    });
                    var touchScrollEnabledOption = this.isTouchScrollEnabled;
                    var dispatchPointerExit = this.dispatchPointerExit;
                    var enableMultiTouch = this.enableMultiTouch;
                    if (riveListenerOptions && "isTouchScrollEnabled" in riveListenerOptions) {
                      touchScrollEnabledOption = riveListenerOptions.isTouchScrollEnabled;
                    }
                    this.eventCleanup = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.registerTouchInteractions)({
                      canvas: this.canvas,
                      artboard: this.artboard,
                      stateMachines: activeStateMachines,
                      renderer: this.renderer,
                      rive: this.runtime,
                      fit: this._layout.runtimeFit(this.runtime),
                      alignment: this._layout.runtimeAlignment(this.runtime),
                      isTouchScrollEnabled: touchScrollEnabledOption,
                      dispatchPointerExit,
                      enableMultiTouch,
                      layoutScaleFactor: this._layout.layoutScaleFactor
                    });
                  }
                };
                Rive2.prototype.removeRiveListeners = function() {
                  if (this.eventCleanup) {
                    this.eventCleanup();
                    this.eventCleanup = null;
                  }
                };
                Rive2.prototype.initializeAudio = function() {
                  var _this = this;
                  var _a;
                  if (audioManager.status == SystemAudioStatus.UNAVAILABLE) {
                    if (((_a = this.artboard) === null || _a === void 0 ? void 0 : _a.hasAudio) && this._audioEventListener === null) {
                      this._audioEventListener = {
                        type: EventType.AudioStatusChange,
                        callback: function() {
                          return _this.onSystemAudioChanged();
                        }
                      };
                      audioManager.add(this._audioEventListener);
                      audioManager.establishAudio();
                    }
                  }
                };
                Rive2.prototype.initArtboardSize = function() {
                  if (!this.artboard)
                    return;
                  this._artboardWidth = this.artboard.width = this._artboardWidth || this.artboard.width;
                  this._artboardHeight = this.artboard.height = this._artboardHeight || this.artboard.height;
                };
                Rive2.prototype.initData = function(artboardName, animationNames, stateMachineNames, autoplay, autoBind) {
                  return __awaiter(this, void 0, void 0, function() {
                    var riveFile, error_2, msg;
                    var _a;
                    return __generator(this, function(_b) {
                      switch (_b.label) {
                        case 0:
                          _b.trys.push([0, 3, , 4]);
                          if (!(this.riveFile == null)) return [3, 2];
                          riveFile = new RiveFile({
                            src: this.src,
                            buffer: this.buffer,
                            enableRiveAssetCDN: this.enableRiveAssetCDN,
                            assetLoader: this.assetLoader
                          });
                          this.riveFile = riveFile;
                          return [4, riveFile.init()];
                        case 1:
                          _b.sent();
                          if (this.destroyed) {
                            riveFile.destroyIfUnused();
                            return [2, false];
                          }
                          _b.label = 2;
                        case 2:
                          this.file = this.riveFile.getInstance();
                          this.initArtboard(artboardName, animationNames, stateMachineNames, autoplay, autoBind);
                          this.initArtboardSize();
                          this.initializeAudio();
                          this.loaded = true;
                          this.eventManager.fire({
                            type: EventType.Load,
                            data: (_a = this.src) !== null && _a !== void 0 ? _a : "buffer"
                          });
                          this.animator.advanceIfPaused();
                          this.readyForPlaying = true;
                          this.taskQueue.process();
                          this.drawFrame();
                          return [2, true];
                        case 3:
                          error_2 = _b.sent();
                          msg = resolveErrorMessage(error_2);
                          console.warn(msg);
                          this.eventManager.fire({ type: EventType.LoadError, data: msg });
                          return [2, Promise.reject(msg)];
                        case 4:
                          return [
                            2
                            /*return*/
                          ];
                      }
                    });
                  });
                };
                Rive2.prototype.initArtboard = function(artboardName, animationNames, stateMachineNames, autoplay, autoBind) {
                  if (!this.file) {
                    return;
                  }
                  var rootArtboard = artboardName ? this.file.artboardByName(artboardName) : this.file.defaultArtboard();
                  if (!rootArtboard) {
                    var msg = "Invalid artboard name or no default artboard";
                    console.warn(msg);
                    this.eventManager.fire({ type: EventType.LoadError, data: msg });
                    return;
                  }
                  this.artboard = rootArtboard;
                  rootArtboard.volume = this._volume * audioManager.systemVolume;
                  this.animator = new Animator(this.runtime, this.artboard, this.eventManager);
                  var instanceNames;
                  if (animationNames.length > 0 || stateMachineNames.length > 0) {
                    instanceNames = animationNames.concat(stateMachineNames);
                    this.animator.initLinearAnimations(animationNames, autoplay);
                    this.animator.initStateMachines(stateMachineNames, autoplay);
                  } else {
                    instanceNames = [this.animator.atLeastOne(autoplay, false)];
                  }
                  this.taskQueue.add({
                    event: {
                      type: autoplay ? EventType.Play : EventType.Pause,
                      data: instanceNames
                    }
                  });
                  if (autoBind) {
                    var viewModel = this.file.defaultArtboardViewModel(rootArtboard);
                    if (viewModel !== null) {
                      var runtimeInstance = viewModel.defaultInstance();
                      if (runtimeInstance !== null) {
                        var viewModelInstance = new ViewModelInstance(runtimeInstance, null);
                        (0, _utils__WEBPACK_IMPORTED_MODULE_3__.createFinalization)(viewModelInstance, viewModelInstance.runtimeInstance);
                        this.bindViewModelInstance(viewModelInstance);
                      }
                    }
                  }
                };
                Rive2.prototype.drawFrame = function() {
                  var _a, _b;
                  if ((_a = document === null || document === void 0 ? void 0 : document.timeline) === null || _a === void 0 ? void 0 : _a.currentTime) {
                    if (this.loaded && this.artboard && !this.frameRequestId) {
                      this._boundDraw(document.timeline.currentTime);
                      (_b = this.runtime) === null || _b === void 0 ? void 0 : _b.resolveAnimationFrame();
                    }
                  } else {
                    this.startRendering();
                  }
                };
                Rive2.prototype.draw = function(time, onSecond) {
                  var _a;
                  this.frameRequestId = null;
                  var before = performance.now();
                  if (!this.lastRenderTime) {
                    this.lastRenderTime = time;
                  }
                  this.renderSecondTimer += time - this.lastRenderTime;
                  if (this.renderSecondTimer > 5e3) {
                    this.renderSecondTimer = 0;
                    onSecond === null || onSecond === void 0 ? void 0 : onSecond();
                  }
                  var elapsedTime = (time - this.lastRenderTime) / 1e3;
                  this.lastRenderTime = time;
                  var activeAnimations = this.animator.animations.filter(function(a) {
                    return a.playing || a.needsScrub;
                  }).sort(function(first) {
                    return first.needsScrub ? -1 : 1;
                  });
                  for (var _i = 0, activeAnimations_1 = activeAnimations; _i < activeAnimations_1.length; _i++) {
                    var animation = activeAnimations_1[_i];
                    animation.advance(elapsedTime);
                    if (animation.instance.didLoop) {
                      animation.loopCount += 1;
                    }
                    animation.apply(1);
                  }
                  var activeStateMachines = this.animator.stateMachines.filter(function(a) {
                    return a.playing;
                  });
                  for (var _b = 0, activeStateMachines_1 = activeStateMachines; _b < activeStateMachines_1.length; _b++) {
                    var stateMachine = activeStateMachines_1[_b];
                    var numEventsReported = stateMachine.reportedEventCount();
                    if (numEventsReported) {
                      for (var i = 0; i < numEventsReported; i++) {
                        var event_1 = stateMachine.reportedEventAt(i);
                        if (event_1) {
                          if (event_1.type === RiveEventType.OpenUrl) {
                            this.eventManager.fire({
                              type: EventType.RiveEvent,
                              data: event_1
                            });
                            if (this.automaticallyHandleEvents) {
                              var newAnchorTag = document.createElement("a");
                              var _c = event_1, url = _c.url, target = _c.target;
                              var sanitizedUrl = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.sanitizeUrl)(url);
                              url && newAnchorTag.setAttribute("href", sanitizedUrl);
                              target && newAnchorTag.setAttribute("target", target);
                              if (sanitizedUrl && sanitizedUrl !== _utils__WEBPACK_IMPORTED_MODULE_3__.BLANK_URL) {
                                newAnchorTag.click();
                              }
                            }
                          } else {
                            this.eventManager.fire({
                              type: EventType.RiveEvent,
                              data: event_1
                            });
                          }
                        }
                      }
                    }
                    stateMachine.advanceAndApply(elapsedTime);
                  }
                  if (this.animator.stateMachines.length == 0) {
                    this.artboard.advance(elapsedTime);
                  }
                  var renderer = this.renderer;
                  renderer.clear();
                  renderer.save();
                  this.alignRenderer();
                  if (!this._hasZeroSize) {
                    this.artboard.draw(renderer);
                  }
                  renderer.restore();
                  renderer.flush();
                  this.animator.handleLooping();
                  this.animator.handleStateChanges();
                  this.animator.handleAdvancing(elapsedTime);
                  this.frameCount++;
                  var after = performance.now();
                  this.frameTimes.push(after);
                  this.durations.push(after - before);
                  while (this.frameTimes[0] <= after - 1e3) {
                    this.frameTimes.shift();
                    this.durations.shift();
                  }
                  (_a = this._viewModelInstance) === null || _a === void 0 ? void 0 : _a.handleCallbacks();
                  if (this.animator.isPlaying) {
                    this.startRendering();
                  } else if (this.animator.isPaused) {
                    this.lastRenderTime = 0;
                  } else if (this.animator.isStopped) {
                    this.lastRenderTime = 0;
                  }
                };
                Rive2.prototype.alignRenderer = function() {
                  var _a = this, renderer = _a.renderer, runtime = _a.runtime, _layout = _a._layout, artboard = _a.artboard;
                  renderer.align(_layout.runtimeFit(runtime), _layout.runtimeAlignment(runtime), {
                    minX: _layout.minX,
                    minY: _layout.minY,
                    maxX: _layout.maxX,
                    maxY: _layout.maxY
                  }, artboard.bounds, this._devicePixelRatioUsed * _layout.layoutScaleFactor);
                };
                Object.defineProperty(Rive2.prototype, "fps", {
                  get: function() {
                    return this.durations.length;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "frameTime", {
                  get: function() {
                    if (this.durations.length === 0) {
                      return 0;
                    }
                    return (this.durations.reduce(function(a, b) {
                      return a + b;
                    }, 0) / this.durations.length).toFixed(4);
                  },
                  enumerable: false,
                  configurable: true
                });
                Rive2.prototype.cleanup = function() {
                  var _a, _b;
                  this.destroyed = true;
                  this.stopRendering();
                  this.cleanupInstances();
                  if (this._observed !== null) {
                    observers.remove(this._observed);
                  }
                  this.removeRiveListeners();
                  if (this.file) {
                    (_a = this.riveFile) === null || _a === void 0 ? void 0 : _a.cleanup();
                    this.file = null;
                  }
                  this.riveFile = null;
                  this.deleteRiveRenderer();
                  if (this._audioEventListener !== null) {
                    audioManager.remove(this._audioEventListener);
                    this._audioEventListener = null;
                  }
                  (_b = this._viewModelInstance) === null || _b === void 0 ? void 0 : _b.cleanup();
                  this._viewModelInstance = null;
                  this._dataEnums = null;
                };
                Rive2.prototype.deleteRiveRenderer = function() {
                  var _a;
                  (_a = this.renderer) === null || _a === void 0 ? void 0 : _a.delete();
                  this.renderer = null;
                };
                Rive2.prototype.cleanupInstances = function() {
                  if (this.eventCleanup !== null) {
                    this.eventCleanup();
                  }
                  this.stop();
                  if (this.artboard) {
                    this.artboard.delete();
                    this.artboard = null;
                  }
                };
                Rive2.prototype.retrieveTextRun = function(textRunName) {
                  var _a;
                  if (!textRunName) {
                    console.warn("No text run name provided");
                    return;
                  }
                  if (!this.artboard) {
                    console.warn("Tried to access text run, but the Artboard is null");
                    return;
                  }
                  var textRun = this.artboard.textRun(textRunName);
                  if (!textRun) {
                    console.warn("Could not access a text run with name '".concat(textRunName, "' in the '").concat((_a = this.artboard) === null || _a === void 0 ? void 0 : _a.name, "' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));
                    return;
                  }
                  return textRun;
                };
                Rive2.prototype.getTextRunValue = function(textRunName) {
                  var textRun = this.retrieveTextRun(textRunName);
                  return textRun ? textRun.text : void 0;
                };
                Rive2.prototype.setTextRunValue = function(textRunName, textRunValue) {
                  var textRun = this.retrieveTextRun(textRunName);
                  if (textRun) {
                    textRun.text = textRunValue;
                  }
                };
                Rive2.prototype.play = function(animationNames, autoplay) {
                  var _this = this;
                  animationNames = mapToStringArray(animationNames);
                  if (!this.readyForPlaying) {
                    this.taskQueue.add({
                      action: function() {
                        return _this.play(animationNames, autoplay);
                      }
                    });
                    return;
                  }
                  this.animator.play(animationNames);
                  if (this.eventCleanup) {
                    this.eventCleanup();
                  }
                  this.setupRiveListeners();
                  this.startRendering();
                };
                Rive2.prototype.pause = function(animationNames) {
                  var _this = this;
                  animationNames = mapToStringArray(animationNames);
                  if (!this.readyForPlaying) {
                    this.taskQueue.add({
                      action: function() {
                        return _this.pause(animationNames);
                      }
                    });
                    return;
                  }
                  if (this.eventCleanup) {
                    this.eventCleanup();
                  }
                  this.animator.pause(animationNames);
                };
                Rive2.prototype.scrub = function(animationNames, value) {
                  var _this = this;
                  animationNames = mapToStringArray(animationNames);
                  if (!this.readyForPlaying) {
                    this.taskQueue.add({
                      action: function() {
                        return _this.scrub(animationNames, value);
                      }
                    });
                    return;
                  }
                  this.animator.scrub(animationNames, value || 0);
                  this.drawFrame();
                };
                Rive2.prototype.stop = function(animationNames) {
                  var _this = this;
                  animationNames = mapToStringArray(animationNames);
                  if (!this.readyForPlaying) {
                    this.taskQueue.add({
                      action: function() {
                        return _this.stop(animationNames);
                      }
                    });
                    return;
                  }
                  if (this.animator) {
                    this.animator.stop(animationNames);
                  }
                  if (this.eventCleanup) {
                    this.eventCleanup();
                  }
                };
                Rive2.prototype.reset = function(params) {
                  var _a, _b;
                  var artBoardName = params === null || params === void 0 ? void 0 : params.artboard;
                  var animationNames = mapToStringArray(params === null || params === void 0 ? void 0 : params.animations);
                  var stateMachineNames = mapToStringArray(params === null || params === void 0 ? void 0 : params.stateMachines);
                  var autoplay = (_a = params === null || params === void 0 ? void 0 : params.autoplay) !== null && _a !== void 0 ? _a : false;
                  var autoBind = (_b = params === null || params === void 0 ? void 0 : params.autoBind) !== null && _b !== void 0 ? _b : false;
                  this.cleanupInstances();
                  this.initArtboard(artBoardName, animationNames, stateMachineNames, autoplay, autoBind);
                  this.taskQueue.process();
                };
                Rive2.prototype.load = function(params) {
                  this.file = null;
                  this.stop();
                  this.init(params);
                };
                Object.defineProperty(Rive2.prototype, "layout", {
                  /**
                   * Returns the current layout. Note that layout should be treated as
                   * immutable. If you want to change the layout, create a new one use the
                   * layout setter
                   */
                  get: function() {
                    return this._layout;
                  },
                  // Sets a new layout
                  set: function(layout) {
                    this._layout = layout;
                    if (!layout.maxX || !layout.maxY) {
                      this.resizeToCanvas();
                    }
                    if (this.loaded && !this.animator.isPlaying) {
                      this.drawFrame();
                    }
                  },
                  enumerable: false,
                  configurable: true
                });
                Rive2.prototype.resizeToCanvas = function() {
                  this._layout = this.layout.copyWith({
                    minX: 0,
                    minY: 0,
                    maxX: this.canvas.width,
                    maxY: this.canvas.height
                  });
                };
                Rive2.prototype.resizeDrawingSurfaceToCanvas = function(customDevicePixelRatio) {
                  if (this.canvas instanceof HTMLCanvasElement && !!window) {
                    var _a = this.canvas.getBoundingClientRect(), width = _a.width, height = _a.height;
                    var dpr = customDevicePixelRatio || window.devicePixelRatio || 1;
                    this.devicePixelRatioUsed = dpr;
                    this.canvas.width = dpr * width;
                    this.canvas.height = dpr * height;
                    this.resizeToCanvas();
                    this.drawFrame();
                    if (this.layout.fit === Fit.Layout) {
                      var scaleFactor = this._layout.layoutScaleFactor;
                      this.artboard.width = width / scaleFactor;
                      this.artboard.height = height / scaleFactor;
                    }
                  }
                };
                Object.defineProperty(Rive2.prototype, "source", {
                  // Returns the animation source, which may be undefined
                  get: function() {
                    return this.src;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "activeArtboard", {
                  /**
                   * Returns the name of the active artboard
                   */
                  get: function() {
                    return this.artboard ? this.artboard.name : "";
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "animationNames", {
                  // Returns a list of animation names on the chosen artboard
                  get: function() {
                    if (!this.loaded || !this.artboard) {
                      return [];
                    }
                    var animationNames = [];
                    for (var i = 0; i < this.artboard.animationCount(); i++) {
                      animationNames.push(this.artboard.animationByIndex(i).name);
                    }
                    return animationNames;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "stateMachineNames", {
                  /**
                   * Returns a list of state machine names from the current artboard
                   */
                  get: function() {
                    if (!this.loaded || !this.artboard) {
                      return [];
                    }
                    var stateMachineNames = [];
                    for (var i = 0; i < this.artboard.stateMachineCount(); i++) {
                      stateMachineNames.push(this.artboard.stateMachineByIndex(i).name);
                    }
                    return stateMachineNames;
                  },
                  enumerable: false,
                  configurable: true
                });
                Rive2.prototype.stateMachineInputs = function(name) {
                  if (!this.loaded) {
                    return;
                  }
                  var stateMachine = this.animator.stateMachines.find(function(m) {
                    return m.name === name;
                  });
                  return stateMachine === null || stateMachine === void 0 ? void 0 : stateMachine.inputs;
                };
                Rive2.prototype.retrieveInputAtPath = function(name, path) {
                  if (!name) {
                    console.warn("No input name provided for path '".concat(path, "'"));
                    return;
                  }
                  if (!this.artboard) {
                    console.warn("Tried to access input: '".concat(name, "', at path: '").concat(path, "', but the Artboard is null"));
                    return;
                  }
                  var input = this.artboard.inputByPath(name, path);
                  if (!input) {
                    console.warn("Could not access an input with name: '".concat(name, "', at path:'").concat(path, "'"));
                    return;
                  }
                  return input;
                };
                Rive2.prototype.setBooleanStateAtPath = function(inputName, value, path) {
                  var input = this.retrieveInputAtPath(inputName, path);
                  if (!input)
                    return;
                  if (input.type === StateMachineInputType.Boolean) {
                    input.asBool().value = value;
                  } else {
                    console.warn("Input with name: '".concat(inputName, "', at path:'").concat(path, "' is not a boolean"));
                  }
                };
                Rive2.prototype.setNumberStateAtPath = function(inputName, value, path) {
                  var input = this.retrieveInputAtPath(inputName, path);
                  if (!input)
                    return;
                  if (input.type === StateMachineInputType.Number) {
                    input.asNumber().value = value;
                  } else {
                    console.warn("Input with name: '".concat(inputName, "', at path:'").concat(path, "' is not a number"));
                  }
                };
                Rive2.prototype.fireStateAtPath = function(inputName, path) {
                  var input = this.retrieveInputAtPath(inputName, path);
                  if (!input)
                    return;
                  if (input.type === StateMachineInputType.Trigger) {
                    input.asTrigger().fire();
                  } else {
                    console.warn("Input with name: '".concat(inputName, "', at path:'").concat(path, "' is not a trigger"));
                  }
                };
                Rive2.prototype.retrieveTextAtPath = function(name, path) {
                  if (!name) {
                    console.warn("No text name provided for path '".concat(path, "'"));
                    return;
                  }
                  if (!path) {
                    console.warn("No path provided for text '".concat(name, "'"));
                    return;
                  }
                  if (!this.artboard) {
                    console.warn("Tried to access text: '".concat(name, "', at path: '").concat(path, "', but the Artboard is null"));
                    return;
                  }
                  var text = this.artboard.textByPath(name, path);
                  if (!text) {
                    console.warn("Could not access text with name: '".concat(name, "', at path:'").concat(path, "'"));
                    return;
                  }
                  return text;
                };
                Rive2.prototype.getTextRunValueAtPath = function(textName, path) {
                  var run = this.retrieveTextAtPath(textName, path);
                  if (!run) {
                    console.warn("Could not get text with name: '".concat(textName, "', at path:'").concat(path, "'"));
                    return;
                  }
                  return run.text;
                };
                Rive2.prototype.setTextRunValueAtPath = function(textName, value, path) {
                  var run = this.retrieveTextAtPath(textName, path);
                  if (!run) {
                    console.warn("Could not set text with name: '".concat(textName, "', at path:'").concat(path, "'"));
                    return;
                  }
                  run.text = value;
                };
                Object.defineProperty(Rive2.prototype, "playingStateMachineNames", {
                  // Returns a list of playing machine names
                  get: function() {
                    if (!this.loaded) {
                      return [];
                    }
                    return this.animator.stateMachines.filter(function(m) {
                      return m.playing;
                    }).map(function(m) {
                      return m.name;
                    });
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "playingAnimationNames", {
                  // Returns a list of playing animation names
                  get: function() {
                    if (!this.loaded) {
                      return [];
                    }
                    return this.animator.animations.filter(function(a) {
                      return a.playing;
                    }).map(function(a) {
                      return a.name;
                    });
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "pausedAnimationNames", {
                  // Returns a list of paused animation names
                  get: function() {
                    if (!this.loaded) {
                      return [];
                    }
                    return this.animator.animations.filter(function(a) {
                      return !a.playing;
                    }).map(function(a) {
                      return a.name;
                    });
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "pausedStateMachineNames", {
                  /**
                   *  Returns a list of paused machine names
                   * @returns a list of state machine names that are paused
                   */
                  get: function() {
                    if (!this.loaded) {
                      return [];
                    }
                    return this.animator.stateMachines.filter(function(m) {
                      return !m.playing;
                    }).map(function(m) {
                      return m.name;
                    });
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "isPlaying", {
                  /**
                   * @returns true if any animation is playing
                   */
                  get: function() {
                    return this.animator.isPlaying;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "isPaused", {
                  /**
                   * @returns true if all instanced animations are paused
                   */
                  get: function() {
                    return this.animator.isPaused;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "isStopped", {
                  /**
                   * @returns true if no animations are playing or paused
                   */
                  get: function() {
                    return this.animator.isStopped;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "bounds", {
                  /**
                   * @returns the bounds of the current artboard, or undefined if the artboard
                   * isn't loaded yet.
                   */
                  get: function() {
                    return this.artboard ? this.artboard.bounds : void 0;
                  },
                  enumerable: false,
                  configurable: true
                });
                Rive2.prototype.on = function(type, callback) {
                  this.eventManager.add({
                    type,
                    callback
                  });
                };
                Rive2.prototype.off = function(type, callback) {
                  this.eventManager.remove({
                    type,
                    callback
                  });
                };
                Rive2.prototype.unsubscribe = function(type, callback) {
                  console.warn("This function is deprecated: please use `off()` instead.");
                  this.off(type, callback);
                };
                Rive2.prototype.removeAllRiveEventListeners = function(type) {
                  this.eventManager.removeAll(type);
                };
                Rive2.prototype.unsubscribeAll = function(type) {
                  console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead.");
                  this.removeAllRiveEventListeners(type);
                };
                Rive2.prototype.stopRendering = function() {
                  if (this.loaded && this.frameRequestId) {
                    if (this.runtime.cancelAnimationFrame) {
                      this.runtime.cancelAnimationFrame(this.frameRequestId);
                    } else {
                      cancelAnimationFrame(this.frameRequestId);
                    }
                    this.frameRequestId = null;
                  }
                };
                Rive2.prototype.startRendering = function() {
                  if (this.loaded && this.artboard && !this.frameRequestId) {
                    if (this.runtime.requestAnimationFrame) {
                      this.frameRequestId = this.runtime.requestAnimationFrame(this._boundDraw);
                    } else {
                      this.frameRequestId = requestAnimationFrame(this._boundDraw);
                    }
                  }
                };
                Rive2.prototype.enableFPSCounter = function(fpsCallback) {
                  this.runtime.enableFPSCounter(fpsCallback);
                };
                Rive2.prototype.disableFPSCounter = function() {
                  this.runtime.disableFPSCounter();
                };
                Object.defineProperty(Rive2.prototype, "contents", {
                  /**
                   * Returns the contents of a Rive file: the artboards, animations, and state machines
                   */
                  get: function() {
                    if (!this.loaded) {
                      return void 0;
                    }
                    var riveContents = {
                      artboards: []
                    };
                    for (var i = 0; i < this.file.artboardCount(); i++) {
                      var artboard = this.file.artboardByIndex(i);
                      var artboardContents = {
                        name: artboard.name,
                        animations: [],
                        stateMachines: []
                      };
                      for (var j = 0; j < artboard.animationCount(); j++) {
                        var animation = artboard.animationByIndex(j);
                        artboardContents.animations.push(animation.name);
                      }
                      for (var k = 0; k < artboard.stateMachineCount(); k++) {
                        var stateMachine = artboard.stateMachineByIndex(k);
                        var name_1 = stateMachine.name;
                        var instance = new this.runtime.StateMachineInstance(stateMachine, artboard);
                        var inputContents = [];
                        for (var l = 0; l < instance.inputCount(); l++) {
                          var input = instance.input(l);
                          inputContents.push({ name: input.name, type: input.type });
                        }
                        artboardContents.stateMachines.push({
                          name: name_1,
                          inputs: inputContents
                        });
                      }
                      riveContents.artboards.push(artboardContents);
                    }
                    return riveContents;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "volume", {
                  /**
                   * Getter / Setter for the volume of the artboard
                   */
                  get: function() {
                    if (this.artboard && this.artboard.volume !== this._volume) {
                      this._volume = this.artboard.volume;
                    }
                    return this._volume;
                  },
                  set: function(value) {
                    this._volume = value;
                    if (this.artboard) {
                      this.artboard.volume = value * audioManager.systemVolume;
                    }
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "artboardWidth", {
                  /**
                   * The width of the artboard.
                   *
                   * This will return 0 if the artboard is not loaded yet and a custom
                   * width has not been set.
                   *
                   * Do not set this value manually when using {@link resizeDrawingSurfaceToCanvas}
                   * with a {@link Layout.fit} of {@link Fit.Layout}, as the artboard width is
                   * automatically set.
                   */
                  get: function() {
                    var _a;
                    if (this.artboard) {
                      return this.artboard.width;
                    }
                    return (_a = this._artboardWidth) !== null && _a !== void 0 ? _a : 0;
                  },
                  set: function(value) {
                    this._artboardWidth = value;
                    if (this.artboard) {
                      this.artboard.width = value;
                    }
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(Rive2.prototype, "artboardHeight", {
                  /**
                   * The height of the artboard.
                   *
                   * This will return 0 if the artboard is not loaded yet and a custom
                   * height has not been set.
                   *
                   * Do not set this value manually when using {@link resizeDrawingSurfaceToCanvas}
                   * with a {@link Layout.fit} of {@link Fit.Layout}, as the artboard height is
                   * automatically set.
                   */
                  get: function() {
                    var _a;
                    if (this.artboard) {
                      return this.artboard.height;
                    }
                    return (_a = this._artboardHeight) !== null && _a !== void 0 ? _a : 0;
                  },
                  set: function(value) {
                    this._artboardHeight = value;
                    if (this.artboard) {
                      this.artboard.height = value;
                    }
                  },
                  enumerable: false,
                  configurable: true
                });
                Rive2.prototype.resetArtboardSize = function() {
                  if (this.artboard) {
                    this.artboard.resetArtboardSize();
                    this._artboardWidth = this.artboard.width;
                    this._artboardHeight = this.artboard.height;
                  } else {
                    this._artboardWidth = void 0;
                    this._artboardHeight = void 0;
                  }
                };
                Object.defineProperty(Rive2.prototype, "devicePixelRatioUsed", {
                  /**
                   * The device pixel ratio used in rendering and canvas/artboard resizing.
                   *
                   * This value will be overidden by the device pixel ratio used in
                   * {@link resizeDrawingSurfaceToCanvas}. If you use that method, do not set this value.
                   */
                  get: function() {
                    return this._devicePixelRatioUsed;
                  },
                  set: function(value) {
                    this._devicePixelRatioUsed = value;
                  },
                  enumerable: false,
                  configurable: true
                });
                Rive2.prototype.bindViewModelInstance = function(viewModelInstance) {
                  var _a;
                  if (this.artboard && !this.destroyed) {
                    if (viewModelInstance && viewModelInstance.runtimeInstance) {
                      viewModelInstance.internalIncrementReferenceCount();
                      (_a = this._viewModelInstance) === null || _a === void 0 ? void 0 : _a.cleanup();
                      this._viewModelInstance = viewModelInstance;
                      if (this.animator.stateMachines.length > 0) {
                        this.animator.stateMachines.forEach(function(stateMachine) {
                          return stateMachine.bindViewModelInstance(viewModelInstance);
                        });
                      } else {
                        this.artboard.bindViewModelInstance(viewModelInstance.runtimeInstance);
                      }
                    }
                  }
                };
                Object.defineProperty(Rive2.prototype, "viewModelInstance", {
                  get: function() {
                    return this._viewModelInstance;
                  },
                  enumerable: false,
                  configurable: true
                });
                Rive2.prototype.viewModelByIndex = function(index) {
                  var viewModel = this.file.viewModelByIndex(index);
                  if (viewModel !== null) {
                    return new ViewModel(viewModel);
                  }
                  return null;
                };
                Rive2.prototype.viewModelByName = function(name) {
                  var viewModel = this.file.viewModelByName(name);
                  if (viewModel !== null) {
                    return new ViewModel(viewModel);
                  }
                  return null;
                };
                Rive2.prototype.enums = function() {
                  if (this._dataEnums === null) {
                    var dataEnums = this.file.enums();
                    this._dataEnums = dataEnums.map(function(dataEnum) {
                      return new DataEnum(dataEnum);
                    });
                  }
                  return this._dataEnums;
                };
                Rive2.prototype.defaultViewModel = function() {
                  if (this.artboard) {
                    var viewModel = this.file.defaultArtboardViewModel(this.artboard);
                    if (viewModel) {
                      return new ViewModel(viewModel);
                    }
                  }
                  return null;
                };
                Rive2.prototype.getArtboard = function(name) {
                  var _a, _b;
                  return (_b = (_a = this.riveFile) === null || _a === void 0 ? void 0 : _a.getArtboard(name)) !== null && _b !== void 0 ? _b : null;
                };
                Rive2.prototype.getBindableArtboard = function(name) {
                  var _a, _b;
                  return (_b = (_a = this.riveFile) === null || _a === void 0 ? void 0 : _a.getBindableArtboard(name)) !== null && _b !== void 0 ? _b : null;
                };
                Rive2.prototype.getDefaultBindableArtboard = function() {
                  var _a, _b;
                  return (_b = (_a = this.riveFile) === null || _a === void 0 ? void 0 : _a.getDefaultBindableArtboard()) !== null && _b !== void 0 ? _b : null;
                };
                Rive2.missingErrorMessage = "Rive source file or data buffer required";
                Rive2.cleanupErrorMessage = "Attempt to use file after calling cleanup.";
                return Rive2;
              })()
            );
            var ViewModel = (
              /** @class */
              (function() {
                function ViewModel2(viewModel) {
                  this._viewModel = viewModel;
                }
                Object.defineProperty(ViewModel2.prototype, "instanceCount", {
                  get: function() {
                    return this._viewModel.instanceCount;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(ViewModel2.prototype, "name", {
                  get: function() {
                    return this._viewModel.name;
                  },
                  enumerable: false,
                  configurable: true
                });
                ViewModel2.prototype.instanceByIndex = function(index) {
                  var instance = this._viewModel.instanceByIndex(index);
                  if (instance !== null) {
                    var viewModelInstance = new ViewModelInstance(instance, null);
                    (0, _utils__WEBPACK_IMPORTED_MODULE_3__.createFinalization)(viewModelInstance, instance);
                    return viewModelInstance;
                  }
                  return null;
                };
                ViewModel2.prototype.instanceByName = function(name) {
                  var instance = this._viewModel.instanceByName(name);
                  if (instance !== null) {
                    var viewModelInstance = new ViewModelInstance(instance, null);
                    (0, _utils__WEBPACK_IMPORTED_MODULE_3__.createFinalization)(viewModelInstance, instance);
                    return viewModelInstance;
                  }
                  return null;
                };
                ViewModel2.prototype.defaultInstance = function() {
                  var runtimeInstance = this._viewModel.defaultInstance();
                  if (runtimeInstance !== null) {
                    var viewModelInstance = new ViewModelInstance(runtimeInstance, null);
                    (0, _utils__WEBPACK_IMPORTED_MODULE_3__.createFinalization)(viewModelInstance, runtimeInstance);
                    return viewModelInstance;
                  }
                  return null;
                };
                ViewModel2.prototype.instance = function() {
                  var runtimeInstance = this._viewModel.instance();
                  if (runtimeInstance !== null) {
                    var viewModelInstance = new ViewModelInstance(runtimeInstance, null);
                    (0, _utils__WEBPACK_IMPORTED_MODULE_3__.createFinalization)(viewModelInstance, runtimeInstance);
                    return viewModelInstance;
                  }
                  return null;
                };
                Object.defineProperty(ViewModel2.prototype, "properties", {
                  get: function() {
                    return this._viewModel.getProperties();
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(ViewModel2.prototype, "instanceNames", {
                  get: function() {
                    return this._viewModel.getInstanceNames();
                  },
                  enumerable: false,
                  configurable: true
                });
                return ViewModel2;
              })()
            );
            var DataEnum = (
              /** @class */
              (function() {
                function DataEnum2(dataEnum) {
                  this._dataEnum = dataEnum;
                }
                Object.defineProperty(DataEnum2.prototype, "name", {
                  get: function() {
                    return this._dataEnum.name;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(DataEnum2.prototype, "values", {
                  get: function() {
                    return this._dataEnum.values;
                  },
                  enumerable: false,
                  configurable: true
                });
                return DataEnum2;
              })()
            );
            var PropertyType;
            (function(PropertyType2) {
              PropertyType2["Number"] = "number";
              PropertyType2["String"] = "string";
              PropertyType2["Boolean"] = "boolean";
              PropertyType2["Color"] = "color";
              PropertyType2["Trigger"] = "trigger";
              PropertyType2["Enum"] = "enum";
              PropertyType2["List"] = "list";
              PropertyType2["Image"] = "image";
              PropertyType2["Artboard"] = "artboard";
            })(PropertyType || (PropertyType = {}));
            var ViewModelInstance = (
              /** @class */
              (function() {
                function ViewModelInstance2(runtimeInstance, parent) {
                  this._parents = [];
                  this._children = [];
                  this._viewModelInstances = /* @__PURE__ */ new Map();
                  this._propertiesWithCallbacks = [];
                  this._referenceCount = 0;
                  this.selfUnref = false;
                  this._runtimeInstance = runtimeInstance;
                  if (parent !== null) {
                    this._parents.push(parent);
                  }
                }
                Object.defineProperty(ViewModelInstance2.prototype, "runtimeInstance", {
                  get: function() {
                    return this._runtimeInstance;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(ViewModelInstance2.prototype, "nativeInstance", {
                  get: function() {
                    return this._runtimeInstance;
                  },
                  enumerable: false,
                  configurable: true
                });
                ViewModelInstance2.prototype.handleCallbacks = function() {
                  if (this._propertiesWithCallbacks.length !== 0) {
                    this._propertiesWithCallbacks.forEach(function(property) {
                      property.handleCallbacks();
                    });
                    this._propertiesWithCallbacks.forEach(function(property) {
                      property.clearChanges();
                    });
                  }
                  this._children.forEach(function(child) {
                    return child.handleCallbacks();
                  });
                };
                ViewModelInstance2.prototype.addParent = function(parent) {
                  if (!this._parents.includes(parent)) {
                    this._parents.push(parent);
                    if (this._propertiesWithCallbacks.length > 0 || this._children.length > 0) {
                      parent.addToViewModelCallbacks(this);
                    }
                  }
                };
                ViewModelInstance2.prototype.removeParent = function(parent) {
                  var index = this._parents.indexOf(parent);
                  if (index !== -1) {
                    var parent_1 = this._parents[index];
                    parent_1.removeFromViewModelCallbacks(this);
                    this._parents.splice(index, 1);
                  }
                };
                ViewModelInstance2.prototype.addToPropertyCallbacks = function(property) {
                  var _this = this;
                  if (!this._propertiesWithCallbacks.includes(property)) {
                    this._propertiesWithCallbacks.push(property);
                    if (this._propertiesWithCallbacks.length > 0) {
                      this._parents.forEach(function(parent) {
                        parent.addToViewModelCallbacks(_this);
                      });
                    }
                  }
                };
                ViewModelInstance2.prototype.removeFromPropertyCallbacks = function(property) {
                  var _this = this;
                  if (this._propertiesWithCallbacks.includes(property)) {
                    this._propertiesWithCallbacks = this._propertiesWithCallbacks.filter(function(prop) {
                      return prop !== property;
                    });
                    if (this._children.length === 0 && this._propertiesWithCallbacks.length === 0) {
                      this._parents.forEach(function(parent) {
                        parent.removeFromViewModelCallbacks(_this);
                      });
                    }
                  }
                };
                ViewModelInstance2.prototype.addToViewModelCallbacks = function(instance) {
                  var _this = this;
                  if (!this._children.includes(instance)) {
                    this._children.push(instance);
                    this._parents.forEach(function(parent) {
                      parent.addToViewModelCallbacks(_this);
                    });
                  }
                };
                ViewModelInstance2.prototype.removeFromViewModelCallbacks = function(instance) {
                  var _this = this;
                  if (this._children.includes(instance)) {
                    this._children = this._children.filter(function(child) {
                      return child !== instance;
                    });
                    if (this._children.length === 0 && this._propertiesWithCallbacks.length === 0) {
                      this._parents.forEach(function(parent) {
                        parent.removeFromViewModelCallbacks(_this);
                      });
                    }
                  }
                };
                ViewModelInstance2.prototype.clearCallbacks = function() {
                  this._propertiesWithCallbacks.forEach(function(property) {
                    property.clearCallbacks();
                  });
                };
                ViewModelInstance2.prototype.propertyFromPath = function(path, type) {
                  var pathSegments = path.split("/");
                  return this.propertyFromPathSegments(pathSegments, 0, type);
                };
                ViewModelInstance2.prototype.viewModelFromPathSegments = function(pathSegments, index) {
                  var viewModelInstance = this.internalViewModelInstance(pathSegments[index]);
                  if (viewModelInstance !== null) {
                    if (index == pathSegments.length - 1) {
                      return viewModelInstance;
                    } else {
                      return viewModelInstance.viewModelFromPathSegments(pathSegments, index++);
                    }
                  }
                  return null;
                };
                ViewModelInstance2.prototype.propertyFromPathSegments = function(pathSegments, index, type) {
                  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t;
                  if (index < pathSegments.length - 1) {
                    var viewModelInstance = this.internalViewModelInstance(pathSegments[index]);
                    if (viewModelInstance !== null) {
                      return viewModelInstance.propertyFromPathSegments(pathSegments, index + 1, type);
                    } else {
                      return null;
                    }
                  }
                  var instance = null;
                  switch (type) {
                    case PropertyType.Number:
                      instance = (_b = (_a = this._runtimeInstance) === null || _a === void 0 ? void 0 : _a.number(pathSegments[index])) !== null && _b !== void 0 ? _b : null;
                      if (instance !== null) {
                        return new ViewModelInstanceNumber(instance, this);
                      }
                      break;
                    case PropertyType.String:
                      instance = (_d = (_c = this._runtimeInstance) === null || _c === void 0 ? void 0 : _c.string(pathSegments[index])) !== null && _d !== void 0 ? _d : null;
                      if (instance !== null) {
                        return new ViewModelInstanceString(instance, this);
                      }
                      break;
                    case PropertyType.Boolean:
                      instance = (_f = (_e = this._runtimeInstance) === null || _e === void 0 ? void 0 : _e.boolean(pathSegments[index])) !== null && _f !== void 0 ? _f : null;
                      if (instance !== null) {
                        return new ViewModelInstanceBoolean(instance, this);
                      }
                      break;
                    case PropertyType.Color:
                      instance = (_h = (_g = this._runtimeInstance) === null || _g === void 0 ? void 0 : _g.color(pathSegments[index])) !== null && _h !== void 0 ? _h : null;
                      if (instance !== null) {
                        return new ViewModelInstanceColor(instance, this);
                      }
                      break;
                    case PropertyType.Trigger:
                      instance = (_k = (_j = this._runtimeInstance) === null || _j === void 0 ? void 0 : _j.trigger(pathSegments[index])) !== null && _k !== void 0 ? _k : null;
                      if (instance !== null) {
                        return new ViewModelInstanceTrigger(instance, this);
                      }
                      break;
                    case PropertyType.Enum:
                      instance = (_m = (_l = this._runtimeInstance) === null || _l === void 0 ? void 0 : _l.enum(pathSegments[index])) !== null && _m !== void 0 ? _m : null;
                      if (instance !== null) {
                        return new ViewModelInstanceEnum(instance, this);
                      }
                      break;
                    case PropertyType.List:
                      instance = (_p = (_o = this._runtimeInstance) === null || _o === void 0 ? void 0 : _o.list(pathSegments[index])) !== null && _p !== void 0 ? _p : null;
                      if (instance !== null) {
                        return new ViewModelInstanceList(instance, this);
                      }
                      break;
                    case PropertyType.Image:
                      instance = (_r = (_q = this._runtimeInstance) === null || _q === void 0 ? void 0 : _q.image(pathSegments[index])) !== null && _r !== void 0 ? _r : null;
                      if (instance !== null) {
                        return new ViewModelInstanceAssetImage(instance, this);
                      }
                      break;
                    case PropertyType.Artboard:
                      instance = (_t = (_s = this._runtimeInstance) === null || _s === void 0 ? void 0 : _s.artboard(pathSegments[index])) !== null && _t !== void 0 ? _t : null;
                      if (instance !== null) {
                        return new ViewModelInstanceArtboard(instance, this);
                      }
                      break;
                  }
                  return null;
                };
                ViewModelInstance2.prototype.internalViewModelInstance = function(name) {
                  var _a;
                  if (this._viewModelInstances.has(name)) {
                    return this._viewModelInstances.get(name);
                  }
                  var viewModelRuntimeInstance = (_a = this._runtimeInstance) === null || _a === void 0 ? void 0 : _a.viewModel(name);
                  if (viewModelRuntimeInstance !== null) {
                    var viewModelInstance = new ViewModelInstance2(viewModelRuntimeInstance, this);
                    (0, _utils__WEBPACK_IMPORTED_MODULE_3__.createFinalization)(viewModelInstance, viewModelRuntimeInstance);
                    viewModelInstance.internalIncrementReferenceCount();
                    this._viewModelInstances.set(name, viewModelInstance);
                    return viewModelInstance;
                  }
                  return null;
                };
                ViewModelInstance2.prototype.number = function(path) {
                  var viewmodelInstanceValue = this.propertyFromPath(path, PropertyType.Number);
                  return viewmodelInstanceValue;
                };
                ViewModelInstance2.prototype.string = function(path) {
                  var viewmodelInstanceValue = this.propertyFromPath(path, PropertyType.String);
                  return viewmodelInstanceValue;
                };
                ViewModelInstance2.prototype.boolean = function(path) {
                  var viewmodelInstanceValue = this.propertyFromPath(path, PropertyType.Boolean);
                  return viewmodelInstanceValue;
                };
                ViewModelInstance2.prototype.color = function(path) {
                  var viewmodelInstanceValue = this.propertyFromPath(path, PropertyType.Color);
                  return viewmodelInstanceValue;
                };
                ViewModelInstance2.prototype.trigger = function(path) {
                  var viewmodelInstanceValue = this.propertyFromPath(path, PropertyType.Trigger);
                  return viewmodelInstanceValue;
                };
                ViewModelInstance2.prototype.enum = function(path) {
                  var viewmodelInstanceValue = this.propertyFromPath(path, PropertyType.Enum);
                  return viewmodelInstanceValue;
                };
                ViewModelInstance2.prototype.list = function(path) {
                  var viewmodelInstanceValue = this.propertyFromPath(path, PropertyType.List);
                  return viewmodelInstanceValue;
                };
                ViewModelInstance2.prototype.image = function(path) {
                  var viewmodelInstanceValue = this.propertyFromPath(path, PropertyType.Image);
                  return viewmodelInstanceValue;
                };
                ViewModelInstance2.prototype.artboard = function(path) {
                  var viewmodelInstanceValue = this.propertyFromPath(path, PropertyType.Artboard);
                  return viewmodelInstanceValue;
                };
                ViewModelInstance2.prototype.viewModel = function(path) {
                  var pathSegments = path.split("/");
                  var parentViewModelInstance = pathSegments.length > 1 ? this.viewModelFromPathSegments(pathSegments.slice(0, pathSegments.length - 1), 0) : this;
                  if (parentViewModelInstance != null) {
                    return parentViewModelInstance.internalViewModelInstance(pathSegments[pathSegments.length - 1]);
                  }
                  return null;
                };
                ViewModelInstance2.prototype.internalReplaceViewModel = function(name, value) {
                  var _a;
                  if (value.runtimeInstance !== null) {
                    var result = ((_a = this._runtimeInstance) === null || _a === void 0 ? void 0 : _a.replaceViewModel(name, value.runtimeInstance)) || false;
                    if (result) {
                      value.internalIncrementReferenceCount();
                      var oldInstance_1 = this.internalViewModelInstance(name);
                      if (oldInstance_1 !== null) {
                        oldInstance_1.removeParent(this);
                        if (this._children.includes(oldInstance_1)) {
                          this._children = this._children.filter(function(child) {
                            return child !== oldInstance_1;
                          });
                        }
                        oldInstance_1.cleanup();
                      }
                      this._viewModelInstances.set(name, value);
                      value.addParent(this);
                    }
                    return result;
                  }
                  return false;
                };
                ViewModelInstance2.prototype.replaceViewModel = function(path, value) {
                  var _a;
                  var pathSegments = path.split("/");
                  var viewModelInstance = pathSegments.length > 1 ? this.viewModelFromPathSegments(pathSegments.slice(0, pathSegments.length - 1), 0) : this;
                  return (_a = viewModelInstance === null || viewModelInstance === void 0 ? void 0 : viewModelInstance.internalReplaceViewModel(pathSegments[pathSegments.length - 1], value)) !== null && _a !== void 0 ? _a : false;
                };
                ViewModelInstance2.prototype.incrementReferenceCount = function() {
                  var _a;
                  this._referenceCount++;
                  (_a = this._runtimeInstance) === null || _a === void 0 ? void 0 : _a.incrementReferenceCount();
                };
                ViewModelInstance2.prototype.decrementReferenceCount = function() {
                  var _a;
                  this._referenceCount--;
                  (_a = this._runtimeInstance) === null || _a === void 0 ? void 0 : _a.decrementReferenceCount();
                };
                Object.defineProperty(ViewModelInstance2.prototype, "properties", {
                  get: function() {
                    var _a;
                    return ((_a = this._runtimeInstance) === null || _a === void 0 ? void 0 : _a.getProperties().map(function(prop) {
                      return __assign({}, prop);
                    })) || [];
                  },
                  enumerable: false,
                  configurable: true
                });
                ViewModelInstance2.prototype.internalIncrementReferenceCount = function() {
                  this._referenceCount++;
                };
                ViewModelInstance2.prototype.cleanup = function() {
                  var _this = this;
                  var _a;
                  this._referenceCount--;
                  if (this._referenceCount <= 0) {
                    if (this.selfUnref) {
                      (_a = this._runtimeInstance) === null || _a === void 0 ? void 0 : _a.unref();
                    }
                    this._runtimeInstance = null;
                    this.clearCallbacks();
                    this._propertiesWithCallbacks = [];
                    this._viewModelInstances.forEach(function(value) {
                      value.cleanup();
                    });
                    this._viewModelInstances.clear();
                    var children = __spreadArray([], this._children, true);
                    this._children.length = 0;
                    var parents = __spreadArray([], this._parents, true);
                    this._parents.length = 0;
                    children.forEach(function(child) {
                      child.removeParent(_this);
                    });
                    parents.forEach(function(parent) {
                      parent.removeFromViewModelCallbacks(_this);
                    });
                  }
                };
                return ViewModelInstance2;
              })()
            );
            var ViewModelInstanceValue = (
              /** @class */
              (function() {
                function ViewModelInstanceValue2(instance, parent) {
                  this.callbacks = [];
                  this._viewModelInstanceValue = instance;
                  this._parentViewModel = parent;
                }
                ViewModelInstanceValue2.prototype.on = function(callback) {
                  if (this.callbacks.length === 0) {
                    this._viewModelInstanceValue.clearChanges();
                  }
                  if (!this.callbacks.includes(callback)) {
                    this.callbacks.push(callback);
                    this._parentViewModel.addToPropertyCallbacks(this);
                  }
                };
                ViewModelInstanceValue2.prototype.off = function(callback) {
                  if (!callback) {
                    this.callbacks.length = 0;
                  } else {
                    this.callbacks = this.callbacks.filter(function(cb) {
                      return cb !== callback;
                    });
                  }
                  if (this.callbacks.length === 0) {
                    this._parentViewModel.removeFromPropertyCallbacks(this);
                  }
                };
                ViewModelInstanceValue2.prototype.internalHandleCallback = function(callback) {
                };
                ViewModelInstanceValue2.prototype.handleCallbacks = function() {
                  var _this = this;
                  if (this._viewModelInstanceValue.hasChanged) {
                    this.callbacks.forEach(function(callback) {
                      _this.internalHandleCallback(callback);
                    });
                  }
                };
                ViewModelInstanceValue2.prototype.clearChanges = function() {
                  this._viewModelInstanceValue.clearChanges();
                };
                ViewModelInstanceValue2.prototype.clearCallbacks = function() {
                  this.callbacks.length = 0;
                };
                Object.defineProperty(ViewModelInstanceValue2.prototype, "name", {
                  get: function() {
                    return this._viewModelInstanceValue.name;
                  },
                  enumerable: false,
                  configurable: true
                });
                return ViewModelInstanceValue2;
              })()
            );
            var ViewModelInstanceString = (
              /** @class */
              (function(_super) {
                __extends(ViewModelInstanceString2, _super);
                function ViewModelInstanceString2(instance, parent) {
                  return _super.call(this, instance, parent) || this;
                }
                Object.defineProperty(ViewModelInstanceString2.prototype, "value", {
                  get: function() {
                    return this._viewModelInstanceValue.value;
                  },
                  set: function(val) {
                    this._viewModelInstanceValue.value = val;
                  },
                  enumerable: false,
                  configurable: true
                });
                ViewModelInstanceString2.prototype.internalHandleCallback = function(callback) {
                  callback(this.value);
                };
                return ViewModelInstanceString2;
              })(ViewModelInstanceValue)
            );
            var ViewModelInstanceNumber = (
              /** @class */
              (function(_super) {
                __extends(ViewModelInstanceNumber2, _super);
                function ViewModelInstanceNumber2(instance, parent) {
                  return _super.call(this, instance, parent) || this;
                }
                Object.defineProperty(ViewModelInstanceNumber2.prototype, "value", {
                  get: function() {
                    return this._viewModelInstanceValue.value;
                  },
                  set: function(val) {
                    this._viewModelInstanceValue.value = val;
                  },
                  enumerable: false,
                  configurable: true
                });
                ViewModelInstanceNumber2.prototype.internalHandleCallback = function(callback) {
                  callback(this.value);
                };
                return ViewModelInstanceNumber2;
              })(ViewModelInstanceValue)
            );
            var ViewModelInstanceBoolean = (
              /** @class */
              (function(_super) {
                __extends(ViewModelInstanceBoolean2, _super);
                function ViewModelInstanceBoolean2(instance, parent) {
                  return _super.call(this, instance, parent) || this;
                }
                Object.defineProperty(ViewModelInstanceBoolean2.prototype, "value", {
                  get: function() {
                    return this._viewModelInstanceValue.value;
                  },
                  set: function(val) {
                    this._viewModelInstanceValue.value = val;
                  },
                  enumerable: false,
                  configurable: true
                });
                ViewModelInstanceBoolean2.prototype.internalHandleCallback = function(callback) {
                  callback(this.value);
                };
                return ViewModelInstanceBoolean2;
              })(ViewModelInstanceValue)
            );
            var ViewModelInstanceTrigger = (
              /** @class */
              (function(_super) {
                __extends(ViewModelInstanceTrigger2, _super);
                function ViewModelInstanceTrigger2(instance, parent) {
                  return _super.call(this, instance, parent) || this;
                }
                ViewModelInstanceTrigger2.prototype.trigger = function() {
                  return this._viewModelInstanceValue.trigger();
                };
                ViewModelInstanceTrigger2.prototype.internalHandleCallback = function(callback) {
                  callback();
                };
                return ViewModelInstanceTrigger2;
              })(ViewModelInstanceValue)
            );
            var ViewModelInstanceEnum = (
              /** @class */
              (function(_super) {
                __extends(ViewModelInstanceEnum2, _super);
                function ViewModelInstanceEnum2(instance, parent) {
                  return _super.call(this, instance, parent) || this;
                }
                Object.defineProperty(ViewModelInstanceEnum2.prototype, "value", {
                  get: function() {
                    return this._viewModelInstanceValue.value;
                  },
                  set: function(val) {
                    this._viewModelInstanceValue.value = val;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(ViewModelInstanceEnum2.prototype, "valueIndex", {
                  get: function() {
                    return this._viewModelInstanceValue.valueIndex;
                  },
                  set: function(val) {
                    this._viewModelInstanceValue.valueIndex = val;
                  },
                  enumerable: false,
                  configurable: true
                });
                Object.defineProperty(ViewModelInstanceEnum2.prototype, "values", {
                  get: function() {
                    return this._viewModelInstanceValue.values;
                  },
                  enumerable: false,
                  configurable: true
                });
                ViewModelInstanceEnum2.prototype.internalHandleCallback = function(callback) {
                  callback(this.value);
                };
                return ViewModelInstanceEnum2;
              })(ViewModelInstanceValue)
            );
            var ViewModelInstanceList = (
              /** @class */
              (function(_super) {
                __extends(ViewModelInstanceList2, _super);
                function ViewModelInstanceList2(instance, parent) {
                  return _super.call(this, instance, parent) || this;
                }
                Object.defineProperty(ViewModelInstanceList2.prototype, "length", {
                  get: function() {
                    return this._viewModelInstanceValue.size;
                  },
                  enumerable: false,
                  configurable: true
                });
                ViewModelInstanceList2.prototype.addInstance = function(instance) {
                  if (instance.runtimeInstance != null) {
                    this._viewModelInstanceValue.addInstance(instance.runtimeInstance);
                    instance.addParent(this._parentViewModel);
                  }
                };
                ViewModelInstanceList2.prototype.addInstanceAt = function(instance, index) {
                  if (instance.runtimeInstance != null) {
                    if (this._viewModelInstanceValue.addInstanceAt(instance.runtimeInstance, index)) {
                      instance.addParent(this._parentViewModel);
                      return true;
                    }
                  }
                  return false;
                };
                ViewModelInstanceList2.prototype.removeInstance = function(instance) {
                  if (instance.runtimeInstance != null) {
                    this._viewModelInstanceValue.removeInstance(instance.runtimeInstance);
                    instance.removeParent(this._parentViewModel);
                  }
                };
                ViewModelInstanceList2.prototype.removeInstanceAt = function(index) {
                  this._viewModelInstanceValue.removeInstanceAt(index);
                };
                ViewModelInstanceList2.prototype.instanceAt = function(index) {
                  var runtimeInstance = this._viewModelInstanceValue.instanceAt(index);
                  if (runtimeInstance != null) {
                    var viewModelInstance = new ViewModelInstance(runtimeInstance, this._parentViewModel);
                    (0, _utils__WEBPACK_IMPORTED_MODULE_3__.createFinalization)(viewModelInstance, runtimeInstance);
                    return viewModelInstance;
                  }
                  return null;
                };
                ViewModelInstanceList2.prototype.swap = function(a, b) {
                  this._viewModelInstanceValue.swap(a, b);
                };
                ViewModelInstanceList2.prototype.internalHandleCallback = function(callback) {
                  callback();
                };
                return ViewModelInstanceList2;
              })(ViewModelInstanceValue)
            );
            var ViewModelInstanceColor = (
              /** @class */
              (function(_super) {
                __extends(ViewModelInstanceColor2, _super);
                function ViewModelInstanceColor2(instance, parent) {
                  return _super.call(this, instance, parent) || this;
                }
                Object.defineProperty(ViewModelInstanceColor2.prototype, "value", {
                  get: function() {
                    return this._viewModelInstanceValue.value;
                  },
                  set: function(val) {
                    this._viewModelInstanceValue.value = val;
                  },
                  enumerable: false,
                  configurable: true
                });
                ViewModelInstanceColor2.prototype.rgb = function(r, g, b) {
                  this._viewModelInstanceValue.rgb(r, g, b);
                };
                ViewModelInstanceColor2.prototype.rgba = function(r, g, b, a) {
                  this._viewModelInstanceValue.argb(a, r, g, b);
                };
                ViewModelInstanceColor2.prototype.argb = function(a, r, g, b) {
                  this._viewModelInstanceValue.argb(a, r, g, b);
                };
                ViewModelInstanceColor2.prototype.alpha = function(a) {
                  this._viewModelInstanceValue.alpha(a);
                };
                ViewModelInstanceColor2.prototype.opacity = function(o) {
                  this._viewModelInstanceValue.alpha(Math.round(Math.max(0, Math.min(1, o)) * 255));
                };
                ViewModelInstanceColor2.prototype.internalHandleCallback = function(callback) {
                  callback(this.value);
                };
                return ViewModelInstanceColor2;
              })(ViewModelInstanceValue)
            );
            var ViewModelInstanceAssetImage = (
              /** @class */
              (function(_super) {
                __extends(ViewModelInstanceAssetImage2, _super);
                function ViewModelInstanceAssetImage2(instance, root) {
                  return _super.call(this, instance, root) || this;
                }
                Object.defineProperty(ViewModelInstanceAssetImage2.prototype, "value", {
                  set: function(image) {
                    var _a;
                    this._viewModelInstanceValue.value((_a = image === null || image === void 0 ? void 0 : image.nativeImage) !== null && _a !== void 0 ? _a : null);
                  },
                  enumerable: false,
                  configurable: true
                });
                ViewModelInstanceAssetImage2.prototype.internalHandleCallback = function(callback) {
                  callback();
                };
                return ViewModelInstanceAssetImage2;
              })(ViewModelInstanceValue)
            );
            var ViewModelInstanceArtboard = (
              /** @class */
              (function(_super) {
                __extends(ViewModelInstanceArtboard2, _super);
                function ViewModelInstanceArtboard2(instance, root) {
                  return _super.call(this, instance, root) || this;
                }
                Object.defineProperty(ViewModelInstanceArtboard2.prototype, "value", {
                  set: function(artboard) {
                    var _a;
                    var bindableArtboard;
                    if (artboard.isBindableArtboard) {
                      bindableArtboard = artboard;
                    } else {
                      bindableArtboard = artboard.file.internalBindableArtboardFromArtboard(artboard.nativeArtboard);
                    }
                    this._viewModelInstanceValue.value((_a = bindableArtboard === null || bindableArtboard === void 0 ? void 0 : bindableArtboard.nativeArtboard) !== null && _a !== void 0 ? _a : null);
                  },
                  enumerable: false,
                  configurable: true
                });
                ViewModelInstanceArtboard2.prototype.internalHandleCallback = function(callback) {
                  callback();
                };
                return ViewModelInstanceArtboard2;
              })(ViewModelInstanceValue)
            );
            var loadRiveFile = function(src) {
              return __awaiter(void 0, void 0, void 0, function() {
                var req, res, buffer;
                return __generator(this, function(_a) {
                  switch (_a.label) {
                    case 0:
                      req = new Request(src);
                      return [4, fetch(req)];
                    case 1:
                      res = _a.sent();
                      return [4, res.arrayBuffer()];
                    case 2:
                      buffer = _a.sent();
                      return [2, buffer];
                  }
                });
              });
            };
            var mapToStringArray = function(obj) {
              if (typeof obj === "string") {
                return [obj];
              } else if (obj instanceof Array) {
                return obj;
              }
              return [];
            };
            var Testing = {
              EventManager,
              TaskQueueManager
            };
            var decodeAudio = function(bytes) {
              return __awaiter(void 0, void 0, void 0, function() {
                var decodedPromise, audio, audioWrapper;
                return __generator(this, function(_a) {
                  switch (_a.label) {
                    case 0:
                      decodedPromise = new Promise(function(resolve) {
                        return RuntimeLoader.getInstance(function(rive) {
                          rive.decodeAudio(bytes, resolve);
                        });
                      });
                      return [4, decodedPromise];
                    case 1:
                      audio = _a.sent();
                      audioWrapper = new _utils__WEBPACK_IMPORTED_MODULE_3__.AudioWrapper(audio);
                      _utils__WEBPACK_IMPORTED_MODULE_3__.finalizationRegistry.register(audioWrapper, audio);
                      return [2, audioWrapper];
                  }
                });
              });
            };
            var decodeImage = function(bytes) {
              return __awaiter(void 0, void 0, void 0, function() {
                var decodedPromise, image, imageWrapper;
                return __generator(this, function(_a) {
                  switch (_a.label) {
                    case 0:
                      decodedPromise = new Promise(function(resolve) {
                        return RuntimeLoader.getInstance(function(rive) {
                          rive.decodeImage(bytes, resolve);
                        });
                      });
                      return [4, decodedPromise];
                    case 1:
                      image = _a.sent();
                      imageWrapper = new _utils__WEBPACK_IMPORTED_MODULE_3__.ImageWrapper(image);
                      _utils__WEBPACK_IMPORTED_MODULE_3__.finalizationRegistry.register(imageWrapper, image);
                      return [2, imageWrapper];
                  }
                });
              });
            };
            var decodeFont = function(bytes) {
              return __awaiter(void 0, void 0, void 0, function() {
                var decodedPromise, font, fontWrapper;
                return __generator(this, function(_a) {
                  switch (_a.label) {
                    case 0:
                      decodedPromise = new Promise(function(resolve) {
                        return RuntimeLoader.getInstance(function(rive) {
                          rive.decodeFont(bytes, resolve);
                        });
                      });
                      return [4, decodedPromise];
                    case 1:
                      font = _a.sent();
                      fontWrapper = new _utils__WEBPACK_IMPORTED_MODULE_3__.FontWrapper(font);
                      _utils__WEBPACK_IMPORTED_MODULE_3__.finalizationRegistry.register(fontWrapper, font);
                      return [2, fontWrapper];
                  }
                });
              });
            };
          })();
          return __webpack_exports__;
        })()
      );
    });
  }
});

// node_modules/@rive-app/react-canvas/dist/index.js
var require_dist = __commonJS({
  "node_modules/@rive-app/react-canvas/dist/index.js"(exports) {
    Object.defineProperty(exports, "__esModule", { value: true });
    var e = require_react();
    var n = require_rive();
    function t(e2) {
      return e2 && "object" == typeof e2 && "default" in e2 ? e2 : { default: e2 };
    }
    var r = t(e);
    var u = function() {
      return u = Object.assign || function(e2) {
        for (var n2, t2 = 1, r2 = arguments.length; t2 < r2; t2++) for (var u2 in n2 = arguments[t2]) Object.prototype.hasOwnProperty.call(n2, u2) && (e2[u2] = n2[u2]);
        return e2;
      }, u.apply(this, arguments);
    };
    function a(e2, n2) {
      var t2 = {};
      for (var r2 in e2) Object.prototype.hasOwnProperty.call(e2, r2) && n2.indexOf(r2) < 0 && (t2[r2] = e2[r2]);
      if (null != e2 && "function" == typeof Object.getOwnPropertySymbols) {
        var u2 = 0;
        for (r2 = Object.getOwnPropertySymbols(e2); u2 < r2.length; u2++) n2.indexOf(r2[u2]) < 0 && Object.prototype.propertyIsEnumerable.call(e2, r2[u2]) && (t2[r2[u2]] = e2[r2[u2]]);
      }
      return t2;
    }
    function i(e2, n2, t2, r2) {
      return new (t2 || (t2 = Promise))(function(u2, a2) {
        function i2(e3) {
          try {
            l2(r2.next(e3));
          } catch (e4) {
            a2(e4);
          }
        }
        function o2(e3) {
          try {
            l2(r2.throw(e3));
          } catch (e4) {
            a2(e4);
          }
        }
        function l2(e3) {
          var n3;
          e3.done ? u2(e3.value) : (n3 = e3.value, n3 instanceof t2 ? n3 : new t2(function(e4) {
            e4(n3);
          })).then(i2, o2);
        }
        l2((r2 = r2.apply(e2, n2 || [])).next());
      });
    }
    function o(e2, n2) {
      var t2, r2, u2, a2, i2 = { label: 0, sent: function() {
        if (1 & u2[0]) throw u2[1];
        return u2[1];
      }, trys: [], ops: [] };
      return a2 = { next: o2(0), throw: o2(1), return: o2(2) }, "function" == typeof Symbol && (a2[Symbol.iterator] = function() {
        return this;
      }), a2;
      function o2(a3) {
        return function(o3) {
          return (function(a4) {
            if (t2) throw new TypeError("Generator is already executing.");
            for (; i2; ) try {
              if (t2 = 1, r2 && (u2 = 2 & a4[0] ? r2.return : a4[0] ? r2.throw || ((u2 = r2.return) && u2.call(r2), 0) : r2.next) && !(u2 = u2.call(r2, a4[1])).done) return u2;
              switch (r2 = 0, u2 && (a4 = [2 & a4[0], u2.value]), a4[0]) {
                case 0:
                case 1:
                  u2 = a4;
                  break;
                case 4:
                  return i2.label++, { value: a4[1], done: false };
                case 5:
                  i2.label++, r2 = a4[1], a4 = [0];
                  continue;
                case 7:
                  a4 = i2.ops.pop(), i2.trys.pop();
                  continue;
                default:
                  if (!(u2 = i2.trys, (u2 = u2.length > 0 && u2[u2.length - 1]) || 6 !== a4[0] && 2 !== a4[0])) {
                    i2 = 0;
                    continue;
                  }
                  if (3 === a4[0] && (!u2 || a4[1] > u2[0] && a4[1] < u2[3])) {
                    i2.label = a4[1];
                    break;
                  }
                  if (6 === a4[0] && i2.label < u2[1]) {
                    i2.label = u2[1], u2 = a4;
                    break;
                  }
                  if (u2 && i2.label < u2[2]) {
                    i2.label = u2[2], i2.ops.push(a4);
                    break;
                  }
                  u2[2] && i2.ops.pop(), i2.trys.pop();
                  continue;
              }
              a4 = n2.call(e2, i2);
            } catch (e3) {
              a4 = [6, e3], r2 = 0;
            } finally {
              t2 = u2 = 0;
            }
            if (5 & a4[0]) throw a4[1];
            return { value: a4[0] ? a4[1] : void 0, done: true };
          })([a3, o3]);
        };
      }
    }
    function l(n2) {
      var t2 = n2 || c(), r2 = e.useState(t2), u2 = r2[0], a2 = r2[1];
      return e.useEffect(function() {
        if ("undefined" != typeof window && "matchMedia" in window) {
          var e2 = function() {
            var e3 = n2 || c();
            a2(e3);
          }, t3 = window.matchMedia("screen and (resolution: ".concat(u2, "dppx)"));
          return t3.hasOwnProperty("addEventListener") ? t3.addEventListener("change", e2) : t3.addListener(e2), function() {
            t3.hasOwnProperty("removeEventListener") ? t3.removeEventListener("change", e2) : t3.removeListener(e2);
          };
        }
      }, [u2, n2]), u2;
    }
    function c() {
      var e2 = "undefined" != typeof window && "number" == typeof window.devicePixelRatio ? window.devicePixelRatio : 1;
      return Math.min(Math.max(1, e2), 3);
    }
    var s = (function() {
      function e2() {
      }
      return e2.prototype.observe = function() {
      }, e2.prototype.unobserve = function() {
      }, e2.prototype.disconnect = function() {
      }, e2;
    })();
    var f = globalThis.ResizeObserver || s;
    var d = void 0 !== globalThis.ResizeObserver;
    var v = !d;
    function p(n2, t2) {
      void 0 === t2 && (t2 = true);
      var r2 = e.useState({ width: 0, height: 0 }), u2 = r2[0], a2 = r2[1];
      e.useEffect(function() {
        if ("undefined" != typeof window && t2) {
          var e2 = function() {
            a2({ width: window.innerWidth, height: window.innerHeight });
          };
          return v && (e2(), window.addEventListener("resize", e2)), function() {
            return window.removeEventListener("resize", e2);
          };
        }
      }, []);
      var i2, o2, l2, c2 = e.useRef(new f((i2 = function(e2) {
        d && a2({ width: e2[e2.length - 1].contentRect.width, height: e2[e2.length - 1].contentRect.height });
      }, o2 = 0, l2 = 0, function() {
        for (var e2 = this, n3 = [], t3 = 0; t3 < arguments.length; t3++) n3[t3] = arguments[t3];
        clearTimeout(l2), l2 = window.setTimeout(function() {
          return i2.apply(e2, n3);
        }, o2);
      })));
      return e.useEffect(function() {
        var e2 = c2.current;
        if (t2) {
          var r3 = n2.current;
          return n2.current && d && e2.observe(n2.current), function() {
            e2.disconnect(), r3 && d && e2.unobserve(r3);
          };
        }
        e2.disconnect();
      }, [n2, c2]), u2;
    }
    var h = { useDevicePixelRatio: true, fitCanvasToArtboardHeight: false, useOffscreenRenderer: true, shouldResizeCanvasToContainer: true };
    function b(e2) {
      return Object.assign({}, h, e2);
    }
    function g(n2) {
      var t2 = n2.riveLoaded, r2 = void 0 !== t2 && t2, u2 = n2.canvasElem, a2 = n2.containerRef, i2 = n2.options, o2 = void 0 === i2 ? {} : i2, c2 = n2.onCanvasHasResized, s2 = n2.artboardBounds, f2 = b(o2), d2 = e.useState({ height: 0, width: 0 }), v2 = d2[0], h2 = v2.height, g2 = v2.width, y2 = d2[1], w2 = e.useState({ height: 0, width: 0 }), m2 = w2[0], C2 = m2.height, R2 = m2.width, E2 = w2[1], V2 = e.useState(true), x2 = V2[0], k = V2[1], O = f2.fitCanvasToArtboardHeight, I = f2.shouldResizeCanvasToContainer, P = f2.useDevicePixelRatio, M = f2.customDevicePixelRatio, T = p(a2, I), S = l(M), D = null != s2 ? s2 : {}, L = D.maxX, A = D.maxY, z = e.useCallback(function() {
        var e2, n3, t3, r3, u3 = null !== (n3 = null === (e2 = a2.current) || void 0 === e2 ? void 0 : e2.clientWidth) && void 0 !== n3 ? n3 : 0, i3 = null !== (r3 = null === (t3 = a2.current) || void 0 === t3 ? void 0 : t3.clientHeight) && void 0 !== r3 ? r3 : 0;
        return O && s2 ? { width: u3, height: u3 * (s2.maxY / s2.maxX) } : { width: u3, height: i3 };
      }, [a2, O, L, A]);
      e.useEffect(function() {
        if (I && a2.current && r2) {
          var e2 = z(), n3 = e2.width, t3 = e2.height, i3 = false;
          if (u2) {
            var o3 = n3 !== g2 || t3 !== h2;
            if (f2.fitCanvasToArtboardHeight && o3 && (a2.current.style.height = t3 + "px", i3 = true), f2.useDevicePixelRatio) {
              if (o3 || (n3 * S !== R2 || t3 * S !== C2)) {
                var l2 = S * n3, s3 = S * t3;
                u2.width = l2, u2.height = s3, u2.style.width = n3 + "px", u2.style.height = t3 + "px", E2({ width: l2, height: s3 }), i3 = true;
              }
            } else o3 && (u2.width = n3, u2.height = t3, E2({ width: n3, height: t3 }), i3 = true);
            y2({ width: n3, height: t3 });
          }
          c2 && (x2 || i3) && c2 && c2(), x2 && k(false);
        }
      }, [u2, a2, T, S, z, x2, k, C2, R2, h2, g2, c2, I, O, P, r2]), e.useEffect(function() {
        E2({ width: 0, height: 0 });
      }, [u2]);
    }
    var y;
    var w = (function() {
      function e2() {
      }
      return e2.prototype.observe = function() {
      }, e2.prototype.unobserve = function() {
      }, e2.prototype.disconnect = function() {
      }, e2;
    })();
    var m = globalThis.IntersectionObserver || w;
    var C = (function() {
      function e2() {
        var e3 = this;
        this.elementsMap = /* @__PURE__ */ new Map(), this.onObserved = function(n2) {
          n2.forEach(function(n3) {
            var t2 = e3.elementsMap.get(n3.target);
            t2 && t2(n3);
          });
        }, this.observer = new m(this.onObserved);
      }
      return e2.prototype.registerCallback = function(e3, n2) {
        this.observer.observe(e3), this.elementsMap.set(e3, n2);
      }, e2.prototype.removeCallback = function(e3) {
        this.observer.unobserve(e3), this.elementsMap.delete(e3);
      }, e2;
    })();
    var R = function() {
      return y || (y = new C()), y;
    };
    function E(e2) {
      var n2 = e2.setContainerRef, t2 = e2.setCanvasRef, i2 = e2.className, o2 = void 0 === i2 ? "" : i2, l2 = e2.style, c2 = e2.children, s2 = a(e2, ["setContainerRef", "setCanvasRef", "className", "style", "children"]), f2 = u({ width: "100%", height: "100%" }, l2);
      return r.default.createElement("div", u({ ref: n2, className: o2 }, !o2 && { style: f2 }), r.default.createElement("canvas", u({ ref: t2, style: { verticalAlign: "top", width: 0, height: 0 } }, s2), c2));
    }
    function V(t2, i2) {
      void 0 === i2 && (i2 = {});
      var o2 = e.useState(null), c2 = o2[0], s2 = o2[1], f2 = e.useRef(null), d2 = e.useRef(null), v2 = e.useState(null), p2 = v2[0], h2 = v2[1], y2 = Boolean(t2), w2 = b(i2), m2 = l(), C2 = e.useCallback(function() {
        if (p2) {
          if (p2.layout && p2.layout.fit === n.Fit.Layout && c2) {
            var e2 = m2 * p2.layout.layoutScaleFactor;
            p2.devicePixelRatioUsed = m2, p2.artboardWidth = (null == c2 ? void 0 : c2.width) / e2, p2.artboardHeight = (null == c2 ? void 0 : c2.height) / e2;
          }
          p2.startRendering(), p2.resizeToCanvas();
        }
      }, [p2, m2]);
      g({ riveLoaded: !!p2, canvasElem: c2, containerRef: f2, options: w2, onCanvasHasResized: C2, artboardBounds: null == p2 ? void 0 : p2.bounds });
      var V2 = e.useCallback(function(e2) {
        null === e2 && c2 && (c2.height = 0, c2.width = 0), s2(e2);
      }, []);
      e.useEffect(function() {
        if (c2 && t2) {
          var e2, r2 = null != p2;
          if (null == p2) {
            var i3 = w2.useOffscreenRenderer, o3 = t2.onRiveReady, l2 = a(t2, ["onRiveReady"]);
            e2 = new n.Rive(u(u({ useOffscreenRenderer: i3 }, l2), { canvas: c2 })), null != d2.current && d2.current.cleanup(), d2.current = e2, e2.on(n.EventType.Load, function() {
              r2 = true, o3 && o3(e2), c2 ? h2(e2) : e2.cleanup();
            });
          }
          return function() {
            r2 || null == e2 || e2.cleanup();
          };
        }
      }, [c2, y2, p2]);
      var x2 = e.useCallback(function(e2) {
        f2.current = e2;
      }, []), k = { observe: e.useCallback(function(e2, n2) {
        R().registerCallback(e2, n2);
      }, []), unobserve: e.useCallback(function(e2) {
        R().removeCallback(e2);
      }, []) }, O = k.observe, I = k.unobserve;
      e.useEffect(function() {
        var e2, n2 = false, t3 = function() {
          if (c2 && n2) {
            var e3 = c2.getBoundingClientRect();
            e3.width > 0 && e3.height > 0 && e3.top < (window.innerHeight || document.documentElement.clientHeight) && e3.bottom > 0 && e3.left < (window.innerWidth || document.documentElement.clientWidth) && e3.right > 0 && (null == p2 || p2.startRendering(), n2 = false);
          }
        };
        return c2 && false !== w2.shouldUseIntersectionObserver && O(c2, function(r2) {
          r2.isIntersecting ? p2 && p2.startRendering() : p2 && p2.stopRendering(), n2 = !r2.isIntersecting, clearTimeout(e2), r2.isIntersecting || 0 !== r2.boundingClientRect.width || (e2 = setTimeout(t3, 10));
        }), function() {
          c2 && I(c2);
        };
      }, [O, I, p2, c2, w2.shouldUseIntersectionObserver]), e.useEffect(function() {
        return function() {
          p2 && (p2.cleanup(), h2(null));
        };
      }, [p2, c2]), e.useEffect(function() {
        return function() {
          null != d2.current && d2.current.cleanup();
        };
      }, []);
      var P = null == t2 ? void 0 : t2.animations;
      e.useEffect(function() {
        p2 && P && (p2.isPlaying ? (p2.stop(p2.animationNames), p2.play(P)) : p2.isPaused && (p2.stop(p2.animationNames), p2.pause(P)));
      }, [P, p2]);
      var M = e.useCallback(function(e2) {
        return r.default.createElement(E, u({ setContainerRef: x2, setCanvasRef: V2 }, e2));
      }, [V2, x2]);
      return { canvas: c2, container: f2.current, setCanvasRef: V2, setContainerRef: x2, rive: p2, RiveComponent: M };
    }
    function x(n2, t2, r2) {
      var a2 = e.useState(null), i2 = a2[0], o2 = a2[1], l2 = e.useState(r2.defaultValue), c2 = l2[0], s2 = l2[1], f2 = e.useState(null), d2 = f2[0], v2 = f2[1], p2 = e.useRef(null), h2 = e.useRef(n2), b2 = e.useRef(r2);
      e.useEffect(function() {
        b2.current = r2;
      }, [r2]);
      var g2 = e.useCallback(function() {
        var e2 = p2.current, n3 = h2.current, t3 = b2.current;
        if (!e2 || !n3) return o2(null), s2(t3.defaultValue), v2(null), function() {
        };
        var r3 = t3.getProperty(e2, n3);
        if (r3) {
          o2(r3), s2(t3.getValue(r3)), t3.getExtendedData && v2(t3.getExtendedData(r3));
          var u2 = function() {
            s2(t3.getValue(r3)), t3.getExtendedData && v2(t3.getExtendedData(r3)), t3.onPropertyEvent && t3.onPropertyEvent();
          };
          return r3.on(u2), function() {
            r3.off(u2);
          };
        }
        return function() {
        };
      }, []);
      e.useEffect(function() {
        return p2.current = t2, h2.current = n2, g2();
      }, [t2, n2, g2]);
      var y2 = e.useCallback(function(e2) {
        if (i2 && p2.current === t2) try {
          return e2(i2), void (b2.current.getExtendedData && v2(b2.current.getExtendedData(i2)));
        } catch (e3) {
        }
        if (p2.current) try {
          var n3 = b2.current.getProperty(p2.current, h2.current);
          n3 && (o2(n3), e2(n3), b2.current.getExtendedData && v2(b2.current.getExtendedData(n3)));
        } catch (e3) {
        }
      }, [i2, t2]), w2 = e.useMemo(function() {
        return b2.current.buildPropertyOperations(y2);
      }, [y2]), m2 = u({ value: c2 }, w2);
      return r2.getExtendedData && (m2.extendedData = d2), m2;
    }
    exports.default = function(e2) {
      var n2 = e2.src, t2 = e2.artboard, i2 = e2.animations, o2 = e2.stateMachines, l2 = e2.layout, c2 = e2.useOffscreenRenderer, s2 = void 0 === c2 || c2, f2 = e2.shouldDisableRiveListeners, d2 = void 0 !== f2 && f2, v2 = e2.shouldResizeCanvasToContainer, p2 = void 0 === v2 || v2, h2 = e2.automaticallyHandleEvents, b2 = void 0 !== h2 && h2, g2 = e2.children, y2 = a(e2, ["src", "artboard", "animations", "stateMachines", "layout", "useOffscreenRenderer", "shouldDisableRiveListeners", "shouldResizeCanvasToContainer", "automaticallyHandleEvents", "children"]), w2 = V({ src: n2, artboard: t2, animations: i2, layout: l2, stateMachines: o2, autoplay: true, shouldDisableRiveListeners: d2, automaticallyHandleEvents: b2 }, { useOffscreenRenderer: s2, shouldResizeCanvasToContainer: p2 }).RiveComponent;
      return r.default.createElement(w2, u({}, y2), g2);
    }, exports.useResizeCanvas = g, exports.useRive = V, exports.useRiveFile = function(t2) {
      var r2 = this, u2 = e.useState(null), a2 = u2[0], l2 = u2[1], c2 = e.useState("idle"), s2 = c2[0], f2 = c2[1];
      return e.useEffect(function() {
        var e2 = null;
        return i(r2, void 0, void 0, function() {
          return o(this, function(r3) {
            try {
              f2("loading"), (e2 = new n.RiveFile(t2)).init(), e2.on(n.EventType.Load, function() {
                null == e2 || e2.getInstance(), l2(e2), f2("success");
              }), e2.on(n.EventType.LoadError, function() {
                f2("failed");
              }), l2(e2);
            } catch (e3) {
              console.error(e3), f2("failed");
            }
            return [2];
          });
        }), function() {
          null == e2 || e2.cleanup();
        };
      }, [t2.src, t2.buffer]), { riveFile: a2, status: s2 };
    }, exports.useStateMachineInput = function(t2, r2, u2, a2) {
      var i2 = e.useState(null), o2 = i2[0], l2 = i2[1];
      return e.useEffect(function() {
        function e2() {
          if (t2 && r2 && u2 || l2(null), t2 && r2 && u2) {
            var e3 = t2.stateMachineInputs(r2);
            if (e3) {
              var n2 = e3.find(function(e4) {
                return e4.name === u2;
              });
              void 0 !== a2 && n2 && (n2.value = a2), l2(n2 || null);
            }
          } else l2(null);
        }
        e2(), t2 && t2.on(n.EventType.Load, function() {
          e2();
        });
      }, [t2]), o2;
    }, exports.useViewModel = function(t2, r2) {
      var u2 = null != r2 ? r2 : {}, a2 = u2.name, i2 = u2.useDefault, o2 = void 0 !== i2 && i2, l2 = e.useState(null), c2 = l2[0], s2 = l2[1];
      return e.useEffect(function() {
        function e2() {
          var e3;
          if (t2) {
            var n2 = null;
            n2 = null != a2 ? (null === (e3 = t2.viewModelByName) || void 0 === e3 ? void 0 : e3.call(t2, a2)) || null : t2.defaultViewModel() || null, s2(n2);
          } else s2(null);
        }
        return e2(), t2 && t2.on(n.EventType.Load, e2), function() {
          t2 && t2.off(n.EventType.Load, e2);
        };
      }, [t2, a2, o2]), c2;
    }, exports.useViewModelInstance = function(n2, t2) {
      var r2 = null != t2 ? t2 : {}, u2 = r2.name, a2 = r2.useDefault, i2 = void 0 !== a2 && a2, o2 = r2.useNew, l2 = void 0 !== o2 && o2, c2 = r2.rive, s2 = e.useState(null), f2 = s2[0], d2 = s2[1];
      return e.useEffect(function() {
        var e2, t3, r3;
        if (n2) {
          var a3 = null;
          a3 = null != u2 ? n2.instanceByName(u2) || null : i2 ? (null === (e2 = n2.defaultInstance) || void 0 === e2 ? void 0 : e2.call(n2)) || null : l2 ? (null === (t3 = n2.instance) || void 0 === t3 ? void 0 : t3.call(n2)) || null : (null === (r3 = n2.defaultInstance) || void 0 === r3 ? void 0 : r3.call(n2)) || null, d2(a3), c2 && a3 && c2.viewModelInstance !== a3 && c2.bindViewModelInstance(a3);
        } else d2(null);
      }, [n2, u2, i2, l2, c2]), f2;
    }, exports.useViewModelInstanceArtboard = function(n2, t2) {
      return { setValue: x(n2, t2, { getProperty: e.useCallback(function(e2, n3) {
        return e2.artboard(n3);
      }, []), getValue: e.useCallback(function() {
      }, []), defaultValue: null, buildPropertyOperations: e.useCallback(function(e2) {
        return { setValue: function(n3) {
          e2(function(e3) {
            e3.value = n3;
          });
        } };
      }, []) }).setValue };
    }, exports.useViewModelInstanceBoolean = function(n2, t2) {
      var r2 = x(n2, t2, { getProperty: e.useCallback(function(e2, n3) {
        return e2.boolean(n3);
      }, []), getValue: e.useCallback(function(e2) {
        return e2.value;
      }, []), defaultValue: null, buildPropertyOperations: e.useCallback(function(e2) {
        return { setValue: function(n3) {
          e2(function(e3) {
            e3.value = n3;
          });
        } };
      }, []) });
      return { value: r2.value, setValue: r2.setValue };
    }, exports.useViewModelInstanceColor = function(n2, t2) {
      var r2 = x(n2, t2, { getProperty: e.useCallback(function(e2, n3) {
        return e2.color(n3);
      }, []), getValue: e.useCallback(function(e2) {
        return e2.value;
      }, []), defaultValue: null, buildPropertyOperations: e.useCallback(function(e2) {
        return { setValue: function(n3) {
          e2(function(e3) {
            e3.value = n3;
          });
        }, setRgb: function(n3, t3, r3) {
          e2(function(e3) {
            e3.rgb(n3, t3, r3);
          });
        }, setRgba: function(n3, t3, r3, u2) {
          e2(function(e3) {
            e3.rgba(n3, t3, r3, u2);
          });
        }, setAlpha: function(n3) {
          e2(function(e3) {
            e3.alpha(n3);
          });
        }, setOpacity: function(n3) {
          e2(function(e3) {
            e3.opacity(n3);
          });
        } };
      }, []) });
      return { value: r2.value, setValue: r2.setValue, setRgb: r2.setRgb, setRgba: r2.setRgba, setAlpha: r2.setAlpha, setOpacity: r2.setOpacity };
    }, exports.useViewModelInstanceEnum = function(n2, t2) {
      var r2 = x(n2, t2, { getProperty: e.useCallback(function(e2, n3) {
        return e2.enum(n3);
      }, []), getValue: e.useCallback(function(e2) {
        return e2.value;
      }, []), defaultValue: null, getExtendedData: e.useCallback(function(e2) {
        return e2.values;
      }, []), buildPropertyOperations: e.useCallback(function(e2) {
        return { setValue: function(n3) {
          e2(function(e3) {
            e3.value = n3;
          });
        } };
      }, []) });
      return { value: r2.value, values: r2.extendedData || [], setValue: r2.setValue };
    }, exports.useViewModelInstanceImage = function(n2, t2) {
      return { setValue: x(n2, t2, { getProperty: e.useCallback(function(e2, n3) {
        return e2.image(n3);
      }, []), getValue: e.useCallback(function() {
      }, []), defaultValue: null, buildPropertyOperations: e.useCallback(function(e2) {
        return { setValue: function(n3) {
          e2(function(e3) {
            e3.value = n3;
          });
        } };
      }, []) }).setValue };
    }, exports.useViewModelInstanceList = function(n2, t2) {
      var r2, u2 = e.useState(0)[1], a2 = x(n2, t2, { getProperty: e.useCallback(function(e2, n3) {
        return e2.list(n3);
      }, []), getValue: e.useCallback(function(e2) {
        return e2.length;
      }, []), defaultValue: null, onPropertyEvent: function() {
        u2(function(e2) {
          return e2 + 1;
        });
      }, buildPropertyOperations: e.useCallback(function(e2) {
        return { addInstance: function(n3) {
          e2(function(e3) {
            return e3.addInstance(n3);
          });
        }, addInstanceAt: function(n3, t3) {
          var r3 = false;
          return e2(function(e3) {
            r3 = e3.addInstanceAt(n3, t3);
          }), r3;
        }, removeInstance: function(n3) {
          e2(function(e3) {
            return e3.removeInstance(n3);
          });
        }, removeInstanceAt: function(n3) {
          e2(function(e3) {
            return e3.removeInstanceAt(n3);
          });
        }, getInstanceAt: function(n3) {
          var t3 = null;
          return e2(function(e3) {
            t3 = e3.instanceAt(n3);
          }), t3;
        }, swap: function(n3, t3) {
          e2(function(e3) {
            return e3.swap(n3, t3);
          });
        } };
      }, []) });
      return { length: null !== (r2 = a2.value) && void 0 !== r2 ? r2 : 0, addInstance: a2.addInstance, addInstanceAt: a2.addInstanceAt, removeInstance: a2.removeInstance, removeInstanceAt: a2.removeInstanceAt, getInstanceAt: a2.getInstanceAt, swap: a2.swap };
    }, exports.useViewModelInstanceNumber = function(n2, t2) {
      var r2 = x(n2, t2, { getProperty: e.useCallback(function(e2, n3) {
        return e2.number(n3);
      }, []), getValue: e.useCallback(function(e2) {
        return e2.value;
      }, []), defaultValue: null, buildPropertyOperations: e.useCallback(function(e2) {
        return { setValue: function(n3) {
          e2(function(e3) {
            e3.value = n3;
          });
        } };
      }, []) });
      return { value: r2.value, setValue: r2.setValue };
    }, exports.useViewModelInstanceString = function(n2, t2) {
      var r2 = x(n2, t2, { getProperty: e.useCallback(function(e2, n3) {
        return e2.string(n3);
      }, []), getValue: e.useCallback(function(e2) {
        return e2.value;
      }, []), defaultValue: null, buildPropertyOperations: e.useCallback(function(e2) {
        return { setValue: function(n3) {
          e2(function(e3) {
            e3.value = n3;
          });
        } };
      }, []) });
      return { value: r2.value, setValue: r2.setValue };
    }, exports.useViewModelInstanceTrigger = function(n2, t2, r2) {
      var u2 = (null != r2 ? r2 : {}).onTrigger;
      return { trigger: x(n2, t2, { getProperty: e.useCallback(function(e2, n3) {
        return e2.trigger(n3);
      }, []), getValue: e.useCallback(function() {
      }, []), defaultValue: null, onPropertyEvent: u2, buildPropertyOperations: e.useCallback(function(e2) {
        return { trigger: function() {
          e2(function(e3) {
            e3.trigger();
          });
        } };
      }, []) }).trigger };
    }, Object.keys(n).forEach(function(e2) {
      "default" === e2 || exports.hasOwnProperty(e2) || Object.defineProperty(exports, e2, { enumerable: true, get: function() {
        return n[e2];
      } });
    });
  }
});
export default require_dist();
//# sourceMappingURL=@rive-app_react-canvas.js.map
